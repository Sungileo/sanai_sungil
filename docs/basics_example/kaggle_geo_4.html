<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungil Park">
<meta name="dcterms.date" content="2023-03-02">
<meta name="description" content="Kaggle Geospatial Analysis (4/5)">

<title>Sungil_Park - Manipulating Geospatial Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sungil_Park</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kaggle_geo.html" rel="" target="">
 <span class="menu-text">Basics example</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../recordings.html" rel="" target="">
 <span class="menu-text">Recordings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contact" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Contact</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contact">    
        <li>
    <a class="dropdown-item" href="https://github.com/Sungileo" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">Github</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://kr.linkedin.com/in/sungilfromcheonankorea" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">Linkedin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.instagram.com/da_real_sungil" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="dropdown-text">Instagram</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#table-joins" id="toc-table-joins" class="nav-link" data-scroll-target="#table-joins">Table joins</a>
  <ul class="collapse">
  <li><a href="#attribute-join" id="toc-attribute-join" class="nav-link" data-scroll-target="#attribute-join">Attribute join</a></li>
  </ul></li>
  <li><a href="#spatial-join" id="toc-spatial-join" class="nav-link" data-scroll-target="#spatial-join">Spatial join</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#geocode-the-missing-locations." id="toc-geocode-the-missing-locations." class="nav-link" data-scroll-target="#geocode-the-missing-locations.">Geocode the missing locations.</a></li>
  <li><a href="#view-berkeley-locations" id="toc-view-berkeley-locations" class="nav-link" data-scroll-target="#view-berkeley-locations">View Berkeley locations</a></li>
  <li><a href="#consolidate-your-data" id="toc-consolidate-your-data" class="nav-link" data-scroll-target="#consolidate-your-data">Consolidate your data</a></li>
  <li><a href="#which-counties-look-promising" id="toc-which-counties-look-promising" class="nav-link" data-scroll-target="#which-counties-look-promising">Which counties look promising?</a></li>
  <li><a href="#how-many-stores-did-you-identify" id="toc-how-many-stores-did-you-identify" class="nav-link" data-scroll-target="#how-many-stores-did-you-identify">How many stores did you identify?</a></li>
  <li><a href="#visualize-the-store-locations." id="toc-visualize-the-store-locations." class="nav-link" data-scroll-target="#visualize-the-store-locations.">Visualize the store locations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manipulating Geospatial Data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Kaggle tutorial</div>
  </div>
  </div>

<div>
  <div class="description">
    Kaggle Geospatial Analysis (4/5)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungil Park </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>이 튜토리얼에서는 Geocoding과 Table join이라는 두 가지 지리적 공간 데이터에 대한 일반적인 조작에 대해 알아봅니다.</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>지오코딩은 장소 이름이나 주소를 지도상의 위치로 변환하는 프로세스입니다. 예를 들어 Google 지도, Bing 지도 등에서 랜드마크 설명을 기반으로 지리적 위치를 찾아본 적이 있다면 지오코딩을 사용해 본 적이 있을 것입니다</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium <span class="im">import</span> Marker</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 코드 셀에서 <code>Nominatim</code>은 위치를 생성하는 데 사용되는 지오코딩 소프트웨어를 나타냅니다.</p>
<p>지오코더를 인스턴스화하는 것으로 시작합니다. 그런 다음 이름이나 주소를 Python 문자열로 적용하기만 하면 됩니다. (이 경우, 기자의 대피라미드라고도 알려진 “쿠푸의 피라미드”를 제공합니다.)</p>
<p>지오코딩이 성공하면 두 가지 중요한 속성이 있는 geopy.location.Location 객체를 반환합니다:</p>
<ul>
<li><p><code>point</code> 속성에는 (위도, 경도) 위치가 포함되고</p></li>
<li><p><code>address</code> 속성은 전체 주소를 포함합니다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>location <span class="op">=</span> geolocator.geocode(<span class="st">"Pyramid of Khufu"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>29 58m 44.976s N, 31 8m 3.17625s E</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>هرم خوفو, شارع ابو الهول السياحي, نزلة البطران, الجيزة, 12125, مصر</code></pre>
</div>
</div>
<p><code>point</code> 속성의 값은 <code>geopy.point.Point</code> 객체이며, <code>latitude</code> 및 <code>longitude</code> 속성에서 각각 위도와 경도를 가져올 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> location.point</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Latitude:"</span>, point.latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Latitude: 29.97916</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Longitude:"</span>, point.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Longitude: 31.134215625236113</code></pre>
</div>
</div>
<p>다양한 주소를 지오코딩해야 하는 경우가 종종 있습니다. 예를 들어 유럽에 있는 상위 100개 대학의 위치를 파악하고 싶다고 가정해 보겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> pd.read_csv(<span class="st">"/home/sungil/dataset/archive/top_universities.csv"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name
0     University of Oxford
1  University of Cambridge
2  Imperial College London
3               ETH Zurich
4                      UCL</code></pre>
</div>
</div>
<p>그런 다음 람다 함수를 사용하여 데이터 프레임의 모든 행에 지오코딩을 적용할 수 있습니다.</p>
<p>(지오코딩이 실패할 경우를 대비하여 try/except 문을 사용합니다.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>universities[[<span class="st">'Latitude'</span>, <span class="st">'Longitude'</span>]] <span class="op">=</span> universities.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Name'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}% o</span><span class="st">f addresses were geocoded!"</span>.<span class="bu">format</span>(</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(np.isnan(universities[<span class="st">"Latitude"</span>])) <span class="op">/</span> <span class="bu">len</span>(universities)) <span class="op">*</span> <span class="dv">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>91.0% of addresses were geocoded!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop universities that were not successfully geocoded</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> universities.loc[<span class="op">~</span>np.isnan(universities[<span class="st">"Latitude"</span>])]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    universities, geometry<span class="op">=</span>gpd.points_from_xy(universities.Longitude, universities.Latitude))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>universities.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name   Latitude  Longitude                   geometry
0     University of Oxford  51.759037  -1.252430  POINT (-1.25243 51.75904)
1  University of Cambridge  52.200623   0.110474   POINT (0.11047 52.20062)
2  Imperial College London  51.498959  -0.175641  POINT (-0.17564 51.49896)
3               ETH Zurich  47.562772   7.580947   POINT (7.58095 47.56277)
4                      UCL  51.521785  -0.135151  POINT (-0.13515 51.52179)</code></pre>
</div>
</div>
<p>다음으로 지오코더가 반환한 모든 위치를 시각화합니다. 일부 위치는 유럽이 아니기 때문에 확실히 부정확하다는 것을 알 수 있습니다!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a map</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="dv">54</span>, <span class="dv">15</span>], tiles<span class="op">=</span><span class="st">'openstreetmap'</span>, zoom_start<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> universities.iterrows():</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]], popup<span class="op">=</span>row[<span class="st">'Name'</span>]).add_to(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x7f0d7832ba00&gt;
&lt;folium.map.Marker object at 0x7f0d7833e070&gt;
&lt;folium.map.Marker object at 0x7f0d7832bca0&gt;
&lt;folium.map.Marker object at 0x7f0d7832b0d0&gt;
&lt;folium.map.Marker object at 0x7f0d78345f40&gt;
&lt;folium.map.Marker object at 0x7f0d783455e0&gt;
&lt;folium.map.Marker object at 0x7f0d78345ca0&gt;
&lt;folium.map.Marker object at 0x7f0d78345ac0&gt;
&lt;folium.map.Marker object at 0x7f0d78345cd0&gt;
&lt;folium.map.Marker object at 0x7f0d78345a60&gt;
&lt;folium.map.Marker object at 0x7f0d78345520&gt;
&lt;folium.map.Marker object at 0x7f0d783457c0&gt;
&lt;folium.map.Marker object at 0x7f0d78345640&gt;
&lt;folium.map.Marker object at 0x7f0d78345580&gt;
&lt;folium.map.Marker object at 0x7f0d78345430&gt;
&lt;folium.map.Marker object at 0x7f0d783452b0&gt;
&lt;folium.map.Marker object at 0x7f0d78345e50&gt;
&lt;folium.map.Marker object at 0x7f0d7835df40&gt;
&lt;folium.map.Marker object at 0x7f0d7833e2b0&gt;
&lt;folium.map.Marker object at 0x7f0d7833e040&gt;
&lt;folium.map.Marker object at 0x7f0d7833e520&gt;
&lt;folium.map.Marker object at 0x7f0d7832bf40&gt;
&lt;folium.map.Marker object at 0x7f0d7832b4c0&gt;
&lt;folium.map.Marker object at 0x7f0d7832bbb0&gt;
&lt;folium.map.Marker object at 0x7f0d7832b2b0&gt;
&lt;folium.map.Marker object at 0x7f0d7832b8b0&gt;
&lt;folium.map.Marker object at 0x7f0d7832b3a0&gt;
&lt;folium.map.Marker object at 0x7f0d7832b0a0&gt;
&lt;folium.map.Marker object at 0x7f0d782db250&gt;
&lt;folium.map.Marker object at 0x7f0d782db0d0&gt;
&lt;folium.map.Marker object at 0x7f0d782db610&gt;
&lt;folium.map.Marker object at 0x7f0d782dbe20&gt;
&lt;folium.map.Marker object at 0x7f0d782db760&gt;
&lt;folium.map.Marker object at 0x7f0d782dbb20&gt;
&lt;folium.map.Marker object at 0x7f0d782dbee0&gt;
&lt;folium.map.Marker object at 0x7f0d782dbdc0&gt;
&lt;folium.map.Marker object at 0x7f0d782db310&gt;
&lt;folium.map.Marker object at 0x7f0d782d0850&gt;
&lt;folium.map.Marker object at 0x7f0d782d0610&gt;
&lt;folium.map.Marker object at 0x7f0d782d0d00&gt;
&lt;folium.map.Marker object at 0x7f0d782d0c10&gt;
&lt;folium.map.Marker object at 0x7f0d782d0a00&gt;
&lt;folium.map.Marker object at 0x7f0d782d0ca0&gt;
&lt;folium.map.Marker object at 0x7f0d782d06d0&gt;
&lt;folium.map.Marker object at 0x7f0d782d0790&gt;
&lt;folium.map.Marker object at 0x7f0d782d0cd0&gt;
&lt;folium.map.Marker object at 0x7f0d782d0250&gt;
&lt;folium.map.Marker object at 0x7f0d782d0460&gt;
&lt;folium.map.Marker object at 0x7f0d782d0e50&gt;
&lt;folium.map.Marker object at 0x7f0d783575b0&gt;
&lt;folium.map.Marker object at 0x7f0d783570a0&gt;
&lt;folium.map.Marker object at 0x7f0d78357430&gt;
&lt;folium.map.Marker object at 0x7f0d783577f0&gt;
&lt;folium.map.Marker object at 0x7f0d78357460&gt;
&lt;folium.map.Marker object at 0x7f0d783572b0&gt;
&lt;folium.map.Marker object at 0x7f0d78357040&gt;
&lt;folium.map.Marker object at 0x7f0d78357280&gt;
&lt;folium.map.Marker object at 0x7f0d78357e20&gt;
&lt;folium.map.Marker object at 0x7f0d78357be0&gt;
&lt;folium.map.Marker object at 0x7f0d783d7730&gt;
&lt;folium.map.Marker object at 0x7f0d783d7940&gt;
&lt;folium.map.Marker object at 0x7f0d783d73d0&gt;
&lt;folium.map.Marker object at 0x7f0d783d7310&gt;
&lt;folium.map.Marker object at 0x7f0d783d7c10&gt;
&lt;folium.map.Marker object at 0x7f0d783d7820&gt;
&lt;folium.map.Marker object at 0x7f0d783d7d60&gt;
&lt;folium.map.Marker object at 0x7f0d783d7340&gt;
&lt;folium.map.Marker object at 0x7f0d78339cd0&gt;
&lt;folium.map.Marker object at 0x7f0d78339fd0&gt;
&lt;folium.map.Marker object at 0x7f0d78339340&gt;
&lt;folium.map.Marker object at 0x7f0d78339d00&gt;
&lt;folium.map.Marker object at 0x7f0d783394c0&gt;
&lt;folium.map.Marker object at 0x7f0d78339a60&gt;
&lt;folium.map.Marker object at 0x7f0d78339670&gt;
&lt;folium.map.Marker object at 0x7f0d78339820&gt;
&lt;folium.map.Marker object at 0x7f0d78339730&gt;
&lt;folium.map.Marker object at 0x7f0d783392e0&gt;
&lt;folium.map.Marker object at 0x7f0d783395e0&gt;
&lt;folium.map.Marker object at 0x7f0d78339040&gt;
&lt;folium.map.Marker object at 0x7f0d783391c0&gt;
&lt;folium.map.Marker object at 0x7f0d783cf670&gt;
&lt;folium.map.Marker object at 0x7f0d783cf7f0&gt;
&lt;folium.map.Marker object at 0x7f0d783cf910&gt;
&lt;folium.map.Marker object at 0x7f0d783dba00&gt;
&lt;folium.map.Marker object at 0x7f0d783dbe50&gt;
&lt;folium.map.Marker object at 0x7f0d78359a60&gt;
&lt;folium.map.Marker object at 0x7f0d78359a90&gt;
&lt;folium.map.Marker object at 0x7f0d78359820&gt;
&lt;folium.map.Marker object at 0x7f0d78547a00&gt;
&lt;folium.map.Marker object at 0x7f0d78541c40&gt;
&lt;folium.map.Marker object at 0x7f0d78320f40&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_9b2897fa2a6427a4effc68678a1ec6d3 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_9b2897fa2a6427a4effc68678a1ec6d3&quot; ></div>
        
</body>
<script>
    
    
            var map_9b2897fa2a6427a4effc68678a1ec6d3 = L.map(
                &quot;map_9b2897fa2a6427a4effc68678a1ec6d3&quot;,
                {
                    center: [54.0, 15.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 2,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_971f9dfa652ba8660f2f3508326cdf8d = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
            var marker_13d6d8b2885cbbce250ac15390f60fc6 = L.marker(
                [51.7590373, -1.2524298],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_cf3be0c83d80d0ca6862e7a041ad388f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1a235fd7d00b822c23162db39fbd5ec3 = $(`<div id=&quot;html_1a235fd7d00b822c23162db39fbd5ec3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oxford</div>`)[0];
                popup_cf3be0c83d80d0ca6862e7a041ad388f.setContent(html_1a235fd7d00b822c23162db39fbd5ec3);
            
        

        marker_13d6d8b2885cbbce250ac15390f60fc6.bindPopup(popup_cf3be0c83d80d0ca6862e7a041ad388f)
        ;

        
    
    
            var marker_a9763ba5c63941e7802b9ce64b41c33b = L.marker(
                [52.2006233, 0.1104744],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_cd8c8ccd288124ae9fb637a951471a37 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cb53a4d5b236fdf47f58e1c63bb9c3d5 = $(`<div id=&quot;html_cb53a4d5b236fdf47f58e1c63bb9c3d5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cambridge</div>`)[0];
                popup_cd8c8ccd288124ae9fb637a951471a37.setContent(html_cb53a4d5b236fdf47f58e1c63bb9c3d5);
            
        

        marker_a9763ba5c63941e7802b9ce64b41c33b.bindPopup(popup_cd8c8ccd288124ae9fb637a951471a37)
        ;

        
    
    
            var marker_3b1f6d6c44c20c60709a1d6783c2613e = L.marker(
                [51.4989595, -0.17564069276310426],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_dd708962903f391705e75e956dc416a3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fec55821371b087be09043773418dfb2 = $(`<div id=&quot;html_fec55821371b087be09043773418dfb2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Imperial College London</div>`)[0];
                popup_dd708962903f391705e75e956dc416a3.setContent(html_fec55821371b087be09043773418dfb2);
            
        

        marker_3b1f6d6c44c20c60709a1d6783c2613e.bindPopup(popup_dd708962903f391705e75e956dc416a3)
        ;

        
    
    
            var marker_21df826a5e301ebb038d0060b6f66148 = L.marker(
                [47.56277165, 7.580947334069263],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_af03480c56140e73dc271b5cbc447cfd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d52d0b27a4f58847d9b568b170377fa4 = $(`<div id=&quot;html_d52d0b27a4f58847d9b568b170377fa4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>ETH Zurich</div>`)[0];
                popup_af03480c56140e73dc271b5cbc447cfd.setContent(html_d52d0b27a4f58847d9b568b170377fa4);
            
        

        marker_21df826a5e301ebb038d0060b6f66148.bindPopup(popup_af03480c56140e73dc271b5cbc447cfd)
        ;

        
    
    
            var marker_f87597924d650bafca4828fb21cb02a8 = L.marker(
                [51.5217852, -0.13515149671251314],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1a0e66889057bba8772ffa30032173c2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_87c9ff1556f3cb1b0f4e4316e4b6abd2 = $(`<div id=&quot;html_87c9ff1556f3cb1b0f4e4316e4b6abd2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>UCL</div>`)[0];
                popup_1a0e66889057bba8772ffa30032173c2.setContent(html_87c9ff1556f3cb1b0f4e4316e4b6abd2);
            
        

        marker_f87597924d650bafca4828fb21cb02a8.bindPopup(popup_1a0e66889057bba8772ffa30032173c2)
        ;

        
    
    
            var marker_4dedf61f2b2c65380c0ee1dd4a2530ab = L.marker(
                [51.51426105, -0.11673351981492822],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2d7a9e50d639873780a89469e2a67d12 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cd6edca1721eb9f3d45fbee9d26af61a = $(`<div id=&quot;html_cd6edca1721eb9f3d45fbee9d26af61a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>London School of Economics and Political Science</div>`)[0];
                popup_2d7a9e50d639873780a89469e2a67d12.setContent(html_cd6edca1721eb9f3d45fbee9d26af61a);
            
        

        marker_4dedf61f2b2c65380c0ee1dd4a2530ab.bindPopup(popup_2d7a9e50d639873780a89469e2a67d12)
        ;

        
    
    
            var marker_33faff6b683dd323c8b1dfb0fcda5dc0 = L.marker(
                [55.94407645, -3.1883735563964555],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_b5896ee3c9f5c89acb23f2989f152e95 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1a702412d7b8c235ee3d46f5935c36de = $(`<div id=&quot;html_1a702412d7b8c235ee3d46f5935c36de&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Edinburgh</div>`)[0];
                popup_b5896ee3c9f5c89acb23f2989f152e95.setContent(html_1a702412d7b8c235ee3d46f5935c36de);
            
        

        marker_33faff6b683dd323c8b1dfb0fcda5dc0.bindPopup(popup_b5896ee3c9f5c89acb23f2989f152e95)
        ;

        
    
    
            var marker_aad237c21822f6cfe427aaf8d3a20089 = L.marker(
                [48.14701435, 11.575919303007243],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_e710627c62c24a46efcc36f75e628f2f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b80516a3e05f2604d6b2b265f961ddf8 = $(`<div id=&quot;html_b80516a3e05f2604d6b2b265f961ddf8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>LMU Munich</div>`)[0];
                popup_e710627c62c24a46efcc36f75e628f2f.setContent(html_b80516a3e05f2604d6b2b265f961ddf8);
            
        

        marker_aad237c21822f6cfe427aaf8d3a20089.bindPopup(popup_e710627c62c24a46efcc36f75e628f2f)
        ;

        
    
    
            var marker_bb6dd854f2ff4e20de06eeaa93814fe8 = L.marker(
                [46.518659400000004, 6.566561505148001],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_410deb65f5240285b9e9fa2e31971d7b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_540c98acf38e326c1ef056b40dbed615 = $(`<div id=&quot;html_540c98acf38e326c1ef056b40dbed615&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique Fédérale de Lausanne</div>`)[0];
                popup_410deb65f5240285b9e9fa2e31971d7b.setContent(html_540c98acf38e326c1ef056b40dbed615);
            
        

        marker_bb6dd854f2ff4e20de06eeaa93814fe8.bindPopup(popup_410deb65f5240285b9e9fa2e31971d7b)
        ;

        
    
    
            var marker_0ddac8a47a8ddee3512662d05d62e1da = L.marker(
                [51.5060001, -0.1121582948025203],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c1ba97e18c0dc1b8c93060826e15f24e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9e6aa711f00bf416160e49c252ead110 = $(`<div id=&quot;html_9e6aa711f00bf416160e49c252ead110&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>King’s College London</div>`)[0];
                popup_c1ba97e18c0dc1b8c93060826e15f24e.setContent(html_9e6aa711f00bf416160e49c252ead110);
            
        

        marker_0ddac8a47a8ddee3512662d05d62e1da.bindPopup(popup_c1ba97e18c0dc1b8c93060826e15f24e)
        ;

        
    
    
            var marker_887ca1a835de6afe3de9d89fa0645961 = L.marker(
                [59.219549549999996, 17.94005487275674],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c86ed2be4184735a0c400382f4bab725 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1325f633a074c98cdeccfe710d1dc9fa = $(`<div id=&quot;html_1325f633a074c98cdeccfe710d1dc9fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karolinska Institute</div>`)[0];
                popup_c86ed2be4184735a0c400382f4bab725.setContent(html_1325f633a074c98cdeccfe710d1dc9fa);
            
        

        marker_887ca1a835de6afe3de9d89fa0645961.bindPopup(popup_c86ed2be4184735a0c400382f4bab725)
        ;

        
    
    
            var marker_3154c42adf640cf7f05ee91bab51b4c2 = L.marker(
                [1.3078539, 103.7776795],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_79778a803b84c93539bd75d8093a5e53 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a5d9557e5e6e06529f24d28ff963d8b0 = $(`<div id=&quot;html_a5d9557e5e6e06529f24d28ff963d8b0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Munich</div>`)[0];
                popup_79778a803b84c93539bd75d8093a5e53.setContent(html_a5d9557e5e6e06529f24d28ff963d8b0);
            
        

        marker_3154c42adf640cf7f05ee91bab51b4c2.bindPopup(popup_79778a803b84c93539bd75d8093a5e53)
        ;

        
    
    
            var marker_3eb41ccb4cbbf8e7218c4fa92d0ae5b8 = L.marker(
                [49.419318849999996, 8.67020439452228],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_3e03c8be811110319884f81f830c0e92 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b931e8fe57dc40a6c8a3ea6ee57cf153 = $(`<div id=&quot;html_b931e8fe57dc40a6c8a3ea6ee57cf153&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Heidelberg University</div>`)[0];
                popup_3e03c8be811110319884f81f830c0e92.setContent(html_b931e8fe57dc40a6c8a3ea6ee57cf153);
            
        

        marker_3eb41ccb4cbbf8e7218c4fa92d0ae5b8.bindPopup(popup_3e03c8be811110319884f81f830c0e92)
        ;

        
    
    
            var marker_ffc6700b4dcd3b977cf922e8ebedda6e = L.marker(
                [53.4657087, -2.232734319907597],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_bed15d20a58ccb3bd33646ba713eac25 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bc103ea222f32d106fd99db455835315 = $(`<div id=&quot;html_bc103ea222f32d106fd99db455835315&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Manchester</div>`)[0];
                popup_bed15d20a58ccb3bd33646ba713eac25.setContent(html_bc103ea222f32d106fd99db455835315);
            
        

        marker_ffc6700b4dcd3b977cf922e8ebedda6e.bindPopup(popup_bed15d20a58ccb3bd33646ba713eac25)
        ;

        
    
    
            var marker_744b7996118e1d6e8b95ce53fad04aab = L.marker(
                [51.99882735, 4.373960368154041],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_6e878260452fbb5f7cda41e7615c4d32 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_808fca471495a87f9b8910723c4d89b5 = $(`<div id=&quot;html_808fca471495a87f9b8910723c4d89b5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Delft University of Technology</div>`)[0];
                popup_6e878260452fbb5f7cda41e7615c4d32.setContent(html_808fca471495a87f9b8910723c4d89b5);
            
        

        marker_744b7996118e1d6e8b95ce53fad04aab.bindPopup(popup_6e878260452fbb5f7cda41e7615c4d32)
        ;

        
    
    
            var marker_27d3c667456fa7f63f57c7b17723f767 = L.marker(
                [51.98544495, 5.663212001137484],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_b582af574966cdc170318441e31bd6d5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d54b8636897cd822bb312cfdb7f51b63 = $(`<div id=&quot;html_d54b8636897cd822bb312cfdb7f51b63&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Wageningen University &amp; Research</div>`)[0];
                popup_b582af574966cdc170318441e31bd6d5.setContent(html_d54b8636897cd822bb312cfdb7f51b63);
            
        

        marker_27d3c667456fa7f63f57c7b17723f767.bindPopup(popup_b582af574966cdc170318441e31bd6d5)
        ;

        
    
    
            var marker_4c105680fee539723dcc7a2102409b26 = L.marker(
                [52.36813335, 4.889804155733945],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1cb24eb8526aedb4d8415f07f89663f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4e95aa7759e169a17cd00d94866913fa = $(`<div id=&quot;html_4e95aa7759e169a17cd00d94866913fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Amsterdam</div>`)[0];
                popup_1cb24eb8526aedb4d8415f07f89663f5.setContent(html_4e95aa7759e169a17cd00d94866913fa);
            
        

        marker_4c105680fee539723dcc7a2102409b26.bindPopup(popup_1cb24eb8526aedb4d8415f07f89663f5)
        ;

        
    
    
            var marker_41f7ebfbbe0f64b9e663fd52c63511c2 = L.marker(
                [52.5183402, 13.392920232320172],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_9bda622c1ec897e637696ac921e11db7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_655279ec2c6e2980f02d2a38c89d63a1 = $(`<div id=&quot;html_655279ec2c6e2980f02d2a38c89d63a1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Humboldt University of Berlin</div>`)[0];
                popup_9bda622c1ec897e637696ac921e11db7.setContent(html_655279ec2c6e2980f02d2a38c89d63a1);
            
        

        marker_41f7ebfbbe0f64b9e663fd52c63511c2.bindPopup(popup_9bda622c1ec897e637696ac921e11db7)
        ;

        
    
    
            var marker_2b83c1ac3e98aed52d674f96188b9307 = L.marker(
                [52.168633850000006, 4.45966324754191],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_63c17adf31fe5cef0bef1dc3fa4735b6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bd18de9201c59f975e081f9982fbc886 = $(`<div id=&quot;html_bd18de9201c59f975e081f9982fbc886&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Leiden University</div>`)[0];
                popup_63c17adf31fe5cef0bef1dc3fa4735b6.setContent(html_bd18de9201c59f975e081f9982fbc886);
            
        

        marker_2b83c1ac3e98aed52d674f96188b9307.bindPopup(popup_63c17adf31fe5cef0bef1dc3fa4735b6)
        ;

        
    
    
            var marker_dd40c7f7c61b797210fd30aff0dedebf = L.marker(
                [51.9229171, 4.487612362865811],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_b8e29a12311625ba9e2d43278749a712 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_54637abcb1d7c288da9974a7f54cef17 = $(`<div id=&quot;html_54637abcb1d7c288da9974a7f54cef17&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Erasmus University Rotterdam</div>`)[0];
                popup_b8e29a12311625ba9e2d43278749a712.setContent(html_54637abcb1d7c288da9974a7f54cef17);
            
        

        marker_dd40c7f7c61b797210fd30aff0dedebf.bindPopup(popup_b8e29a12311625ba9e2d43278749a712)
        ;

        
    
    
            var marker_4b2ca1e6437ea6b14fc9fb05e937b058 = L.marker(
                [48.846899699999994, 2.357448653115875],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_60d5336f385b374633d56b6ebf1d5c08 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_71f1ec61ef3a73d448815dfa97c5c997 = $(`<div id=&quot;html_71f1ec61ef3a73d448815dfa97c5c997&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sorbonne University</div>`)[0];
                popup_60d5336f385b374633d56b6ebf1d5c08.setContent(html_71f1ec61ef3a73d448815dfa97c5c997);
            
        

        marker_4b2ca1e6437ea6b14fc9fb05e937b058.bindPopup(popup_60d5336f385b374633d56b6ebf1d5c08)
        ;

        
    
    
            var marker_dc88b80c0a8d283365687fdb5963e19d = L.marker(
                [52.08340265, 5.148315067762755],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_f7ff677eed4d7d7c9e56a6a7ffab1dd3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_639bfc1ac52b25fb961c9ef13a64c299 = $(`<div id=&quot;html_639bfc1ac52b25fb961c9ef13a64c299&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Utrecht University</div>`)[0];
                popup_f7ff677eed4d7d7c9e56a6a7ffab1dd3.setContent(html_639bfc1ac52b25fb961c9ef13a64c299);
            
        

        marker_dc88b80c0a8d283365687fdb5963e19d.bindPopup(popup_f7ff677eed4d7d7c9e56a6a7ffab1dd3)
        ;

        
    
    
            var marker_e7724e2aac3346856b4c3b4748ef425d = L.marker(
                [46.793058, 7.157106],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_19adec8b8970b4639e5277256ea82358 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ad7da61b25467ca2b8afa93a28c966b3 = $(`<div id=&quot;html_ad7da61b25467ca2b8afa93a28c966b3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Freiburg</div>`)[0];
                popup_19adec8b8970b4639e5277256ea82358.setContent(html_ad7da61b25467ca2b8afa93a28c966b3);
            
        

        marker_e7724e2aac3346856b4c3b4748ef425d.bindPopup(popup_19adec8b8970b4639e5277256ea82358)
        ;

        
    
    
            var marker_bde988d1cd56ea3488cf820a20b21a4d = L.marker(
                [51.4582866, -2.601568350796178],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_e451d0357a4d76d8707515cbc60cac81 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bca7c0b2e125bbaf823728b1da72b2d1 = $(`<div id=&quot;html_bca7c0b2e125bbaf823728b1da72b2d1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bristol</div>`)[0];
                popup_e451d0357a4d76d8707515cbc60cac81.setContent(html_bca7c0b2e125bbaf823728b1da72b2d1);
            
        

        marker_bde988d1cd56ea3488cf820a20b21a4d.bindPopup(popup_e451d0357a4d76d8707515cbc60cac81)
        ;

        
    
    
            var marker_7800f788c0eca81798b3ce478439885b = L.marker(
                [53.21944155, 6.562986329174857],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_159a86d1c40fba4de74305e6be007446 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c6db146ae9ea46c4792a64604eefc091 = $(`<div id=&quot;html_c6db146ae9ea46c4792a64604eefc091&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Groningen</div>`)[0];
                popup_159a86d1c40fba4de74305e6be007446.setContent(html_c6db146ae9ea46c4792a64604eefc091);
            
        

        marker_7800f788c0eca81798b3ce478439885b.bindPopup(popup_159a86d1c40fba4de74305e6be007446)
        ;

        
    
    
            var marker_4476eded86591f41621a90988b2cd2fb = L.marker(
                [52.3813073, -1.5639569481637439],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_514e36e69ebd2e917e876dc1aeacee10 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_625aee862dd79aa45a20940c437664d6 = $(`<div id=&quot;html_625aee862dd79aa45a20940c437664d6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Warwick</div>`)[0];
                popup_514e36e69ebd2e917e876dc1aeacee10.setContent(html_625aee862dd79aa45a20940c437664d6);
            
        

        marker_4476eded86591f41621a90988b2cd2fb.bindPopup(popup_514e36e69ebd2e917e876dc1aeacee10)
        ;

        
    
    
            var marker_b60b658e191f788dc774fc66cfbb29bc = L.marker(
                [50.7791645, 6.068920971222876],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_cae3f0d925291111252ab2da0d8998ef = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_14f14592f317083b991b0814b3be6344 = $(`<div id=&quot;html_14f14592f317083b991b0814b3be6344&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>RWTH Aachen University</div>`)[0];
                popup_cae3f0d925291111252ab2da0d8998ef.setContent(html_14f14592f317083b991b0814b3be6344);
            
        

        marker_b60b658e191f788dc774fc66cfbb29bc.bindPopup(popup_cae3f0d925291111252ab2da0d8998ef)
        ;

        
    
    
            var marker_dbe4ab7fffb9c4d9ab999662a9d44c9f = L.marker(
                [59.8617859, 17.6376705],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2e9050cf85c7b99a8fc342fb76a75e4a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_10bcfcb1f6cc4286b7a7c47ad2652f78 = $(`<div id=&quot;html_10bcfcb1f6cc4286b7a7c47ad2652f78&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Uppsala University</div>`)[0];
                popup_2e9050cf85c7b99a8fc342fb76a75e4a.setContent(html_10bcfcb1f6cc4286b7a7c47ad2652f78);
            
        

        marker_dbe4ab7fffb9c4d9ab999662a9d44c9f.bindPopup(popup_2e9050cf85c7b99a8fc342fb76a75e4a)
        ;

        
    
    
            var marker_68ea78bbaf0bf608a4d896bfb5a52eb6 = L.marker(
                [48.53405945, 9.071244429234808],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_3d3c7dfa88355e640cc42702a839bb32 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3088e0c40802dcfacbfff2bd979a1754 = $(`<div id=&quot;html_3088e0c40802dcfacbfff2bd979a1754&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Tübingen</div>`)[0];
                popup_3d3c7dfa88355e640cc42702a839bb32.setContent(html_3088e0c40802dcfacbfff2bd979a1754);
            
        

        marker_68ea78bbaf0bf608a4d896bfb5a52eb6.bindPopup(popup_3d3c7dfa88355e640cc42702a839bb32)
        ;

        
    
    
            var marker_60ff0a593aee3ab9ba18c3b82deaf43d = L.marker(
                [52.5299885, 13.34866394036122],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_e287f0ee1b4cdadc4d9a7ebd78a138cf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_582bce60e7c7f715aa76964ca189970c = $(`<div id=&quot;html_582bce60e7c7f715aa76964ca189970c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Charité - Universitätsmedizin Berlin</div>`)[0];
                popup_e287f0ee1b4cdadc4d9a7ebd78a138cf.setContent(html_582bce60e7c7f715aa76964ca189970c);
            
        

        marker_60ff0a593aee3ab9ba18c3b82deaf43d.bindPopup(popup_e287f0ee1b4cdadc4d9a7ebd78a138cf)
        ;

        
    
    
            var marker_74c68028821d4e66f3e645abc41cc58b = L.marker(
                [47.49684345, 8.72980716809498],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_8367427d446c2258aa1a789fb5a38f11 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9fa4ac33b3e2532839bfd68354c5e262 = $(`<div id=&quot;html_9fa4ac33b3e2532839bfd68354c5e262&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Zurich</div>`)[0];
                popup_8367427d446c2258aa1a789fb5a38f11.setContent(html_9fa4ac33b3e2532839bfd68354c5e262);
            
        

        marker_74c68028821d4e66f3e645abc41cc58b.bindPopup(popup_8367427d446c2258aa1a789fb5a38f11)
        ;

        
    
    
            var marker_4bc3f40af7f4d38c181d56e4a91b9465 = L.marker(
                [55.872315349999994, -4.289219112981823],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_433e8aa45ca4b19938db7dc8712d5b47 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_47d3574247898028397123dfa8345e40 = $(`<div id=&quot;html_47d3574247898028397123dfa8345e40&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Glasgow</div>`)[0];
                popup_433e8aa45ca4b19938db7dc8712d5b47.setContent(html_47d3574247898028397123dfa8345e40);
            
        

        marker_4bc3f40af7f4d38c181d56e4a91b9465.bindPopup(popup_433e8aa45ca4b19938db7dc8712d5b47)
        ;

        
    
    
            var marker_3bef6a143d7475f20ec38de9a35aaf21 = L.marker(
                [58.163098500000004, 8.001442632957419],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_56a17dcefbe4f3d8d65d76f1a1390e52 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6a176b5039b4a7115f53a9130404151a = $(`<div id=&quot;html_6a176b5039b4a7115f53a9130404151a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lund University</div>`)[0];
                popup_56a17dcefbe4f3d8d65d76f1a1390e52.setContent(html_6a176b5039b4a7115f53a9130404151a);
            
        

        marker_3bef6a143d7475f20ec38de9a35aaf21.bindPopup(popup_56a17dcefbe4f3d8d65d76f1a1390e52)
        ;

        
    
    
            var marker_552960b58ec1a2ddb372ae173e7b18d9 = L.marker(
                [60.175648300000006, 24.953550020522073],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_f07652a4713e4b2da4b4e03ab28cd5da = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e44c5700349888bf59d467c0b6f5fc5d = $(`<div id=&quot;html_e44c5700349888bf59d467c0b6f5fc5d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Helsinki</div>`)[0];
                popup_f07652a4713e4b2da4b4e03ab28cd5da.setContent(html_e44c5700349888bf59d467c0b6f5fc5d);
            
        

        marker_552960b58ec1a2ddb372ae173e7b18d9.bindPopup(popup_f07652a4713e4b2da4b4e03ab28cd5da)
        ;

        
    
    
            var marker_ecb0d7c025865819ce68e52ff7815fee = L.marker(
                [47.56174235, 7.58285513707386],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_4be77bdc70306cc26981ca4a0ca92a11 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e4f619a6c8626826e7d81a79068cfec4 = $(`<div id=&quot;html_e4f619a6c8626826e7d81a79068cfec4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Basel</div>`)[0];
                popup_4be77bdc70306cc26981ca4a0ca92a11.setContent(html_e4f619a6c8626826e7d81a79068cfec4);
            
        

        marker_ecb0d7c025865819ce68e52ff7815fee.bindPopup(popup_4be77bdc70306cc26981ca4a0ca92a11)
        ;

        
    
    
            var marker_86ce041e4407d39d60bbf1650181d678 = L.marker(
                [53.3815369, -1.4806342198324056],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_a7d2a639dfd9f6137e286397a1ac9b5c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ce35a302a01f5b7ac1d44d1a24ad7a43 = $(`<div id=&quot;html_ce35a302a01f5b7ac1d44d1a24ad7a43&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sheffield</div>`)[0];
                popup_a7d2a639dfd9f6137e286397a1ac9b5c.setContent(html_ce35a302a01f5b7ac1d44d1a24ad7a43);
            
        

        marker_86ce041e4407d39d60bbf1650181d678.bindPopup(popup_a7d2a639dfd9f6137e286397a1ac9b5c)
        ;

        
    
    
            var marker_3e5496277549f383d8dae61489550eff = L.marker(
                [48.7127874, 2.2107453],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_3de52f65d02f3da700e847054e03d9a2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_da79d78fd8daab9db3d1fd5bc7be74f5 = $(`<div id=&quot;html_da79d78fd8daab9db3d1fd5bc7be74f5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique</div>`)[0];
                popup_3de52f65d02f3da700e847054e03d9a2.setContent(html_da79d78fd8daab9db3d1fd5bc7be74f5);
            
        

        marker_3e5496277549f383d8dae61489550eff.bindPopup(popup_3de52f65d02f3da700e847054e03d9a2)
        ;

        
    
    
            var marker_5dcdab40314646d6128a6c1749018d45 = L.marker(
                [46.95097255, 7.438684130809055],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c9d5cf86ccbc3e48303066806207d1c9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0c3e9317d5bd20d0dfdcd91a2b0b8b2d = $(`<div id=&quot;html_0c3e9317d5bd20d0dfdcd91a2b0b8b2d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bern</div>`)[0];
                popup_c9d5cf86ccbc3e48303066806207d1c9.setContent(html_0c3e9317d5bd20d0dfdcd91a2b0b8b2d);
            
        

        marker_5dcdab40314646d6128a6c1749018d45.bindPopup(popup_c9d5cf86ccbc3e48303066806207d1c9)
        ;

        
    
    
            var marker_ba22d9b6588846db7098b81c9ed90d7d = L.marker(
                [50.7338124, 7.1022465],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_bd91499f7fb7147367aeaca766668a8f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_434b9980fb27367b02fd1f1208deab03 = $(`<div id=&quot;html_434b9980fb27367b02fd1f1208deab03&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bonn</div>`)[0];
                popup_bd91499f7fb7147367aeaca766668a8f.setContent(html_434b9980fb27367b02fd1f1208deab03);
            
        

        marker_ba22d9b6588846db7098b81c9ed90d7d.bindPopup(popup_bd91499f7fb7147367aeaca766668a8f)
        ;

        
    
    
            var marker_3b898266002570df45613e0d76cd7b88 = L.marker(
                [54.9027916, -1.392096],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_3fb83bec3f2a19fdf4c7b64d7b33b4d9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9a118e990e8403b18b90ed15661556af = $(`<div id=&quot;html_9a118e990e8403b18b90ed15661556af&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Durham University</div>`)[0];
                popup_3fb83bec3f2a19fdf4c7b64d7b33b4d9.setContent(html_9a118e990e8403b18b90ed15661556af);
            
        

        marker_3b898266002570df45613e0d76cd7b88.bindPopup(popup_3fb83bec3f2a19fdf4c7b64d7b33b4d9)
        ;

        
    
    
            var marker_79f8519f786a077343f89dc3c3b8b769 = L.marker(
                [52.4522956, -1.9312856726008194],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_3e08d8c6617a8e07933429bfae15d4bf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d651e5f61fdfab88bd932f7832252769 = $(`<div id=&quot;html_d651e5f61fdfab88bd932f7832252769&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Birmingham</div>`)[0];
                popup_3e08d8c6617a8e07933429bfae15d4bf.setContent(html_d651e5f61fdfab88bd932f7832252769);
            
        

        marker_79f8519f786a077343f89dc3c3b8b769.bindPopup(popup_3e08d8c6617a8e07933429bfae15d4bf)
        ;

        
    
    
            var marker_0f51859377564e70d321141aa7e7d5cb = L.marker(
                [55.6801502, 12.57232700140625],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_4c38228ba83d76333e403d3690ca7a40 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1a43248a58c7ddcd4a6b3c33cb6ad265 = $(`<div id=&quot;html_1a43248a58c7ddcd4a6b3c33cb6ad265&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Copenhagen</div>`)[0];
                popup_4c38228ba83d76333e403d3690ca7a40.setContent(html_1a43248a58c7ddcd4a6b3c33cb6ad265);
            
        

        marker_0f51859377564e70d321141aa7e7d5cb.bindPopup(popup_4c38228ba83d76333e403d3690ca7a40)
        ;

        
    
    
            var marker_34e7a3803b251e3dd485100778d4c9da = L.marker(
                [50.9354752, -1.3962847494297244],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_7f142914c0099f56888b513b1380edbf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8a7ea2a8c29721874a02a05dab0238ff = $(`<div id=&quot;html_8a7ea2a8c29721874a02a05dab0238ff&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Southampton</div>`)[0];
                popup_7f142914c0099f56888b513b1380edbf.setContent(html_8a7ea2a8c29721874a02a05dab0238ff);
            
        

        marker_34e7a3803b251e3dd485100778d4c9da.bindPopup(popup_7f142914c0099f56888b513b1380edbf)
        ;

        
    
    
            var marker_41738e5223e0ffbba409f6596f1d966c = L.marker(
                [53.9453903, -1.0314592943104675],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_03a578b3edc8c99c8386d0b63bdc0823 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_93d2ca4afbd2330a2f9fb641a8c2efc7 = $(`<div id=&quot;html_93d2ca4afbd2330a2f9fb641a8c2efc7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of York</div>`)[0];
                popup_03a578b3edc8c99c8386d0b63bdc0823.setContent(html_93d2ca4afbd2330a2f9fb641a8c2efc7);
            
        

        marker_41738e5223e0ffbba409f6596f1d966c.bindPopup(popup_03a578b3edc8c99c8386d0b63bdc0823)
        ;

        
    
    
            var marker_143e42199617c00214b72fd8dfc8a51c = L.marker(
                [53.34366745, -6.254444724511822],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2e4b2f8d1d3f844a948e01f69827c5cf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ca3206ba0fa7b4a19eed4ce90d1e8311 = $(`<div id=&quot;html_ca3206ba0fa7b4a19eed4ce90d1e8311&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Trinity College Dublin</div>`)[0];
                popup_2e4b2f8d1d3f844a948e01f69827c5cf.setContent(html_ca3206ba0fa7b4a19eed4ce90d1e8311);
            
        

        marker_143e42199617c00214b72fd8dfc8a51c.bindPopup(popup_2e4b2f8d1d3f844a948e01f69827c5cf)
        ;

        
    
    
            var marker_43522b867093964f0253f02e9a9c25b6 = L.marker(
                [59.9414173, 10.722768340750914],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_42949c50c55d4bc2ba2a54d167ac36df = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_26636220e17d0f35361f3008d592f1d8 = $(`<div id=&quot;html_26636220e17d0f35361f3008d592f1d8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oslo</div>`)[0];
                popup_42949c50c55d4bc2ba2a54d167ac36df.setContent(html_26636220e17d0f35361f3008d592f1d8);
            
        

        marker_43522b867093964f0253f02e9a9c25b6.bindPopup(popup_42949c50c55d4bc2ba2a54d167ac36df)
        ;

        
    
    
            var marker_fbef297208efdbbe0b76485b5a8731c7 = L.marker(
                [56.1670905, 10.202617693592895],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_eb30307689d9fdd1c56b3006efe41ab7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f57d2493899276d305217feaaf96ba2a = $(`<div id=&quot;html_f57d2493899276d305217feaaf96ba2a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aarhus University</div>`)[0];
                popup_eb30307689d9fdd1c56b3006efe41ab7.setContent(html_f57d2493899276d305217feaaf96ba2a);
            
        

        marker_fbef297208efdbbe0b76485b5a8731c7.bindPopup(popup_eb30307689d9fdd1c56b3006efe41ab7)
        ;

        
    
    
            var marker_de058cd90f0bc5dc0a60cfe1e3dbdea9 = L.marker(
                [51.5411003, 9.948200846079496],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1a52e0ab15ea37a3863b34292d718fc1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_79566d1b7c44243b9d8dd0ad26e5242e = $(`<div id=&quot;html_79566d1b7c44243b9d8dd0ad26e5242e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Göttingen</div>`)[0];
                popup_1a52e0ab15ea37a3863b34292d718fc1.setContent(html_79566d1b7c44243b9d8dd0ad26e5242e);
            
        

        marker_de058cd90f0bc5dc0a60cfe1e3dbdea9.bindPopup(popup_1a52e0ab15ea37a3863b34292d718fc1)
        ;

        
    
    
            var marker_49401e687fc1f739a7ae7472c075e7da = L.marker(
                [49.4699765, 8.4819024],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_182ada677b33b4846d26978e5fbdb4a5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b7d91cf69810e72bed0ba5dae328e47d = $(`<div id=&quot;html_b7d91cf69810e72bed0ba5dae328e47d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Mannheim</div>`)[0];
                popup_182ada677b33b4846d26978e5fbdb4a5.setContent(html_b7d91cf69810e72bed0ba5dae328e47d);
            
        

        marker_49401e687fc1f739a7ae7472c075e7da.bindPopup(popup_182ada677b33b4846d26978e5fbdb4a5)
        ;

        
    
    
            var marker_e8d89d02bf0490c19b61dbe8a0c8cc13 = L.marker(
                [51.82151725, 5.863403442541042],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_5f182be21f1fa6eeb6e2f5ae3f905563 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0fe890373fb0bb3277648e0e53a6d782 = $(`<div id=&quot;html_0fe890373fb0bb3277648e0e53a6d782&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Radboud University Nijmegen</div>`)[0];
                popup_5f182be21f1fa6eeb6e2f5ae3f905563.setContent(html_0fe890373fb0bb3277648e0e53a6d782);
            
        

        marker_e8d89d02bf0490c19b61dbe8a0c8cc13.bindPopup(popup_5f182be21f1fa6eeb6e2f5ae3f905563)
        ;

        
    
    
            var marker_1ab2ff015b64dd2973eda99e8dffdb2d = L.marker(
                [50.821259999999995, 4.349652894133002],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_dbc596f8ff00181d9cf013669439fca6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_08a95902ee8133cc445c886700208318 = $(`<div id=&quot;html_08a95902ee8133cc445c886700208318&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Université Catholique de Louvain</div>`)[0];
                popup_dbc596f8ff00181d9cf013669439fca6.setContent(html_08a95902ee8133cc445c886700208318);
            
        

        marker_1ab2ff015b64dd2973eda99e8dffdb2d.bindPopup(popup_dbc596f8ff00181d9cf013669439fca6)
        ;

        
    
    
            var marker_4459265f3b45eb13bc881dfc5f85736e = L.marker(
                [50.84720265, 5.685941396293034],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_0b3f4501b37d57b3cd4345f6e58f5553 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_449687786b5a5a9a7d6a79eda0c49055 = $(`<div id=&quot;html_449687786b5a5a9a7d6a79eda0c49055&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Maastricht University</div>`)[0];
                popup_0b3f4501b37d57b3cd4345f6e58f5553.setContent(html_449687786b5a5a9a7d6a79eda0c49055);
            
        

        marker_4459265f3b45eb13bc881dfc5f85736e.bindPopup(popup_0b3f4501b37d57b3cd4345f6e58f5553)
        ;

        
    
    
            var marker_9a8f1f6d661ff3978fe8532b0b234310 = L.marker(
                [51.5247272, -0.03931034663016243],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_b2ee2dc9d5b2529cd40c7e7957e60e79 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9330a8a2d512021bc0a0c351bc9fee07 = $(`<div id=&quot;html_9330a8a2d512021bc0a0c351bc9fee07&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Queen Mary University of London</div>`)[0];
                popup_b2ee2dc9d5b2529cd40c7e7957e60e79.setContent(html_9330a8a2d512021bc0a0c351bc9fee07);
            
        

        marker_9a8f1f6d661ff3978fe8532b0b234310.bindPopup(popup_b2ee2dc9d5b2529cd40c7e7957e60e79)
        ;

        
    
    
            var marker_828456a4245b5067d5ffff7ffb85c7bd = L.marker(
                [42.6126851, -88.4805318],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c9f2c74edd337c40c29edb0423ba3256 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c02f48710cc5cd401ecc3f927e91aff1 = $(`<div id=&quot;html_c02f48710cc5cd401ecc3f927e91aff1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Geneva</div>`)[0];
                popup_c9f2c74edd337c40c29edb0423ba3256.setContent(html_c02f48710cc5cd401ecc3f927e91aff1);
            
        

        marker_828456a4245b5067d5ffff7ffb85c7bd.bindPopup(popup_c9f2c74edd337c40c29edb0423ba3256)
        ;

        
    
    
            var marker_754b8f8a731af12a7880a47f69c3f00b = L.marker(
                [53.5641091, 9.994978875267606],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_44d5b3f82ee4c7b8d867432b74682f4b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_beb7b3249de7f81f87b5272c493ac15f = $(`<div id=&quot;html_beb7b3249de7f81f87b5272c493ac15f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Hamburg</div>`)[0];
                popup_44d5b3f82ee4c7b8d867432b74682f4b.setContent(html_beb7b3249de7f81f87b5272c493ac15f);
            
        

        marker_754b8f8a731af12a7880a47f69c3f00b.bindPopup(popup_44d5b3f82ee4c7b8d867432b74682f4b)
        ;

        
    
    
            var marker_ba4053a57dd2ade7396567b995c4d56b = L.marker(
                [49.101853399999996, 8.433120159201868],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_915db55ee2b94f6c9db7f324df0e841a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9f20664c9213b420331c46b60dee50ce = $(`<div id=&quot;html_9f20664c9213b420331c46b60dee50ce&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karlsruhe Institute of Technology</div>`)[0];
                popup_915db55ee2b94f6c9db7f324df0e841a.setContent(html_9f20664c9213b420331c46b60dee50ce);
            
        

        marker_ba4053a57dd2ade7396567b995c4d56b.bindPopup(popup_915db55ee2b94f6c9db7f324df0e841a)
        ;

        
    
    
            var marker_67c9fe7b1cd32effbba5910cf480169f = L.marker(
                [50.73693715, -3.534734858662963],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_11f3603d87cc7e6683d894f459042e0a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_20575034c9437608a5c6880fef0d00a0 = $(`<div id=&quot;html_20575034c9437608a5c6880fef0d00a0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Exeter</div>`)[0];
                popup_11f3603d87cc7e6683d894f459042e0a.setContent(html_20575034c9437608a5c6880fef0d00a0);
            
        

        marker_67c9fe7b1cd32effbba5910cf480169f.bindPopup(popup_11f3603d87cc7e6683d894f459042e0a)
        ;

        
    
    
            var marker_b38ada88b77e81556b7d5ccfbcee57c2 = L.marker(
                [51.00784845, 3.710883068491984],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_a344c9f7c8b424a355fa5b0ca1c61b6f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2d7e2894c12e8148652408713db82af8 = $(`<div id=&quot;html_2d7e2894c12e8148652408713db82af8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ghent University</div>`)[0];
                popup_a344c9f7c8b424a355fa5b0ca1c61b6f.setContent(html_2d7e2894c12e8148652408713db82af8);
            
        

        marker_b38ada88b77e81556b7d5ccfbcee57c2.bindPopup(popup_a344c9f7c8b424a355fa5b0ca1c61b6f)
        ;

        
    
    
            var marker_a61fa288e20731074603793a9a052517 = L.marker(
                [48.2131284, 16.360685994114505],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_0821d69992075d6f80f58846a0ad40e9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_def30512cd9289d921c4cd309f4d4ceb = $(`<div id=&quot;html_def30512cd9289d921c4cd309f4d4ceb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Vienna</div>`)[0];
                popup_0821d69992075d6f80f58846a0ad40e9.setContent(html_def30512cd9289d921c4cd309f4d4ceb);
            
        

        marker_a61fa288e20731074603793a9a052517.bindPopup(popup_0821d69992075d6f80f58846a0ad40e9)
        ;

        
    
    
            var marker_2a7ca43c3db0b83820887e8c8c512ea5 = L.marker(
                [50.928044549999996, 6.928130514523661],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_43b1a7f46eed340e5ac62513dd15a59f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1d532c9a36ef934b5c4c247500194ffb = $(`<div id=&quot;html_1d532c9a36ef934b5c4c247500194ffb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cologne</div>`)[0];
                popup_43b1a7f46eed340e5ac62513dd15a59f.setContent(html_1d532c9a36ef934b5c4c247500194ffb);
            
        

        marker_2a7ca43c3db0b83820887e8c8c512ea5.bindPopup(popup_43b1a7f46eed340e5ac62513dd15a59f)
        ;

        
    
    
            var marker_8e2997b5757e2746ecd3ac7cb360f52d = L.marker(
                [54.00975365, -2.7875727317728654],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_952b8a68520c8e9b4a7080ee96333608 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8439b4cbcabc32d37f8a327461681428 = $(`<div id=&quot;html_8439b4cbcabc32d37f8a327461681428&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lancaster University</div>`)[0];
                popup_952b8a68520c8e9b4a7080ee96333608.setContent(html_8439b4cbcabc32d37f8a327461681428);
            
        

        marker_8e2997b5757e2746ecd3ac7cb360f52d.bindPopup(popup_952b8a68520c8e9b4a7080ee96333608)
        ;

        
    
    
            var marker_7853e6f7ebeb0e8f4750ec35cd72c252 = L.marker(
                [52.9387428, -1.2002956927457427],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_ebbc94757369dd3882e99119eb671972 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_17f1c30243cdfa1c494f8dfda7a61d2e = $(`<div id=&quot;html_17f1c30243cdfa1c494f8dfda7a61d2e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Nottingham</div>`)[0];
                popup_ebbc94757369dd3882e99119eb671972.setContent(html_17f1c30243cdfa1c494f8dfda7a61d2e);
            
        

        marker_7853e6f7ebeb0e8f4750ec35cd72c252.bindPopup(popup_ebbc94757369dd3882e99119eb671972)
        ;

        
    
    
            var marker_75bde0b4c941bc6dfc7cd564b0a24cac = L.marker(
                [48.38044334999999, 10.010101151636224],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1f139824a5908c03fae3ce38559e3a33 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d29b35415e0454fd0d5de477f96e7d57 = $(`<div id=&quot;html_d29b35415e0454fd0d5de477f96e7d57&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ulm University</div>`)[0];
                popup_1f139824a5908c03fae3ce38559e3a33.setContent(html_d29b35415e0454fd0d5de477f96e7d57);
            
        

        marker_75bde0b4c941bc6dfc7cd564b0a24cac.bindPopup(popup_1f139824a5908c03fae3ce38559e3a33)
        ;

        
    
    
            var marker_490837e76a5a06b9d56d7ae889ac70f7 = L.marker(
                [51.028276500000004, 13.735982754935176],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c1ac40aec81d8bcaa176b895b8623bbb = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4898e681d1f7513db1be5fd8c1d88a3c = $(`<div id=&quot;html_4898e681d1f7513db1be5fd8c1d88a3c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>TU Dresden</div>`)[0];
                popup_c1ac40aec81d8bcaa176b895b8623bbb.setContent(html_4898e681d1f7513db1be5fd8c1d88a3c);
            
        

        marker_490837e76a5a06b9d56d7ae889ac70f7.bindPopup(popup_c1ac40aec81d8bcaa176b895b8623bbb)
        ;

        
    
    
            var marker_76eed6eed608cf94a7cbce13412518c7 = L.marker(
                [53.80677435, -1.5562877504739676],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_05994ecd9c9b168e824389533351491b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_14dfbb95b197ce66b97832bf000e73b0 = $(`<div id=&quot;html_14dfbb95b197ce66b97832bf000e73b0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leeds</div>`)[0];
                popup_05994ecd9c9b168e824389533351491b.setContent(html_14dfbb95b197ce66b97832bf000e73b0);
            
        

        marker_76eed6eed608cf94a7cbce13412518c7.bindPopup(popup_05994ecd9c9b168e824389533351491b)
        ;

        
    
    
            var marker_54337957adbc2330d9e521505e2e9df3 = L.marker(
                [43.7206078, 10.4026444],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_a2b479159845a73861808943ac044207 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b2ae8bf8efefdd3b4a6088eb3ddd654c = $(`<div id=&quot;html_b2ae8bf8efefdd3b4a6088eb3ddd654c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Superiore Sant’Anna</div>`)[0];
                popup_a2b479159845a73861808943ac044207.setContent(html_b2ae8bf8efefdd3b4a6088eb3ddd654c);
            
        

        marker_54337957adbc2330d9e521505e2e9df3.bindPopup(popup_a2b479159845a73861808943ac044207)
        ;

        
    
    
            var marker_b1d425d0f1e69fe2212fae80dfdfc1b4 = L.marker(
                [59.363333600000004, 18.05879425982729],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_929ef9e6607fcd65585430fbc1167312 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ca18d7baf75a3dd2d11165292b9cbc49 = $(`<div id=&quot;html_ca18d7baf75a3dd2d11165292b9cbc49&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stockholm University</div>`)[0];
                popup_929ef9e6607fcd65585430fbc1167312.setContent(html_ca18d7baf75a3dd2d11165292b9cbc49);
            
        

        marker_b1d425d0f1e69fe2212fae80dfdfc1b4.bindPopup(popup_929ef9e6607fcd65585430fbc1167312)
        ;

        
    
    
            var marker_3a265559b149de2b1d6125ba4d3c3f6d = L.marker(
                [57.16452475, -2.1018363546621197],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_ed551f50675f4c81acec80c19e9af9b7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_945ba85b3b565cbb1326b76e359121dd = $(`<div id=&quot;html_945ba85b3b565cbb1326b76e359121dd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Aberdeen</div>`)[0];
                popup_ed551f50675f4c81acec80c19e9af9b7.setContent(html_945ba85b3b565cbb1326b76e359121dd);
            
        

        marker_3a265559b149de2b1d6125ba4d3c3f6d.bindPopup(popup_ed551f50675f4c81acec80c19e9af9b7)
        ;

        
    
    
            var marker_b65ce28382b1faa4d432dcb1599f2f70 = L.marker(
                [43.7196687, 10.400432749413179],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_e83892afe166c41cfbc6670e47461dfd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b892563d19f813d1bf987b000e71c8cf = $(`<div id=&quot;html_b892563d19f813d1bf987b000e71c8cf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Normale Superiore di Pisa</div>`)[0];
                popup_e83892afe166c41cfbc6670e47461dfd.setContent(html_b892563d19f813d1bf987b000e71c8cf);
            
        

        marker_b65ce28382b1faa4d432dcb1599f2f70.bindPopup(popup_e83892afe166c41cfbc6670e47461dfd)
        ;

        
    
    
            var marker_1372bd9c5e7e23ac33370867ce814b62 = L.marker(
                [50.86796665, -0.08778899363132905],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_39c0b485b1f0da46c93d520bf4567986 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ec8c1fe89a7232827801090f8ee1abb1 = $(`<div id=&quot;html_ec8c1fe89a7232827801090f8ee1abb1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sussex</div>`)[0];
                popup_39c0b485b1f0da46c93d520bf4567986.setContent(html_ec8c1fe89a7232827801090f8ee1abb1);
            
        

        marker_1372bd9c5e7e23ac33370867ce814b62.bindPopup(popup_39c0b485b1f0da46c93d520bf4567986)
        ;

        
    
    
            var marker_47375c6ea6fe3372207b474cf8cc3115 = L.marker(
                [55.785414450000005, 12.520215144442094],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_e1bde4c805640f8e048e34479d5e6f20 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3d399a9848e63cf441f4e481c31801fd = $(`<div id=&quot;html_3d399a9848e63cf441f4e481c31801fd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Denmark</div>`)[0];
                popup_e1bde4c805640f8e048e34479d5e6f20.setContent(html_3d399a9848e63cf441f4e481c31801fd);
            
        

        marker_47375c6ea6fe3372207b474cf8cc3115.bindPopup(popup_e1bde4c805640f8e048e34479d5e6f20)
        ;

        
    
    
            var marker_5eaf3540085d289af2d613d73ab37651 = L.marker(
                [56.3398198, -2.8117937053149826],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_cf1cc95a3a205c8d58688e88af65463a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_853d5b1bef43da9a5cde16afd2a2a143 = $(`<div id=&quot;html_853d5b1bef43da9a5cde16afd2a2a143&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of St Andrews</div>`)[0];
                popup_cf1cc95a3a205c8d58688e88af65463a.setContent(html_853d5b1bef43da9a5cde16afd2a2a143);
            
        

        marker_5eaf3540085d289af2d613d73ab37651.bindPopup(popup_cf1cc95a3a205c8d58688e88af65463a)
        ;

        
    
    
            var marker_4968411e3e0a77638c9c0556b69be164 = L.marker(
                [52.33396225, 4.865196500737312],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2ca9d18178f2a8c6d88dcd20911e2359 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2aaf5542c4b1da6d4d5210a288927903 = $(`<div id=&quot;html_2aaf5542c4b1da6d4d5210a288927903&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Vrije Universiteit Amsterdam</div>`)[0];
                popup_2ca9d18178f2a8c6d88dcd20911e2359.setContent(html_2aaf5542c4b1da6d4d5210a288927903);
            
        

        marker_4968411e3e0a77638c9c0556b69be164.bindPopup(popup_2ca9d18178f2a8c6d88dcd20911e2359)
        ;

        
    
    
            var marker_65e3add9682d5dbbbf679792a5211a68 = L.marker(
                [51.4486602, 5.4903995655080475],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_fce9bfbdae17914bcbd84a0be816b5bc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0ccd26ea1763301ab8c317234b14ecf3 = $(`<div id=&quot;html_0ccd26ea1763301ab8c317234b14ecf3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Eindhoven University of Technology</div>`)[0];
                popup_fce9bfbdae17914bcbd84a0be816b5bc.setContent(html_0ccd26ea1763301ab8c317234b14ecf3);
            
        

        marker_65e3add9682d5dbbbf679792a5211a68.bindPopup(popup_fce9bfbdae17914bcbd84a0be816b5bc)
        ;

        
    
    
            var marker_44de64d7697cb7dc763e02ad8352e3c7 = L.marker(
                [52.62446355, -1.1257301398551323],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_574c3af17f8aa70e361e1bb022ee1e8d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_367621f12f1a697e158b063fd6dee258 = $(`<div id=&quot;html_367621f12f1a697e158b063fd6dee258&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leicester</div>`)[0];
                popup_574c3af17f8aa70e361e1bb022ee1e8d.setContent(html_367621f12f1a697e158b063fd6dee258);
            
        

        marker_44de64d7697cb7dc763e02ad8352e3c7.bindPopup(popup_574c3af17f8aa70e361e1bb022ee1e8d)
        ;

        
    
    
            var marker_bacc680858a1dd535ef85ed55ff13b7e = L.marker(
                [54.98017505, -1.6146802127187847],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_ccfe6f97c49ae0abcb79e4113e678256 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9dce3d84e37453cc8fb59a7ed64d81f0 = $(`<div id=&quot;html_9dce3d84e37453cc8fb59a7ed64d81f0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Newcastle University</div>`)[0];
                popup_ccfe6f97c49ae0abcb79e4113e678256.setContent(html_9dce3d84e37453cc8fb59a7ed64d81f0);
            
        

        marker_bacc680858a1dd535ef85ed55ff13b7e.bindPopup(popup_ccfe6f97c49ae0abcb79e4113e678256)
        ;

        
    
    
            var marker_976c7db494944813ef6c53622b9cdd59 = L.marker(
                [46.5225695, 6.580949860268587],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_23c6307d35715a1017475a2292d0f56e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_170e5f358eaad51a838c7709a512ed62 = $(`<div id=&quot;html_170e5f358eaad51a838c7709a512ed62&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Lausanne</div>`)[0];
                popup_23c6307d35715a1017475a2292d0f56e.setContent(html_170e5f358eaad51a838c7709a512ed62);
            
        

        marker_976c7db494944813ef6c53622b9cdd59.bindPopup(popup_23c6307d35715a1017475a2292d0f56e)
        ;

        
    
    
            var marker_ba73186125beec2d6b1f1d1e1fedb5c9 = L.marker(
                [44.5483698, 11.4125645],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_ceaafabd0edd384bc55262a2e2603d8d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_86276179ea56074e0064607de6ed9333 = $(`<div id=&quot;html_86276179ea56074e0064607de6ed9333&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bologna</div>`)[0];
                popup_ceaafabd0edd384bc55262a2e2603d8d.setContent(html_86276179ea56074e0064607de6ed9333);
            
        

        marker_ba73186125beec2d6b1f1d1e1fedb5c9.bindPopup(popup_ceaafabd0edd384bc55262a2e2603d8d)
        ;

        
    
    
            var marker_d0e20cc6dbdb49ae0fceaa4fb85f3d08 = L.marker(
                [60.1860789, 24.828102074406736],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_265171089522fa264eb3712afe1c7679 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e8f7c5f74a660366769f1443e53e2502 = $(`<div id=&quot;html_e8f7c5f74a660366769f1443e53e2502&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalto University</div>`)[0];
                popup_265171089522fa264eb3712afe1c7679.setContent(html_e8f7c5f74a660366769f1443e53e2502);
            
        

        marker_d0e20cc6dbdb49ae0fceaa4fb85f3d08.bindPopup(popup_265171089522fa264eb3712afe1c7679)
        ;

        
    
    
            var marker_4a2e80a6ef93a0980b91464b91ed2663 = L.marker(
                [53.40724285, -2.965833661018871],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_90c228661a7cd92f63649fdf90de0862 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a6b3c35b7fe7a7fe8b918cfd7ba1b355 = $(`<div id=&quot;html_a6b3c35b7fe7a7fe8b918cfd7ba1b355&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Liverpool</div>`)[0];
                popup_90c228661a7cd92f63649fdf90de0862.setContent(html_a6b3c35b7fe7a7fe8b918cfd7ba1b355);
            
        

        marker_4a2e80a6ef93a0980b91464b91ed2663.bindPopup(popup_90c228661a7cd92f63649fdf90de0862)
        ;

        
    
    
            var marker_73b36cc884a44bcdd0a64a78bf03d007 = L.marker(
                [51.96734215, 7.599243326272159],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c6bc6cbc690c830d9400d251a377a2d2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_da0feefe821491d98d24bed1a6bf0ca3 = $(`<div id=&quot;html_da0feefe821491d98d24bed1a6bf0ca3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Münster</div>`)[0];
                popup_c6bc6cbc690c830d9400d251a377a2d2.setContent(html_da0feefe821491d98d24bed1a6bf0ca3);
            
        

        marker_73b36cc884a44bcdd0a64a78bf03d007.bindPopup(popup_c6bc6cbc690c830d9400d251a377a2d2)
        ;

        
    
    
            var marker_dbe4ea69ec4b4d5fe3a5184d75eeb928 = L.marker(
                [52.2425267, 6.8567575],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_d9a11dfeb158884d866b8d95d44dd93d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_525f7dd8c96d781abb4c39df77821c36 = $(`<div id=&quot;html_525f7dd8c96d781abb4c39df77821c36&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Twente</div>`)[0];
                popup_d9a11dfeb158884d866b8d95d44dd93d.setContent(html_525f7dd8c96d781abb4c39df77821c36);
            
        

        marker_dbe4ea69ec4b4d5fe3a5184d75eeb928.bindPopup(popup_d9a11dfeb158884d866b8d95d44dd93d)
        ;

        
    
    
            var marker_f538be97812d1d08f3491cdfc92002c5 = L.marker(
                [51.48402915, -3.1697633635952807],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2231aef804ae5a98ae680b133e99ce34 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6b2a4229309955b0fbaf85e493d0ac1a = $(`<div id=&quot;html_6b2a4229309955b0fbaf85e493d0ac1a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Cardiff University</div>`)[0];
                popup_2231aef804ae5a98ae680b133e99ce34.setContent(html_6b2a4229309955b0fbaf85e493d0ac1a);
            
        

        marker_f538be97812d1d08f3491cdfc92002c5.bindPopup(popup_2231aef804ae5a98ae680b133e99ce34)
        ;

        
    
    
            var marker_35b16b07044520ead0fbff44b09a3d5f = L.marker(
                [59.2016758, 17.6203201],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1659e3316a89a697c5a14887d875fc30 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f06b41d42dca3c38766fdf2d26fe96ce = $(`<div id=&quot;html_f06b41d42dca3c38766fdf2d26fe96ce&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KTH Royal Institute of Technology</div>`)[0];
                popup_1659e3316a89a697c5a14887d875fc30.setContent(html_f06b41d42dca3c38766fdf2d26fe96ce);
            
        

        marker_35b16b07044520ead0fbff44b09a3d5f.bindPopup(popup_1659e3316a89a697c5a14887d875fc30)
        ;

        
    
    
            var marker_1413f666dde5f164cdd72ff039a87bd8 = L.marker(
                [47.690094, 9.188246768461973],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_7b3a24e66e496fb71ad1432db4b28b0e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bb5b1de938c2b6c0fe3aed32dc44ab7e = $(`<div id=&quot;html_bb5b1de938c2b6c0fe3aed32dc44ab7e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Konstanz</div>`)[0];
                popup_7b3a24e66e496fb71ad1432db4b28b0e.setContent(html_bb5b1de938c2b6c0fe3aed32dc44ab7e);
            
        

        marker_1413f666dde5f164cdd72ff039a87bd8.bindPopup(popup_7b3a24e66e496fb71ad1432db4b28b0e)
        ;

        
    
    
            var marker_0748c98edd5eda44f13020ea12b989e7 = L.marker(
                [51.4290899, 6.8008580326401],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_f6b1bce4562182fe4f9c24f726e13c41 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f9c9b0f43076fba11dc6c2a40183aa06 = $(`<div id=&quot;html_f9c9b0f43076fba11dc6c2a40183aa06&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Duisburg-Essen</div>`)[0];
                popup_f6b1bce4562182fe4f9c24f726e13c41.setContent(html_f9c9b0f43076fba11dc6c2a40183aa06);
            
        

        marker_0748c98edd5eda44f13020ea12b989e7.bindPopup(popup_f6b1bce4562182fe4f9c24f726e13c41)
        ;

        
    
    
            var marker_49067b798b4c571a37d5dbec9223d034 = L.marker(
                [52.62106225, 1.2356187242525833],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_c0047f1bb3af79068af60af088ac0b9f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c04762e9ac0fc6f744a3ce66667e69a = $(`<div id=&quot;html_7c04762e9ac0fc6f744a3ce66667e69a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of East Anglia</div>`)[0];
                popup_c0047f1bb3af79068af60af088ac0b9f.setContent(html_7c04762e9ac0fc6f744a3ce66667e69a);
            
        

        marker_49067b798b4c571a37d5dbec9223d034.bindPopup(popup_c0047f1bb3af79068af60af088ac0b9f)
        ;

        
    
    
            var marker_ea7d3f489852c77c9e6dbffdef4966b2 = L.marker(
                [57.015907049999996, 9.975308243557345],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_1a266d3d5708cef83caab974fc22e48c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_59d324eb3334054c64a91f3ae6d26bf3 = $(`<div id=&quot;html_59d324eb3334054c64a91f3ae6d26bf3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalborg University</div>`)[0];
                popup_1a266d3d5708cef83caab974fc22e48c.setContent(html_59d324eb3334054c64a91f3ae6d26bf3);
            
        

        marker_ea7d3f489852c77c9e6dbffdef4966b2.bindPopup(popup_1a266d3d5708cef83caab974fc22e48c)
        ;

        
    
    
            var marker_7a09c2156aa593d021a093ff92cbef38 = L.marker(
                [60.36887575, 5.351111541486731],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_29e300c74b34b71dcfecee0877ec780d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6b30602e1da3c51bf84d5601dbbcc2f3 = $(`<div id=&quot;html_6b30602e1da3c51bf84d5601dbbcc2f3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bergen</div>`)[0];
                popup_29e300c74b34b71dcfecee0877ec780d.setContent(html_6b30602e1da3c51bf84d5601dbbcc2f3);
            
        

        marker_7a09c2156aa593d021a093ff92cbef38.bindPopup(popup_29e300c74b34b71dcfecee0877ec780d)
        ;

        
    
    
            var marker_fdaf6f1bf2fd4ae81e48c3e16deaf5bc = L.marker(
                [55.7055406, 37.5360595],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_202b96c4afd180d704a6ad80926fc6d2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ad93646681a23020d77782edd943a816 = $(`<div id=&quot;html_ad93646681a23020d77782edd943a816&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lomonosov Moscow State University</div>`)[0];
                popup_202b96c4afd180d704a6ad80926fc6d2.setContent(html_ad93646681a23020d77782edd943a816);
            
        

        marker_fdaf6f1bf2fd4ae81e48c3e16deaf5bc.bindPopup(popup_202b96c4afd180d704a6ad80926fc6d2)
        ;

        
    
    
            var marker_e04effecda48118ef55bb0c4df75fd96 = L.marker(
                [51.1843856, 4.41993868786375],
                {}
            ).addTo(map_9b2897fa2a6427a4effc68678a1ec6d3);
        
    
        var popup_2c6afaa566af9c2dfe3cb2f2ad629181 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ab18a5862d0934af96999705a40b51fc = $(`<div id=&quot;html_ab18a5862d0934af96999705a40b51fc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Antwerp</div>`)[0];
                popup_2c6afaa566af9c2dfe3cb2f2ad629181.setContent(html_ab18a5862d0934af96999705a40b51fc);
            
        

        marker_e04effecda48118ef55bb0c4df75fd96.bindPopup(popup_2c6afaa566af9c2dfe3cb2f2ad629181)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="table-joins" class="level2">
<h2 class="anchored" data-anchor-id="table-joins">Table joins</h2>
<section id="attribute-join" class="level3">
<h3 class="anchored" data-anchor-id="attribute-join">Attribute join</h3>
<p>여러 데이터프레임의 정보를 공유 인덱스로 결합하기 위해 <code>pd.DataFrame.join()</code>을 사용하는 방법을 이미 알고 계실 것입니다. 인덱스에서 일치하는 값을 단순화하여 데이터를 조인하는 이 방법을 특성 조인이라고 합니다.</p>
<p>지오데이터프레임으로 특성 조인을 수행할 때는 <code>gpd.GeoDataFrame.merge()</code>를 사용하는 것이 가장 좋습니다. 이를 설명하기 위해 유럽의 모든 국가에 대한 경계가 포함된 GeoDataFrame europe_boundaries로 작업해 보겠습니다. 이 GeoDataFrame의 처음 다섯 행은 아래에 인쇄되어 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">'naturalearth_lowres'</span>))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> world.loc[world.continent <span class="op">==</span> <span class="st">'Europe'</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>europe_stats <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"pop_est"</span>, <span class="st">"gdp_md_est"</span>]]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>europe_boundaries <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"geometry"</span>]]</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>europe_boundaries.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name                                           geometry
0   Russia  MULTIPOLYGON (((180.00000 71.51571, 180.00000 ...
1   Norway  MULTIPOLYGON (((15.14282 79.67431, 15.52255 80...
2   France  MULTIPOLYGON (((-51.65780 4.15623, -52.24934 3...
3   Sweden  POLYGON ((11.02737 58.85615, 11.46827 59.43239...
4  Belarus  POLYGON ((28.17671 56.16913, 29.22951 55.91834...</code></pre>
</div>
</div>
<p>각 국가의 예상 인구와 국내총생산(GDP)을 포함하는 데이터 프레임 europe_stats와 결합합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>europe_stats.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name      pop_est  gdp_md_est
0   Russia  144373535.0     1699876
1   Norway    5347896.0      403336
2   France   67059887.0     2715518
3   Sweden   10285453.0      530883
4  Belarus    9466856.0       63080</code></pre>
</div>
</div>
<p>아래 코드 셀에서 Attribute join을 수행합니다. <code>on</code> 인수는 <code>europe_boundaries</code>의 행을 <code>europe_stats</code> 행에 일치시키는 데 사용되는 열 이름으로 설정됩니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an attribute join to merge data about countries in Europe</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> europe_boundaries.merge(europe_stats, on<span class="op">=</span><span class="st">"name"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>europe.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name  ... gdp_md_est
0   Russia  ...    1699876
1   Norway  ...     403336
2   France  ...    2715518
3   Sweden  ...     530883
4  Belarus  ...      63080

[5 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="spatial-join" class="level2">
<h2 class="anchored" data-anchor-id="spatial-join">Spatial join</h2>
<p>또 다른 조인 유형은 spatial join입니다. spatial join을 사용하면 ‘geometry’ 열에 있는 개체 간의 공간 관계를 기반으로 지오데이터 프레임을 결합합니다. 예를 들어, 유럽 대학의 지오코딩된 주소가 포함된 지오데이터 프레임 대학이 이미 있습니다.</p>
<p>그런 다음 spatial join을 사용하여 각 대학을 해당 국가에 일치시킬 수 있습니다. 이 작업은 <code>gpd.sjoin()</code>을 사용하여 수행합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use spatial join to match universities to countries in Europe</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities = gpd.sjoin(universities, europe)</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the result</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print("We located {} universities.".format(len(universities)))</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print("Only {} of the universities were located in Europe (in {} different countries).".format(</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#len(european_universities), len(european_universities.name.unique())))</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 spatial join은 두 지오데이터 프레임의 “geometry” 열을 살펴봅니다. 대학교 GeoDataFrame의 Point 개체가 유럽 데이터 프레임의 다각형 개체와 교차하는 경우, 해당 행이 결합되어 유럽_대학 데이터 프레임의 단일 행으로 추가됩니다. 그렇지 않으면 일치하는 대학이 없는 국가(및 일치하는 국가가 없는 대학)는 결과에서 생략됩니다.</p>
<p><code>gpd.sjoin()</code> 메서드는 <code>how</code> 및 <code>op</code> 인수를 통해 다양한 조인 유형에 맞게 사용자 지정할 수 있습니다. 예를 들어, how=‘left’(또는 how=‘right’)를 설정하여 SQL LEFT(또는 RIGHT) 조인과 동등한 작업을 수행할 수 있습니다.</p>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<section id="introduction-1" class="level3">
<h3 class="anchored" data-anchor-id="introduction-1">Introduction</h3>
<p>You are a Starbucks big data analyst (that’s a real job!) looking to find the next store into a Starbucks Reserve Roastery. These roasteries are much larger than a typical Starbucks store and have several additional features, including various food and wine options, along with upscale lounge areas. You’ll investigate the demographics of various counties in the state of California, to determine potentially suitable locations.</p>
</section>
<section id="geocode-the-missing-locations." class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-missing-locations.">Geocode the missing locations.</h3>
<p>Run the next code cell to create a DataFrame starbucks containing Starbucks locations in the state of California.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.read_csv(<span class="st">"/home/sungil/dataset/archive/starbucks_locations.csv"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>starbucks.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Store Number               Store Name  ... Longitude Latitude
0  10429-100710       Palmdale &amp; Hwy 395  ...   -117.40    34.51
1       635-352    Kanan &amp; Thousand Oaks  ...   -118.76    34.16
2   74510-27669  Vons-Agoura Hills #2001  ...   -118.76    34.15
3  29839-255026    Target Anaheim T-0677  ...   -117.75    33.87
4  23463-230284   Safeway - Alameda 3281  ...   -122.28    37.79

[5 rows x 6 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows in each column have missing values?</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(starbucks.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Store Number    0
Store Name      0
Address         0
City            0
Longitude       5
Latitude        5
dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows with missing locations</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>rows_with_missing <span class="op">=</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">"Berkeley"</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>rows_with_missing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Store Number                Store Name  ... Longitude Latitude
153      5406-945  2224 Shattuck - Berkeley  ...       NaN      NaN
154       570-512                Solano Ave  ...       NaN      NaN
155  17877-164526   Safeway - Berkeley #691  ...       NaN      NaN
156  19864-202264         Telegraph &amp; Ashby  ...       NaN      NaN
157     9217-9253           2128 Oxford St.  ...       NaN      NaN

[5 rows x 6 columns]</code></pre>
</div>
</div>
<p>Use the code cell below to fill in these values with the Nominatim geocoder.</p>
<p>Note that in the tutorial, we used Nominatim() (from geopy.geocoders) to geocode values, and this is what you can use in your own projects outside of this course.</p>
<p>In this exercise, you will use a slightly different function Nominatim() (from learntools.geospatial.tools). This function was imported at the top of the notebook and works identically to the function from GeoPandas.</p>
<p>So, in other words, as long as:</p>
<p>you don’t change the import statements at the top of the notebook, and you call the geocoding function as geocode() in the code cell below, your code will work as intended!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>berkeley_locations <span class="op">=</span> rows_with_missing.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Address'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>starbucks.update(berkeley_locations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="view-berkeley-locations" class="level3">
<h3 class="anchored" data-anchor-id="view-berkeley-locations">View Berkeley locations</h3>
<p>Let’s take a look at the locations you just found. Visualize the (latitude, longitude) locations in Berkeley in the OpenStreetMap style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>m_2 <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="fl">37.88</span>,<span class="op">-</span><span class="fl">122.26</span>], zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a marker for each Berkeley location</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">'Berkeley'</span>].iterrows():</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]]).add_to(m_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x7f0d78320f70&gt;
&lt;folium.map.Marker object at 0x7f0d782d0af0&gt;
&lt;folium.map.Marker object at 0x7f0d78320340&gt;
&lt;folium.map.Marker object at 0x7f0d75a02e20&gt;
&lt;folium.map.Marker object at 0x7f0d78320a60&gt;</code></pre>
</div>
</div>
</section>
<section id="consolidate-your-data" class="level3">
<h3 class="anchored" data-anchor-id="consolidate-your-data">Consolidate your data</h3>
<p>Run the code below to load a GeoDataFrame CA_counties containing the name, area (in square kilometers), and a unique id (in the “GEOID” column) for each county in the state of California. The “geometry” column contains a polygon with county boundaries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>CA_counties <span class="op">=</span> gpd.read_file(<span class="st">"/home/sungil/dataset/archive/CA_county_boundaries/CA_county_boundaries/CA_county_boundaries.shp"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>CA_counties.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>CA_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   GEOID  ...                                           geometry
0   6091  ...  POLYGON ((-120.65560 39.69357, -120.65554 39.6...
1   6067  ...  POLYGON ((-121.18858 38.71431, -121.18732 38.7...
2   6083  ...  MULTIPOLYGON (((-120.58191 34.09856, -120.5822...
3   6009  ...  POLYGON ((-120.63095 38.34111, -120.63058 38.3...
4   6111  ...  MULTIPOLYGON (((-119.63631 33.27304, -119.6360...

[5 rows x 4 columns]</code></pre>
</div>
</div>
<p>Next, we create three DataFrames:</p>
<ul>
<li><p><code>CA_pop</code> contains an estimate of the population of each county.</p></li>
<li><p><code>CA_high_earners</code> contains the number of households with an income of at least $150,000 per year.</p></li>
<li><p><code>CA_median_age</code> contains the median age for each county.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>CA_pop <span class="op">=</span> pd.read_csv(<span class="st">"/home/sungil/dataset/archive/CA_county_population.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>CA_high_earners <span class="op">=</span> pd.read_csv(<span class="st">"/home/sungil/dataset/archive/CA_county_high_earners.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>CA_median_age <span class="op">=</span> pd.read_csv(<span class="st">"/home/sungil/dataset/archive/CA_county_median_age.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use the next code cell to join the <code>CA_counties</code> GeoDataFrame with <code>CA_pop</code>, <code>CA_high_earners</code>, and <code>CA_median_age</code>.</p>
<p>Name the resultant GeoDataFrame <code>CA_stats</code>, and make sure it has 8 columns: “GEOID”, “name”, “area_sqkm”, “geometry”, “population”, “high_earners”, and “median_age”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cols_to_add <span class="op">=</span> CA_pop.join([CA_high_earners, CA_median_age]).reset_index()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>CA_stats <span class="op">=</span> CA_counties.merge(cols_to_add, on<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>CA_stats[<span class="st">"density"</span>] <span class="op">=</span> CA_stats[<span class="st">"population"</span>] <span class="op">/</span> CA_stats[<span class="st">"area_sqkm"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="which-counties-look-promising" class="level3">
<h3 class="anchored" data-anchor-id="which-counties-look-promising">Which counties look promising?</h3>
<p>Collapsing all of the information into a single GeoDataFrame also makes it much easier to select counties that meet specific criteria.</p>
<p>Use the next code cell to create a GeoDataFrame <code>sel_counties</code> that contains a subset of the rows (and all of the columns) from the <code>CA_stats</code> GeoDataFrame. In particular, you should select counties where:</p>
<ul>
<li><p>there are at least 100,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 38.5, and</p></li>
<li><p>the density of inhabitants is at least 285 (per square kilometer).</p></li>
</ul>
<p>Additionally, selected counties should satisfy at least one of the following criteria:</p>
<ul>
<li><p>there are at least 500,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 35.5, or</p></li>
<li><p>the density of inhabitants is at least 1400 (per square kilometer).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>sel_counties <span class="op">=</span> CA_stats[((CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">100000</span>) <span class="op">&amp;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.median_age <span class="op">&lt;</span> <span class="fl">38.5</span>) <span class="op">&amp;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">285</span>) <span class="op">&amp;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                         ((CA_stats.median_age <span class="op">&lt;</span> <span class="fl">35.5</span>) <span class="op">|</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">1400</span>) <span class="op">|</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">500000</span>)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-stores-did-you-identify" class="level3">
<h3 class="anchored" data-anchor-id="how-many-stores-did-you-identify">How many stores did you identify?</h3>
<p>When looking for the next Starbucks Reserve Roastery location, you’d like to consider all of the stores within the counties that you selected. So, how many stores are within the selected counties?</p>
<p>To prepare to answer this question, run the next code cell to create a GeoDataFrame <code>starbucks_gdf</code> with all of the starbucks locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>starbucks_gdf <span class="op">=</span> gpd.GeoDataFrame(starbucks, geometry<span class="op">=</span>gpd.points_from_xy(starbucks.Longitude, starbucks.Latitude))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>starbucks_gdf.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">#num_stores = len(locations_of_interest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-the-store-locations." class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-store-locations.">Visualize the store locations.</h3>
<p>Create a map that shows the locations of the stores that you identified in the previous question.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6 = folium.Map(location=[37,-120], zoom_start=6)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mc = MarkerCluster()</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for idx, row in locations_of_interest.iterrows():</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    if not math.isnan(row['Longitude']) and not math.isnan(row['Latitude']):</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co">#        mc.add_child(folium.Marker([row['Latitude'], row['Longitude']]))</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6.add_child(mc)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
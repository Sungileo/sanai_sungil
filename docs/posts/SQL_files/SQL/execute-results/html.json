{
  "hash": "17483b0142c81ae9df9c5e515ed86d1a",
  "result": {
    "markdown": "---\ntitle: \"SQL\"\nauthor: \"sungil_park\"\ndate: \"2023/04/10\"\ndate-modified: \"2023/04/10\"\ndescription: \"SQL Basics\"\ncategories: SQL\neditor_options: \n  chunk_output_type: inline\nimage: \"../../img/sql.png\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(list=ls())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(DBI)\nlibrary(RSQLite)\nlibrary(dbplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\n다음의 패키지를 부착합니다: 'dbplyr'\n\nThe following objects are masked from 'package:dplyr':\n\n    ident, sql\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nus_census<-read_csv(\"https://raw.githubusercontent.com/Sungileo/trainsets/main/drive-download-20230405T011215Z-001/US_census.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 3143 Columns: 53\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): state, name\ndbl (51): FIPS, pop2010, pop2000, age_under_5, age_under_18, age_over_65, fe...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n#us_census %>% View()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncon <- DBI::dbConnect(RSQLite::SQLite(), \n                      dbname = \"testsqlite\")\ncopy_to(dest = con, \n        df = us_census, \n        name = \"us_census\")\n\ncopy_to(dest = con,\n        df = mtcars,\n        name = \"mtcars\")\n\n\ndbListTables(con)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"mtcars\"       \"sqlite_stat1\" \"sqlite_stat4\" \"us_census\"   \n```\n:::\n:::\n\n::: {.cell}\n\n```{.sql .cell-code}\nSELECT * FROM us_census\n```\n\n\n<div class=\"knitsql-table\">\n\n\nTable: Displaying records 1 - 10\n\n|state   |name            | FIPS| pop2010| pop2000| age_under_5| age_under_18| age_over_65| female| white| black| native| asian| pac_isl| two_plus_races| hispanic| white_not_hispanic| no_move_in_one_plus_year| foreign_born| foreign_spoken_at_home| hs_grad| bachelors| veterans| mean_work_travel| housing_units| home_ownership| housing_multi_unit| median_val_owner_occupied| households| persons_per_household| per_capita_income| median_household_income| poverty| private_nonfarm_establishments| private_nonfarm_employment| percent_change_private_nonfarm_employment| nonemployment_establishments| firms| black_owned_firms| native_owned_firms| asian_owned_firms| pac_isl_owned_firms| hispanic_owned_firms| women_owned_firms| manufacturer_shipments_2007| mercent_whole_sales_2007|   sales| sales_per_capita| accommodation_food_service| building_permits| fed_spending|    area| density|\n|:-------|:---------------|----:|-------:|-------:|-----------:|------------:|-----------:|------:|-----:|-----:|------:|-----:|-------:|--------------:|--------:|------------------:|------------------------:|------------:|----------------------:|-------:|---------:|--------:|----------------:|-------------:|--------------:|------------------:|-------------------------:|----------:|---------------------:|-----------------:|-----------------------:|-------:|------------------------------:|--------------------------:|-----------------------------------------:|----------------------------:|-----:|-----------------:|------------------:|-----------------:|-------------------:|--------------------:|-----------------:|---------------------------:|------------------------:|-------:|----------------:|--------------------------:|----------------:|------------:|-------:|-------:|\n|Alabama |Autauga County  | 1001|   54571|   43671|         6.6|         26.8|        12.0|   51.3|  78.5|  17.7|    0.4|   0.9|      NA|            1.6|      2.4|               77.2|                     86.3|          2.0|                    3.7|    85.3|      21.7|     5817|             25.1|         22135|           77.5|                7.2|                    133900|      19718|                  2.70|             24568|                   53255|    10.6|                            877|                      10628|                                      16.6|                         2971|  4067|              15.2|                 NA|               1.3|                  NA|                  0.7|              31.7|                          NA|                       NA|  598175|            12003|                      88157|              191|       331142|  594.44|    91.8|\n|Alabama |Baldwin County  | 1003|  182265|  140415|         6.1|         23.0|        16.8|   51.1|  85.7|   9.4|    0.7|   0.7|      NA|            1.5|      4.4|               83.5|                     83.0|          3.6|                    5.5|    87.6|      26.8|    20396|             25.8|        104061|           76.7|               22.6|                    177200|      69476|                  2.50|             26469|                   50147|    12.2|                           4812|                      52233|                                      17.4|                        14175| 19035|               2.7|                0.4|               1.0|                  NA|                  1.3|              27.3|                     1410273|                       NA| 2966489|            17166|                     436955|              696|      1119082| 1589.78|   114.6|\n|Alabama |Barbour County  | 1005|   27457|   29038|         6.2|         21.9|        14.2|   46.9|  48.0|  46.9|    0.4|   0.4|      NA|            0.9|      5.1|               46.8|                     83.0|          2.8|                    4.7|    71.9|      13.5|     2327|             23.8|         11829|           68.0|               11.1|                     88200|       9795|                  2.52|             15875|                   33219|    25.0|                            522|                       7990|                                     -27.0|                         1527|  1667|                NA|                 NA|                NA|                  NA|                   NA|              27.0|                          NA|                       NA|  188337|             6334|                         NA|               10|       240308|  884.88|    31.0|\n|Alabama |Bibb County     | 1007|   22915|   20826|         6.0|         22.7|        12.7|   46.3|  75.8|  22.0|    0.3|   0.1|      NA|            0.9|      1.8|               75.0|                     90.5|          0.7|                    1.5|    74.5|      10.0|     1883|             28.3|          8981|           82.9|                6.6|                     81200|       7441|                  3.02|             19918|                   41770|    12.6|                            318|                       2927|                                     -14.0|                         1192|  1385|              14.9|                 NA|                NA|                  NA|                   NA|                NA|                           0|                       NA|  124707|             5804|                      10757|                8|       163201|  622.58|    36.8|\n|Alabama |Blount County   | 1009|   57322|   51024|         6.3|         24.6|        14.7|   50.5|  92.6|   1.3|    0.5|   0.2|      NA|            1.2|      8.1|               88.9|                     87.2|          4.7|                    7.2|    74.7|      12.5|     4072|             33.2|         23887|           82.0|                3.7|                    113700|      20605|                  2.73|             21070|                   45549|    13.4|                            749|                       6968|                                     -11.4|                         3501|  4458|                NA|                 NA|                NA|                  NA|                   NA|              23.2|                      341544|                       NA|  319700|             5622|                      20941|               18|       294114|  644.78|    88.9|\n|Alabama |Bullock County  | 1011|   10914|   11714|         6.8|         22.3|        13.5|   45.8|  23.0|  70.2|    0.2|   0.2|      NA|            0.8|      7.1|               21.9|                     88.5|          1.1|                    3.8|    74.7|      12.0|      943|             28.1|          4493|           76.9|                9.9|                     66300|       3732|                  2.85|             20289|                   31602|    25.3|                            120|                       1919|                                     -18.5|                          390|   417|                NA|                 NA|                NA|                  NA|                   NA|              38.8|                          NA|                       NA|   43810|             3995|                       3670|                1|       108846|  622.81|    17.5|\n|Alabama |Butler County   | 1013|   20947|   21399|         6.5|         24.1|        16.7|   53.0|  54.4|  43.4|    0.3|   0.8|     0.0|            0.8|      0.9|               54.1|                     92.8|          1.1|                    1.6|    74.8|      11.0|     1675|             25.1|          9964|           69.0|               13.7|                     70200|       8019|                  2.58|             16916|                   30659|    25.0|                            446|                       5400|                                       2.1|                         1180|  1769|                NA|                 NA|               3.3|                  NA|                   NA|                NA|                      399132|                    56712|  229277|            11326|                      28427|                3|       195055|  776.83|    27.0|\n|Alabama |Calhoun County  | 1015|  118572|  112249|         6.1|         22.9|        14.3|   51.8|  74.9|  20.6|    0.5|   0.7|     0.1|            1.7|      3.3|               73.6|                     82.9|          2.5|                    4.5|    78.5|      16.1|    11757|             22.1|         53289|           70.7|               14.3|                     98200|      46421|                  2.46|             20574|                   38407|    19.5|                           2444|                      38324|                                      -5.6|                         6329|  8713|               7.2|                 NA|               1.6|                  NA|                  0.5|              24.7|                     2679991|                       NA| 1542981|            13678|                     186533|              107|      1830659|  605.87|   195.7|\n|Alabama |Chambers County | 1017|   34215|   36583|         5.7|         22.5|        16.7|   52.2|  58.8|  38.7|    0.2|   0.5|     0.0|            1.1|      1.6|               58.1|                     86.2|          0.9|                    1.6|    71.8|      10.8|     2893|             23.6|         17004|           71.4|                8.7|                     82200|      13681|                  2.51|             16626|                   31467|    20.3|                            568|                       6241|                                     -45.8|                         2074|  1981|                NA|                 NA|                NA|                  NA|                   NA|              29.3|                      667283|                       NA|  264650|             7620|                      23237|               10|       294718|  596.53|    57.4|\n|Alabama |Cherokee County | 1019|   25989|   23988|         5.3|         21.4|        17.9|   50.4|  92.7|   4.6|    0.5|   0.2|     0.0|            1.5|      1.2|               92.1|                     88.1|          0.5|                    1.4|    73.4|      10.5|     2172|             26.2|         16267|           77.5|                4.3|                     97100|      11352|                  2.22|             21322|                   40690|    17.6|                            350|                       3600|                                       5.4|                         1627|  2180|                NA|                 NA|                NA|                  NA|                   NA|              14.5|                      307439|                    62293|  186321|             7613|                      13948|                6|       184642|  553.70|    46.9|\n\n</div>\n:::\n\n::: {.cell}\n\n```{.sql .cell-code}\nselect * from mtcars\n```\n\n\n<div class=\"knitsql-table\">\n\n\nTable: Displaying records 1 - 10\n\n|  mpg| cyl|  disp|  hp| drat|    wt|  qsec| vs| am| gear| carb|\n|----:|---:|-----:|---:|----:|-----:|-----:|--:|--:|----:|----:|\n| 21.0|   6| 160.0| 110| 3.90| 2.620| 16.46|  0|  1|    4|    4|\n| 21.0|   6| 160.0| 110| 3.90| 2.875| 17.02|  0|  1|    4|    4|\n| 22.8|   4| 108.0|  93| 3.85| 2.320| 18.61|  1|  1|    4|    1|\n| 21.4|   6| 258.0| 110| 3.08| 3.215| 19.44|  1|  0|    3|    1|\n| 18.7|   8| 360.0| 175| 3.15| 3.440| 17.02|  0|  0|    3|    2|\n| 18.1|   6| 225.0| 105| 2.76| 3.460| 20.22|  1|  0|    3|    1|\n| 14.3|   8| 360.0| 245| 3.21| 3.570| 15.84|  0|  0|    3|    4|\n| 24.4|   4| 146.7|  62| 3.69| 3.190| 20.00|  1|  0|    4|    2|\n| 22.8|   4| 140.8|  95| 3.92| 3.150| 22.90|  1|  0|    4|    2|\n| 19.2|   6| 167.6| 123| 3.92| 3.440| 18.30|  1|  0|    4|    4|\n\n</div>\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
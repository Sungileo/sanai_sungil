<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungil Park">
<meta name="dcterms.date" content="2023-04-24">
<meta name="description" content="Kaggle Geospatial Analysis (4/5)">

<title>Sungil_Park - Manipulating Geospatial Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sungil_Park</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kaggle_geo.html" rel="" target="">
 <span class="menu-text">Geospatial Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../recordings.html" rel="" target="">
 <span class="menu-text">Recordings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contact" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Contact</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contact">    
        <li>
    <a class="dropdown-item" href="https://github.com/Sungileo" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">Github</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://kr.linkedin.com/in/sungilfromcheonankorea" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">Linkedin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.instagram.com/da_real_sungil" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="dropdown-text">Instagram</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#table-joins" id="toc-table-joins" class="nav-link" data-scroll-target="#table-joins">Table joins</a>
  <ul class="collapse">
  <li><a href="#attribute-join" id="toc-attribute-join" class="nav-link" data-scroll-target="#attribute-join">Attribute join</a></li>
  </ul></li>
  <li><a href="#spatial-join" id="toc-spatial-join" class="nav-link" data-scroll-target="#spatial-join">Spatial join</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#geocode-the-missing-locations." id="toc-geocode-the-missing-locations." class="nav-link" data-scroll-target="#geocode-the-missing-locations.">Geocode the missing locations.</a></li>
  <li><a href="#view-berkeley-locations" id="toc-view-berkeley-locations" class="nav-link" data-scroll-target="#view-berkeley-locations">View Berkeley locations</a></li>
  <li><a href="#consolidate-your-data" id="toc-consolidate-your-data" class="nav-link" data-scroll-target="#consolidate-your-data">Consolidate your data</a></li>
  <li><a href="#which-counties-look-promising" id="toc-which-counties-look-promising" class="nav-link" data-scroll-target="#which-counties-look-promising">Which counties look promising?</a></li>
  <li><a href="#how-many-stores-did-you-identify" id="toc-how-many-stores-did-you-identify" class="nav-link" data-scroll-target="#how-many-stores-did-you-identify">How many stores did you identify?</a></li>
  <li><a href="#visualize-the-store-locations." id="toc-visualize-the-store-locations." class="nav-link" data-scroll-target="#visualize-the-store-locations.">Visualize the store locations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manipulating Geospatial Data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Kaggle tutorial</div>
  </div>
  </div>

<div>
  <div class="description">
    Kaggle Geospatial Analysis (4/5)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungil Park </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>이 튜토리얼에서는 Geocoding과 Table join이라는 두 가지 지리적 공간 데이터에 대한 일반적인 조작에 대해 알아봅니다.</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>지오코딩은 장소 이름이나 주소를 지도상의 위치로 변환하는 프로세스입니다. 예를 들어 Google 지도, Bing 지도 등에서 랜드마크 설명을 기반으로 지리적 위치를 찾아본 적이 있다면 지오코딩을 사용해 본 적이 있을 것입니다</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>C:\Users\sungi\PYTHON~1\Lib\site-packages\geopandas\_compat.py:123: UserWarning: The Shapely GEOS version (3.10.1-CAPI-1.16.0) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.
  warnings.warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium <span class="im">import</span> Marker</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 코드 셀에서 <code>Nominatim</code>은 위치를 생성하는 데 사용되는 지오코딩 소프트웨어를 나타냅니다.</p>
<p>지오코더를 인스턴스화하는 것으로 시작합니다. 그런 다음 이름이나 주소를 Python 문자열로 적용하기만 하면 됩니다. (이 경우, 기자의 대피라미드라고도 알려진 “쿠푸의 피라미드”를 제공합니다.)</p>
<p>지오코딩이 성공하면 두 가지 중요한 속성이 있는 geopy.location.Location 객체를 반환합니다:</p>
<ul>
<li><p><code>point</code> 속성에는 (위도, 경도) 위치가 포함되고</p></li>
<li><p><code>address</code> 속성은 전체 주소를 포함합니다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>location <span class="op">=</span> geolocator.geocode(<span class="st">"Pyramid of Khufu"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>29 58m 44.976s N, 31 8m 3.17625s E</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>هرم خوفو, شارع ابو الهول السياحي, نزلة البطران, الجيزة, 12125, مصر</code></pre>
</div>
</div>
<p><code>point</code> 속성의 값은 <code>geopy.point.Point</code> 객체이며, <code>latitude</code> 및 <code>longitude</code> 속성에서 각각 위도와 경도를 가져올 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> location.point</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Latitude:"</span>, point.latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Latitude: 29.97916</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Longitude:"</span>, point.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Longitude: 31.134215625236113</code></pre>
</div>
</div>
<p>다양한 주소를 지오코딩해야 하는 경우가 종종 있습니다. 예를 들어 유럽에 있는 상위 100개 대학의 위치를 파악하고 싶다고 가정해 보겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/top_universities.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name
0     University of Oxford
1  University of Cambridge
2  Imperial College London
3               ETH Zurich
4                      UCL</code></pre>
</div>
</div>
<p>그런 다음 람다 함수를 사용하여 데이터 프레임의 모든 행에 지오코딩을 적용할 수 있습니다.</p>
<p>(지오코딩이 실패할 경우를 대비하여 try/except 문을 사용합니다.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>universities[[<span class="st">'Latitude'</span>, <span class="st">'Longitude'</span>]] <span class="op">=</span> universities.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Name'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}% o</span><span class="st">f addresses were geocoded!"</span>.<span class="bu">format</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(np.isnan(universities[<span class="st">"Latitude"</span>])) <span class="op">/</span> <span class="bu">len</span>(universities)) <span class="op">*</span> <span class="dv">100</span>))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop universities that were not successfully geocoded</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>91.0% of addresses were geocoded!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> universities.loc[<span class="op">~</span>np.isnan(universities[<span class="st">"Latitude"</span>])]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    universities, geometry<span class="op">=</span>gpd.points_from_xy(universities.Longitude, universities.Latitude))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>universities.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name   Latitude  Longitude                   geometry
0     University of Oxford  51.759037  -1.252430  POINT (-1.25243 51.75904)
1  University of Cambridge  52.200623   0.110474   POINT (0.11047 52.20062)
2  Imperial College London  51.498959  -0.175641  POINT (-0.17564 51.49896)
3               ETH Zurich  47.562772   7.580947   POINT (7.58095 47.56277)
4                      UCL  51.521785  -0.135151  POINT (-0.13515 51.52179)</code></pre>
</div>
</div>
<p>다음으로 지오코더가 반환한 모든 위치를 시각화합니다. 일부 위치는 유럽이 아니기 때문에 확실히 부정확하다는 것을 알 수 있습니다!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a map</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="dv">54</span>, <span class="dv">15</span>], tiles<span class="op">=</span><span class="st">'openstreetmap'</span>, zoom_start<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> universities.iterrows():</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]], popup<span class="op">=</span>row[<span class="st">'Name'</span>]).add_to(m)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x00000244CEC83A90&gt;
&lt;folium.map.Marker object at 0x00000244D8C70DD0&gt;
&lt;folium.map.Marker object at 0x00000244D1B53890&gt;
&lt;folium.map.Marker object at 0x00000244D1B38810&gt;
&lt;folium.map.Marker object at 0x00000244D1B46A50&gt;
&lt;folium.map.Marker object at 0x00000244D1B44B50&gt;
&lt;folium.map.Marker object at 0x00000244D1B11E10&gt;
&lt;folium.map.Marker object at 0x00000244D1D88E10&gt;
&lt;folium.map.Marker object at 0x00000244D1D8AD10&gt;
&lt;folium.map.Marker object at 0x00000244D1D8B450&gt;
&lt;folium.map.Marker object at 0x00000244D1D8BE50&gt;
&lt;folium.map.Marker object at 0x00000244D1D8BDD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D8BA10&gt;
&lt;folium.map.Marker object at 0x00000244D1D89910&gt;
&lt;folium.map.Marker object at 0x00000244D04F03D0&gt;
&lt;folium.map.Marker object at 0x00000244D1B13BD0&gt;
&lt;folium.map.Marker object at 0x00000244D1B20C90&gt;
&lt;folium.map.Marker object at 0x00000244D1D8B650&gt;
&lt;folium.map.Marker object at 0x00000244D1D89BD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D89750&gt;
&lt;folium.map.Marker object at 0x00000244D1D88E90&gt;
&lt;folium.map.Marker object at 0x00000244D1D89190&gt;
&lt;folium.map.Marker object at 0x00000244D1D88F90&gt;
&lt;folium.map.Marker object at 0x00000244D1D457D0&gt;
&lt;folium.map.Marker object at 0x00000244D1D45D90&gt;
&lt;folium.map.Marker object at 0x00000244D1D44490&gt;
&lt;folium.map.Marker object at 0x00000244D1D44DD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D46590&gt;
&lt;folium.map.Marker object at 0x00000244D1D45F90&gt;
&lt;folium.map.Marker object at 0x00000244D1D47DD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D47D10&gt;
&lt;folium.map.Marker object at 0x00000244D1D44790&gt;
&lt;folium.map.Marker object at 0x00000244D1D46550&gt;
&lt;folium.map.Marker object at 0x00000244D1D475D0&gt;
&lt;folium.map.Marker object at 0x00000244D1D0E790&gt;
&lt;folium.map.Marker object at 0x00000244D037E790&gt;
&lt;folium.map.Marker object at 0x00000244D1B71590&gt;
&lt;folium.map.Marker object at 0x00000244D1B709D0&gt;
&lt;folium.map.Marker object at 0x00000244D1B71E10&gt;
&lt;folium.map.Marker object at 0x00000244D1B71110&gt;
&lt;folium.map.Marker object at 0x00000244D8C821D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C82FD0&gt;
&lt;folium.map.Marker object at 0x00000244D8C832D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C83010&gt;
&lt;folium.map.Marker object at 0x00000244D8C83550&gt;
&lt;folium.map.Marker object at 0x00000244D8C81290&gt;
&lt;folium.map.Marker object at 0x00000244D8C82750&gt;
&lt;folium.map.Marker object at 0x00000244D8C82450&gt;
&lt;folium.map.Marker object at 0x00000244D8C81E50&gt;
&lt;folium.map.Marker object at 0x00000244D8C81B10&gt;
&lt;folium.map.Marker object at 0x00000244D8C81510&gt;
&lt;folium.map.Marker object at 0x00000244D8C82D50&gt;
&lt;folium.map.Marker object at 0x00000244D1D78F90&gt;
&lt;folium.map.Marker object at 0x00000244D1D78B50&gt;
&lt;folium.map.Marker object at 0x00000244D1D780D0&gt;
&lt;folium.map.Marker object at 0x00000244D1D79A90&gt;
&lt;folium.map.Marker object at 0x00000244D1D79B50&gt;
&lt;folium.map.Marker object at 0x00000244D1D79AD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D7A550&gt;
&lt;folium.map.Marker object at 0x00000244D1D7A390&gt;
&lt;folium.map.Marker object at 0x00000244D1D7BCD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D7A610&gt;
&lt;folium.map.Marker object at 0x00000244D1D7B950&gt;
&lt;folium.map.Marker object at 0x00000244D1D7B7D0&gt;
&lt;folium.map.Marker object at 0x00000244D1D79110&gt;
&lt;folium.map.Marker object at 0x00000244D1D78990&gt;
&lt;folium.map.Marker object at 0x00000244D1D91FD0&gt;
&lt;folium.map.Marker object at 0x00000244D1D93090&gt;
&lt;folium.map.Marker object at 0x00000244D1D93F10&gt;
&lt;folium.map.Marker object at 0x00000244D1D91F50&gt;
&lt;folium.map.Marker object at 0x00000244D1D91590&gt;
&lt;folium.map.Marker object at 0x00000244D1D91A50&gt;
&lt;folium.map.Marker object at 0x00000244D1D90890&gt;
&lt;folium.map.Marker object at 0x00000244D1D90B50&gt;
&lt;folium.map.Marker object at 0x00000244D1D90750&gt;
&lt;folium.map.Marker object at 0x00000244D1D939D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C881D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C885D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C88B90&gt;
&lt;folium.map.Marker object at 0x00000244D8C89950&gt;
&lt;folium.map.Marker object at 0x00000244D8C89CD0&gt;
&lt;folium.map.Marker object at 0x00000244D8C8A090&gt;
&lt;folium.map.Marker object at 0x00000244D8C8A410&gt;
&lt;folium.map.Marker object at 0x00000244D8C8A790&gt;
&lt;folium.map.Marker object at 0x00000244D8C8AB10&gt;
&lt;folium.map.Marker object at 0x00000244D8C8AE90&gt;
&lt;folium.map.Marker object at 0x00000244D8C8B250&gt;
&lt;folium.map.Marker object at 0x00000244D8C8B5D0&gt;
&lt;folium.map.Marker object at 0x00000244D8C8B990&gt;
&lt;folium.map.Marker object at 0x00000244D8C8BD10&gt;
&lt;folium.map.Marker object at 0x00000244D8C8BF10&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_ff7be9578b9f8792de2c9cdd80cfd942 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_ff7be9578b9f8792de2c9cdd80cfd942&quot; ></div>
        
</body>
<script>
    
    
            var map_ff7be9578b9f8792de2c9cdd80cfd942 = L.map(
                &quot;map_ff7be9578b9f8792de2c9cdd80cfd942&quot;,
                {
                    center: [54.0, 15.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 2,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_981cd9952ae96596552b47eccc996b74 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
            var marker_4a60353923be4a9fa761e882c38ebaf0 = L.marker(
                [51.7590373, -1.2524298],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9db1a457ff32f1bbe952b75410a40e39 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7ada7ef1abb4024435c543a35a4f33a7 = $(`<div id=&quot;html_7ada7ef1abb4024435c543a35a4f33a7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oxford</div>`)[0];
                popup_9db1a457ff32f1bbe952b75410a40e39.setContent(html_7ada7ef1abb4024435c543a35a4f33a7);
            
        

        marker_4a60353923be4a9fa761e882c38ebaf0.bindPopup(popup_9db1a457ff32f1bbe952b75410a40e39)
        ;

        
    
    
            var marker_4a7d03b88857e5ea437e7fa7d0ccd0c8 = L.marker(
                [52.2006233, 0.1104744],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_452140cec8a13944f77f5b3d95d5eac6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b35462728da5570a5f64af2bb72eb1b8 = $(`<div id=&quot;html_b35462728da5570a5f64af2bb72eb1b8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cambridge</div>`)[0];
                popup_452140cec8a13944f77f5b3d95d5eac6.setContent(html_b35462728da5570a5f64af2bb72eb1b8);
            
        

        marker_4a7d03b88857e5ea437e7fa7d0ccd0c8.bindPopup(popup_452140cec8a13944f77f5b3d95d5eac6)
        ;

        
    
    
            var marker_556a0f643e628089e6db2c39037071d0 = L.marker(
                [51.4989595, -0.17564069276310426],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_f9352f956bcbedabce39b2b00aaed9f3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_51500913cb19e2d83eb08819b9fff2f5 = $(`<div id=&quot;html_51500913cb19e2d83eb08819b9fff2f5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Imperial College London</div>`)[0];
                popup_f9352f956bcbedabce39b2b00aaed9f3.setContent(html_51500913cb19e2d83eb08819b9fff2f5);
            
        

        marker_556a0f643e628089e6db2c39037071d0.bindPopup(popup_f9352f956bcbedabce39b2b00aaed9f3)
        ;

        
    
    
            var marker_04cd50e29096fc14dbd8a688c3b417ce = L.marker(
                [47.56277165, 7.580947334069263],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9a44fdb456350ab4f29ee8b5ac111361 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_09af65aa2f26d5f03b04d7d09f1b3cc6 = $(`<div id=&quot;html_09af65aa2f26d5f03b04d7d09f1b3cc6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>ETH Zurich</div>`)[0];
                popup_9a44fdb456350ab4f29ee8b5ac111361.setContent(html_09af65aa2f26d5f03b04d7d09f1b3cc6);
            
        

        marker_04cd50e29096fc14dbd8a688c3b417ce.bindPopup(popup_9a44fdb456350ab4f29ee8b5ac111361)
        ;

        
    
    
            var marker_3ffe53cca495b18cb475b717df7f0b54 = L.marker(
                [51.5217852, -0.13515149671251314],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_a3a6a1d57a62f72907490eb2988807f1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4a85171985e4baefc8868ebcb344c00c = $(`<div id=&quot;html_4a85171985e4baefc8868ebcb344c00c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>UCL</div>`)[0];
                popup_a3a6a1d57a62f72907490eb2988807f1.setContent(html_4a85171985e4baefc8868ebcb344c00c);
            
        

        marker_3ffe53cca495b18cb475b717df7f0b54.bindPopup(popup_a3a6a1d57a62f72907490eb2988807f1)
        ;

        
    
    
            var marker_ac71312e08399d054c27e07695163277 = L.marker(
                [51.51421115, -0.11680813159099895],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_68aff47f557e4d5811043ec431c03b62 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_77e3b280d66116d9436a97d7d5393db8 = $(`<div id=&quot;html_77e3b280d66116d9436a97d7d5393db8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>London School of Economics and Political Science</div>`)[0];
                popup_68aff47f557e4d5811043ec431c03b62.setContent(html_77e3b280d66116d9436a97d7d5393db8);
            
        

        marker_ac71312e08399d054c27e07695163277.bindPopup(popup_68aff47f557e4d5811043ec431c03b62)
        ;

        
    
    
            var marker_e6a9ec1fd1eadefd7206362a7acb414e = L.marker(
                [55.94407645, -3.1883735563964555],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0ea0d6f499e25855860ea5db055f9d4b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c85bdcdc79b3bdf0d9cdedffc76dbd2 = $(`<div id=&quot;html_7c85bdcdc79b3bdf0d9cdedffc76dbd2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Edinburgh</div>`)[0];
                popup_0ea0d6f499e25855860ea5db055f9d4b.setContent(html_7c85bdcdc79b3bdf0d9cdedffc76dbd2);
            
        

        marker_e6a9ec1fd1eadefd7206362a7acb414e.bindPopup(popup_0ea0d6f499e25855860ea5db055f9d4b)
        ;

        
    
    
            var marker_9752ffc3be555500371668a7d8e92cef = L.marker(
                [48.14701435, 11.575919303007243],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_e22800f41a921046dcc0aadc2c771bc0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4e0b0ee6c1cdd4bcec56d60e557bc5b0 = $(`<div id=&quot;html_4e0b0ee6c1cdd4bcec56d60e557bc5b0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>LMU Munich</div>`)[0];
                popup_e22800f41a921046dcc0aadc2c771bc0.setContent(html_4e0b0ee6c1cdd4bcec56d60e557bc5b0);
            
        

        marker_9752ffc3be555500371668a7d8e92cef.bindPopup(popup_e22800f41a921046dcc0aadc2c771bc0)
        ;

        
    
    
            var marker_c1b5377afd32550722f3f8610853a082 = L.marker(
                [46.518659400000004, 6.566561505148001],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_862da8b5092c5fcb446c974ad3b5cd6d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_428c1a688984d85f52e3f664f7197de7 = $(`<div id=&quot;html_428c1a688984d85f52e3f664f7197de7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique Fédérale de Lausanne</div>`)[0];
                popup_862da8b5092c5fcb446c974ad3b5cd6d.setContent(html_428c1a688984d85f52e3f664f7197de7);
            
        

        marker_c1b5377afd32550722f3f8610853a082.bindPopup(popup_862da8b5092c5fcb446c974ad3b5cd6d)
        ;

        
    
    
            var marker_7954db83865baa8963e30755823965b1 = L.marker(
                [51.5060001, -0.1121582948025203],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_7819878ea925d08ee316c7369c2261a5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6c7274036392f5f641065c0df1b0df29 = $(`<div id=&quot;html_6c7274036392f5f641065c0df1b0df29&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>King’s College London</div>`)[0];
                popup_7819878ea925d08ee316c7369c2261a5.setContent(html_6c7274036392f5f641065c0df1b0df29);
            
        

        marker_7954db83865baa8963e30755823965b1.bindPopup(popup_7819878ea925d08ee316c7369c2261a5)
        ;

        
    
    
            var marker_dffbecfc90d43ff0be017ea2fe15d8b4 = L.marker(
                [59.219549549999996, 17.94005487275674],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_369d82409796254fb8720fd1479ada7f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_18c553a61c6e25bb548b6cc8b5bef6fd = $(`<div id=&quot;html_18c553a61c6e25bb548b6cc8b5bef6fd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karolinska Institute</div>`)[0];
                popup_369d82409796254fb8720fd1479ada7f.setContent(html_18c553a61c6e25bb548b6cc8b5bef6fd);
            
        

        marker_dffbecfc90d43ff0be017ea2fe15d8b4.bindPopup(popup_369d82409796254fb8720fd1479ada7f)
        ;

        
    
    
            var marker_f5a224a6763ef272f10b9214a352c1a4 = L.marker(
                [1.3078539, 103.7776795],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0fc79d0e51d559e11963ac373230552f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_63c9b4da0243484c7dbe568e4111d57d = $(`<div id=&quot;html_63c9b4da0243484c7dbe568e4111d57d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Munich</div>`)[0];
                popup_0fc79d0e51d559e11963ac373230552f.setContent(html_63c9b4da0243484c7dbe568e4111d57d);
            
        

        marker_f5a224a6763ef272f10b9214a352c1a4.bindPopup(popup_0fc79d0e51d559e11963ac373230552f)
        ;

        
    
    
            var marker_8a5fccc0e2ce4239ca2b1c3681fdf1b9 = L.marker(
                [41.11442525, -83.16686666639325],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9b782d453c76de50a3444d10dbb07deb = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f55e11a4decabfedf628d26cb9cd3df2 = $(`<div id=&quot;html_f55e11a4decabfedf628d26cb9cd3df2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Heidelberg University</div>`)[0];
                popup_9b782d453c76de50a3444d10dbb07deb.setContent(html_f55e11a4decabfedf628d26cb9cd3df2);
            
        

        marker_8a5fccc0e2ce4239ca2b1c3681fdf1b9.bindPopup(popup_9b782d453c76de50a3444d10dbb07deb)
        ;

        
    
    
            var marker_bd28a8361554c5611f2aa6675d6f1a21 = L.marker(
                [50.80571285, 3.2915374489139757],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_252d039d7e7378e3068ebe616e9aaec5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4e7c083af693de2de5fc225aa1edc709 = $(`<div id=&quot;html_4e7c083af693de2de5fc225aa1edc709&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KU Leuven</div>`)[0];
                popup_252d039d7e7378e3068ebe616e9aaec5.setContent(html_4e7c083af693de2de5fc225aa1edc709);
            
        

        marker_bd28a8361554c5611f2aa6675d6f1a21.bindPopup(popup_252d039d7e7378e3068ebe616e9aaec5)
        ;

        
    
    
            var marker_3e26bb5f78611a6d5db5cdc5d8021c34 = L.marker(
                [53.4657087, -2.232734319907597],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_cef345c5c478ef593a43ec9d755667dc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_85c2716e81d918e74ea5d26fb80e4e69 = $(`<div id=&quot;html_85c2716e81d918e74ea5d26fb80e4e69&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Manchester</div>`)[0];
                popup_cef345c5c478ef593a43ec9d755667dc.setContent(html_85c2716e81d918e74ea5d26fb80e4e69);
            
        

        marker_3e26bb5f78611a6d5db5cdc5d8021c34.bindPopup(popup_cef345c5c478ef593a43ec9d755667dc)
        ;

        
    
    
            var marker_44b7429563ed8de1ca05c0551cffb43a = L.marker(
                [51.99882735, 4.373960368154041],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_1237b601c0112086de02b30fb19dc8dd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_41c1149380f10ac6002dff5b1931bd77 = $(`<div id=&quot;html_41c1149380f10ac6002dff5b1931bd77&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Delft University of Technology</div>`)[0];
                popup_1237b601c0112086de02b30fb19dc8dd.setContent(html_41c1149380f10ac6002dff5b1931bd77);
            
        

        marker_44b7429563ed8de1ca05c0551cffb43a.bindPopup(popup_1237b601c0112086de02b30fb19dc8dd)
        ;

        
    
    
            var marker_517d65d32c1fc99fff4aa1c51da7e450 = L.marker(
                [51.98544495, 5.663212001137484],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_07b7cfa49f72686cb7277d50d9f24615 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6e994fba2e5df406b0b2bcbc4ab4274b = $(`<div id=&quot;html_6e994fba2e5df406b0b2bcbc4ab4274b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Wageningen University &amp; Research</div>`)[0];
                popup_07b7cfa49f72686cb7277d50d9f24615.setContent(html_6e994fba2e5df406b0b2bcbc4ab4274b);
            
        

        marker_517d65d32c1fc99fff4aa1c51da7e450.bindPopup(popup_07b7cfa49f72686cb7277d50d9f24615)
        ;

        
    
    
            var marker_39fb51a6e400afb5d8ed475b0d321716 = L.marker(
                [52.36813335, 4.889804155733945],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0e38421d466234145ac1efee19df05cd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0b74dd2a7d77bdfa0f1c8075d8e9d467 = $(`<div id=&quot;html_0b74dd2a7d77bdfa0f1c8075d8e9d467&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Amsterdam</div>`)[0];
                popup_0e38421d466234145ac1efee19df05cd.setContent(html_0b74dd2a7d77bdfa0f1c8075d8e9d467);
            
        

        marker_39fb51a6e400afb5d8ed475b0d321716.bindPopup(popup_0e38421d466234145ac1efee19df05cd)
        ;

        
    
    
            var marker_6a3aea5e6a5d094ecfde1ed513dfc94a = L.marker(
                [52.5183402, 13.392920232320172],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_869d6d297ed7668fc662af19bcb0ce1e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2e735c9fce3cb7582b5b10a296ae19de = $(`<div id=&quot;html_2e735c9fce3cb7582b5b10a296ae19de&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Humboldt University of Berlin</div>`)[0];
                popup_869d6d297ed7668fc662af19bcb0ce1e.setContent(html_2e735c9fce3cb7582b5b10a296ae19de);
            
        

        marker_6a3aea5e6a5d094ecfde1ed513dfc94a.bindPopup(popup_869d6d297ed7668fc662af19bcb0ce1e)
        ;

        
    
    
            var marker_ed9b7e96778702a2721f8e75d7162427 = L.marker(
                [52.168633850000006, 4.45966305742133],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_fdf0afe3768c90224f188547407213e3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f2b8220a0fcb962f7889d271f1da5f07 = $(`<div id=&quot;html_f2b8220a0fcb962f7889d271f1da5f07&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Leiden University</div>`)[0];
                popup_fdf0afe3768c90224f188547407213e3.setContent(html_f2b8220a0fcb962f7889d271f1da5f07);
            
        

        marker_ed9b7e96778702a2721f8e75d7162427.bindPopup(popup_fdf0afe3768c90224f188547407213e3)
        ;

        
    
    
            var marker_4a9c9ca5ff055c5aa3de8a09e1a6dd55 = L.marker(
                [51.9229171, 4.487612362865811],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_b55ea589154b77de8ba9dc7a67683d61 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_35cc9dcde02947d9e2770b4d03640123 = $(`<div id=&quot;html_35cc9dcde02947d9e2770b4d03640123&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Erasmus University Rotterdam</div>`)[0];
                popup_b55ea589154b77de8ba9dc7a67683d61.setContent(html_35cc9dcde02947d9e2770b4d03640123);
            
        

        marker_4a9c9ca5ff055c5aa3de8a09e1a6dd55.bindPopup(popup_b55ea589154b77de8ba9dc7a67683d61)
        ;

        
    
    
            var marker_8440e50e4ad62db9bce05ec04588222b = L.marker(
                [48.846899699999994, 2.357448653115875],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_92b49a23554546b90e963dffff96306a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4b436fc62179c4e8a4666056683a56c2 = $(`<div id=&quot;html_4b436fc62179c4e8a4666056683a56c2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sorbonne University</div>`)[0];
                popup_92b49a23554546b90e963dffff96306a.setContent(html_4b436fc62179c4e8a4666056683a56c2);
            
        

        marker_8440e50e4ad62db9bce05ec04588222b.bindPopup(popup_92b49a23554546b90e963dffff96306a)
        ;

        
    
    
            var marker_d1188f8a65bedbc51a34d770af905987 = L.marker(
                [52.08340265, 5.148315067762755],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_c7367877c189496c7cd447acd24a3f30 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_62766fb87d5e3a35ff9c0cdcb721cf7f = $(`<div id=&quot;html_62766fb87d5e3a35ff9c0cdcb721cf7f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Utrecht University</div>`)[0];
                popup_c7367877c189496c7cd447acd24a3f30.setContent(html_62766fb87d5e3a35ff9c0cdcb721cf7f);
            
        

        marker_d1188f8a65bedbc51a34d770af905987.bindPopup(popup_c7367877c189496c7cd447acd24a3f30)
        ;

        
    
    
            var marker_2ab7a6b30196f7198b1bb5051b9c4f22 = L.marker(
                [46.793058, 7.157106],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_597dee5dd31973e7cb6732e78ada0cdd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5d0242584cd125bac4a0bdc93dfd4fc8 = $(`<div id=&quot;html_5d0242584cd125bac4a0bdc93dfd4fc8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Freiburg</div>`)[0];
                popup_597dee5dd31973e7cb6732e78ada0cdd.setContent(html_5d0242584cd125bac4a0bdc93dfd4fc8);
            
        

        marker_2ab7a6b30196f7198b1bb5051b9c4f22.bindPopup(popup_597dee5dd31973e7cb6732e78ada0cdd)
        ;

        
    
    
            var marker_8727ba96ccaffd5727f7e2e2512c3069 = L.marker(
                [51.457609649999995, -2.6016348983421755],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_7bbf499cda7d685ed832c11c12b3095c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fb5ffe29bf98bade63b2991a170ea391 = $(`<div id=&quot;html_fb5ffe29bf98bade63b2991a170ea391&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bristol</div>`)[0];
                popup_7bbf499cda7d685ed832c11c12b3095c.setContent(html_fb5ffe29bf98bade63b2991a170ea391);
            
        

        marker_8727ba96ccaffd5727f7e2e2512c3069.bindPopup(popup_7bbf499cda7d685ed832c11c12b3095c)
        ;

        
    
    
            var marker_517c22f53ca4c2696e970541b28c2d32 = L.marker(
                [53.21967825, 6.562514810379012],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_948a111d37e3f467e68037e283e8d43a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4cd76472e42b946fc9299145a30c4bd9 = $(`<div id=&quot;html_4cd76472e42b946fc9299145a30c4bd9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Groningen</div>`)[0];
                popup_948a111d37e3f467e68037e283e8d43a.setContent(html_4cd76472e42b946fc9299145a30c4bd9);
            
        

        marker_517c22f53ca4c2696e970541b28c2d32.bindPopup(popup_948a111d37e3f467e68037e283e8d43a)
        ;

        
    
    
            var marker_5f0fda77d68c3c26a27412208ba02b1e = L.marker(
                [52.3813073, -1.5639569481637439],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_31053642ec4c794a304b23c42cc777ef = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7a2a037afde904ac7a115341290d897a = $(`<div id=&quot;html_7a2a037afde904ac7a115341290d897a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Warwick</div>`)[0];
                popup_31053642ec4c794a304b23c42cc777ef.setContent(html_7a2a037afde904ac7a115341290d897a);
            
        

        marker_5f0fda77d68c3c26a27412208ba02b1e.bindPopup(popup_31053642ec4c794a304b23c42cc777ef)
        ;

        
    
    
            var marker_51e7afabce77f2a0d1c8b45ca4d08cba = L.marker(
                [50.7791645, 6.068920971222876],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_e213de17f788f45b2e0bd0b1f065af0f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3fddb99d68011c941c1a615894ad16e4 = $(`<div id=&quot;html_3fddb99d68011c941c1a615894ad16e4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>RWTH Aachen University</div>`)[0];
                popup_e213de17f788f45b2e0bd0b1f065af0f.setContent(html_3fddb99d68011c941c1a615894ad16e4);
            
        

        marker_51e7afabce77f2a0d1c8b45ca4d08cba.bindPopup(popup_e213de17f788f45b2e0bd0b1f065af0f)
        ;

        
    
    
            var marker_698e03d9634532dd5fe7efb6e26d2a4a = L.marker(
                [59.8617859, 17.6376705],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_1b5935f4468a9dd4ea787d96411238c3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6f3b7f0116b37efd24202c6d88a71778 = $(`<div id=&quot;html_6f3b7f0116b37efd24202c6d88a71778&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Uppsala University</div>`)[0];
                popup_1b5935f4468a9dd4ea787d96411238c3.setContent(html_6f3b7f0116b37efd24202c6d88a71778);
            
        

        marker_698e03d9634532dd5fe7efb6e26d2a4a.bindPopup(popup_1b5935f4468a9dd4ea787d96411238c3)
        ;

        
    
    
            var marker_479f86a9798435a3d2072e5916d62aff = L.marker(
                [48.53405945, 9.071244429234808],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0ba73cc9c5f521774bb7ba703c6530d8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b8c8c2b5c7b4794d7f918a95fa6a4f9a = $(`<div id=&quot;html_b8c8c2b5c7b4794d7f918a95fa6a4f9a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Tübingen</div>`)[0];
                popup_0ba73cc9c5f521774bb7ba703c6530d8.setContent(html_b8c8c2b5c7b4794d7f918a95fa6a4f9a);
            
        

        marker_479f86a9798435a3d2072e5916d62aff.bindPopup(popup_0ba73cc9c5f521774bb7ba703c6530d8)
        ;

        
    
    
            var marker_c8e4dbcdc189b7df0a5bf75174212ad0 = L.marker(
                [52.5299885, 13.34866394036122],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_a52845796d2b174785e25ef893fc4fc4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0d21caa80228b0f20be595f857f23008 = $(`<div id=&quot;html_0d21caa80228b0f20be595f857f23008&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Charité - Universitätsmedizin Berlin</div>`)[0];
                popup_a52845796d2b174785e25ef893fc4fc4.setContent(html_0d21caa80228b0f20be595f857f23008);
            
        

        marker_c8e4dbcdc189b7df0a5bf75174212ad0.bindPopup(popup_a52845796d2b174785e25ef893fc4fc4)
        ;

        
    
    
            var marker_4f94ab0ab115f54a0710848a9bbc29d6 = L.marker(
                [47.49684345, 8.72980716809498],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_3cca67d11d94f4a07b765ad0e0822402 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_90f68fe39ec73679c6997d6fee951f7a = $(`<div id=&quot;html_90f68fe39ec73679c6997d6fee951f7a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Zurich</div>`)[0];
                popup_3cca67d11d94f4a07b765ad0e0822402.setContent(html_90f68fe39ec73679c6997d6fee951f7a);
            
        

        marker_4f94ab0ab115f54a0710848a9bbc29d6.bindPopup(popup_3cca67d11d94f4a07b765ad0e0822402)
        ;

        
    
    
            var marker_daa4c1f05ed78f74b591cce5134ff2f0 = L.marker(
                [55.872315349999994, -4.289219112981823],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_4e405c40e5d277a9f1b784bf2c4b7a8c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_96fba21040db77184d7d8465520f11cf = $(`<div id=&quot;html_96fba21040db77184d7d8465520f11cf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Glasgow</div>`)[0];
                popup_4e405c40e5d277a9f1b784bf2c4b7a8c.setContent(html_96fba21040db77184d7d8465520f11cf);
            
        

        marker_daa4c1f05ed78f74b591cce5134ff2f0.bindPopup(popup_4e405c40e5d277a9f1b784bf2c4b7a8c)
        ;

        
    
    
            var marker_d7d60418377f07249e6c3c6f0a84485d = L.marker(
                [58.163098500000004, 8.001442632957419],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0094961b40d791a699196fe9832232c3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5435312ca7270eaa2c2f0468a2e459c1 = $(`<div id=&quot;html_5435312ca7270eaa2c2f0468a2e459c1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lund University</div>`)[0];
                popup_0094961b40d791a699196fe9832232c3.setContent(html_5435312ca7270eaa2c2f0468a2e459c1);
            
        

        marker_d7d60418377f07249e6c3c6f0a84485d.bindPopup(popup_0094961b40d791a699196fe9832232c3)
        ;

        
    
    
            var marker_51bd04c08ec354a9c7925dd5b94885d2 = L.marker(
                [60.175648300000006, 24.953550020522073],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_83d402dd9f37698c2377c85c910c8da0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e8e8868678191f6ae56720cbfcfc2d94 = $(`<div id=&quot;html_e8e8868678191f6ae56720cbfcfc2d94&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Helsinki</div>`)[0];
                popup_83d402dd9f37698c2377c85c910c8da0.setContent(html_e8e8868678191f6ae56720cbfcfc2d94);
            
        

        marker_51bd04c08ec354a9c7925dd5b94885d2.bindPopup(popup_83d402dd9f37698c2377c85c910c8da0)
        ;

        
    
    
            var marker_d25d6d3ab0866d03cd518bbcca416791 = L.marker(
                [47.56174235, 7.58285513707386],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_7e0c0c8b707882ccb9a10aac92fac2f6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_22152f73a707268854d4adfd81f6ae20 = $(`<div id=&quot;html_22152f73a707268854d4adfd81f6ae20&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Basel</div>`)[0];
                popup_7e0c0c8b707882ccb9a10aac92fac2f6.setContent(html_22152f73a707268854d4adfd81f6ae20);
            
        

        marker_d25d6d3ab0866d03cd518bbcca416791.bindPopup(popup_7e0c0c8b707882ccb9a10aac92fac2f6)
        ;

        
    
    
            var marker_14d4df7787fef517dfdd00d157a5cac7 = L.marker(
                [53.3815327, -1.4806602],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_7c132e5fc178efffea07e8ae3fca7421 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_446443bcf85f69ac2b9458235875a2f4 = $(`<div id=&quot;html_446443bcf85f69ac2b9458235875a2f4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sheffield</div>`)[0];
                popup_7c132e5fc178efffea07e8ae3fca7421.setContent(html_446443bcf85f69ac2b9458235875a2f4);
            
        

        marker_14d4df7787fef517dfdd00d157a5cac7.bindPopup(popup_7c132e5fc178efffea07e8ae3fca7421)
        ;

        
    
    
            var marker_e9b6e1b1b9cc9846046b8ddd6a6778a8 = L.marker(
                [48.7127874, 2.2107453],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_2fb98c6731122aeafa2c5b1ed30a3ab2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5d5775b2fac9e093128c7423b531a0c4 = $(`<div id=&quot;html_5d5775b2fac9e093128c7423b531a0c4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique</div>`)[0];
                popup_2fb98c6731122aeafa2c5b1ed30a3ab2.setContent(html_5d5775b2fac9e093128c7423b531a0c4);
            
        

        marker_e9b6e1b1b9cc9846046b8ddd6a6778a8.bindPopup(popup_2fb98c6731122aeafa2c5b1ed30a3ab2)
        ;

        
    
    
            var marker_ed255cf6e766c23f7eff5ff3b85e97d4 = L.marker(
                [46.95097255, 7.438684130809055],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_eb9c4b53a4cc09a69aefe61215adf3c6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_39fe2796b77d96278875e2f38be5a8db = $(`<div id=&quot;html_39fe2796b77d96278875e2f38be5a8db&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bern</div>`)[0];
                popup_eb9c4b53a4cc09a69aefe61215adf3c6.setContent(html_39fe2796b77d96278875e2f38be5a8db);
            
        

        marker_ed255cf6e766c23f7eff5ff3b85e97d4.bindPopup(popup_eb9c4b53a4cc09a69aefe61215adf3c6)
        ;

        
    
    
            var marker_80ff2752a696674638d896665c921d0c = L.marker(
                [50.7338124, 7.1022465],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0dc927c8d477618116ed06663d536040 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4035d5c0cd16ddc37a90c048dd4bcaaf = $(`<div id=&quot;html_4035d5c0cd16ddc37a90c048dd4bcaaf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bonn</div>`)[0];
                popup_0dc927c8d477618116ed06663d536040.setContent(html_4035d5c0cd16ddc37a90c048dd4bcaaf);
            
        

        marker_80ff2752a696674638d896665c921d0c.bindPopup(popup_0dc927c8d477618116ed06663d536040)
        ;

        
    
    
            var marker_f213b0581599f87eab37476f1de3e07f = L.marker(
                [54.9027916, -1.392096],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_24b181fdec58200d0ec496e976324ddf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2f08ce9b9105c59884c2185015f39744 = $(`<div id=&quot;html_2f08ce9b9105c59884c2185015f39744&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Durham University</div>`)[0];
                popup_24b181fdec58200d0ec496e976324ddf.setContent(html_2f08ce9b9105c59884c2185015f39744);
            
        

        marker_f213b0581599f87eab37476f1de3e07f.bindPopup(popup_24b181fdec58200d0ec496e976324ddf)
        ;

        
    
    
            var marker_7d426f3d5fd3379704891364b5887eb0 = L.marker(
                [52.4522956, -1.9312856726008194],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_cf2e92f60eb59597ff6458f5cd7d5a6e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c65fe8c775e5f7d2db6ba81c710c4740 = $(`<div id=&quot;html_c65fe8c775e5f7d2db6ba81c710c4740&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Birmingham</div>`)[0];
                popup_cf2e92f60eb59597ff6458f5cd7d5a6e.setContent(html_c65fe8c775e5f7d2db6ba81c710c4740);
            
        

        marker_7d426f3d5fd3379704891364b5887eb0.bindPopup(popup_cf2e92f60eb59597ff6458f5cd7d5a6e)
        ;

        
    
    
            var marker_ee84cb64573e3c50d64051414d4bc7f7 = L.marker(
                [55.6801502, 12.57232700140625],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_712452a4339b608503882ae47b00f20f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1f60141d0db3804a21d8c9d17e84c909 = $(`<div id=&quot;html_1f60141d0db3804a21d8c9d17e84c909&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Copenhagen</div>`)[0];
                popup_712452a4339b608503882ae47b00f20f.setContent(html_1f60141d0db3804a21d8c9d17e84c909);
            
        

        marker_ee84cb64573e3c50d64051414d4bc7f7.bindPopup(popup_712452a4339b608503882ae47b00f20f)
        ;

        
    
    
            var marker_9c5a41e52777d31c187c127be71c4ebd = L.marker(
                [50.9354752, -1.3962847494297244],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_e21db064bb842f45f68d8b484a34caaa = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_da60b42da416179dc9c3668b4b23270c = $(`<div id=&quot;html_da60b42da416179dc9c3668b4b23270c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Southampton</div>`)[0];
                popup_e21db064bb842f45f68d8b484a34caaa.setContent(html_da60b42da416179dc9c3668b4b23270c);
            
        

        marker_9c5a41e52777d31c187c127be71c4ebd.bindPopup(popup_e21db064bb842f45f68d8b484a34caaa)
        ;

        
    
    
            var marker_8b73146309c9ba4763ab2b9580f120bc = L.marker(
                [53.9453903, -1.0314592943104675],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_ee478991595cc40d78d061dea62811dd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4266cf065856cf4959760c664f8a9b73 = $(`<div id=&quot;html_4266cf065856cf4959760c664f8a9b73&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of York</div>`)[0];
                popup_ee478991595cc40d78d061dea62811dd.setContent(html_4266cf065856cf4959760c664f8a9b73);
            
        

        marker_8b73146309c9ba4763ab2b9580f120bc.bindPopup(popup_ee478991595cc40d78d061dea62811dd)
        ;

        
    
    
            var marker_a0efb8327306b8d9ddcd7bf3a470a5df = L.marker(
                [53.34366745, -6.254444724511822],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_c67ed85af05a1a4a7151a5e96dfe925b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fd72ec1d3fea1898e5b2afe24751c21b = $(`<div id=&quot;html_fd72ec1d3fea1898e5b2afe24751c21b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Trinity College Dublin</div>`)[0];
                popup_c67ed85af05a1a4a7151a5e96dfe925b.setContent(html_fd72ec1d3fea1898e5b2afe24751c21b);
            
        

        marker_a0efb8327306b8d9ddcd7bf3a470a5df.bindPopup(popup_c67ed85af05a1a4a7151a5e96dfe925b)
        ;

        
    
    
            var marker_5eac95016552d6a303d9ca042a6c6b27 = L.marker(
                [59.9414173, 10.722768340750914],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_64b0e82d50b2e512c011df64256b77bc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_26513d8a707ebc7d01721479260a99a6 = $(`<div id=&quot;html_26513d8a707ebc7d01721479260a99a6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oslo</div>`)[0];
                popup_64b0e82d50b2e512c011df64256b77bc.setContent(html_26513d8a707ebc7d01721479260a99a6);
            
        

        marker_5eac95016552d6a303d9ca042a6c6b27.bindPopup(popup_64b0e82d50b2e512c011df64256b77bc)
        ;

        
    
    
            var marker_5a2ecb21104bcb50eafb17a282c4d6df = L.marker(
                [56.1670905, 10.202617693592895],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_61acdc823e6dabefe6d069dad08b6b2a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4ed63d6e9e502308c08ec06f5198808c = $(`<div id=&quot;html_4ed63d6e9e502308c08ec06f5198808c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aarhus University</div>`)[0];
                popup_61acdc823e6dabefe6d069dad08b6b2a.setContent(html_4ed63d6e9e502308c08ec06f5198808c);
            
        

        marker_5a2ecb21104bcb50eafb17a282c4d6df.bindPopup(popup_61acdc823e6dabefe6d069dad08b6b2a)
        ;

        
    
    
            var marker_e8f7658359abeed094dfb320f72652c8 = L.marker(
                [51.5411003, 9.948200846079496],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_5ecc42fd6f0bf15f8d333de3c5b3d677 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_632d81789392d81ed6d0431e9bab60b5 = $(`<div id=&quot;html_632d81789392d81ed6d0431e9bab60b5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Göttingen</div>`)[0];
                popup_5ecc42fd6f0bf15f8d333de3c5b3d677.setContent(html_632d81789392d81ed6d0431e9bab60b5);
            
        

        marker_e8f7658359abeed094dfb320f72652c8.bindPopup(popup_5ecc42fd6f0bf15f8d333de3c5b3d677)
        ;

        
    
    
            var marker_e1487d0793452b5c6d5cadc2f71e97c1 = L.marker(
                [49.4699765, 8.4819024],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_629edc49ccea3951ffc067cfdf4bd395 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cd6d06403c6bd94b6fb49ea98056efe9 = $(`<div id=&quot;html_cd6d06403c6bd94b6fb49ea98056efe9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Mannheim</div>`)[0];
                popup_629edc49ccea3951ffc067cfdf4bd395.setContent(html_cd6d06403c6bd94b6fb49ea98056efe9);
            
        

        marker_e1487d0793452b5c6d5cadc2f71e97c1.bindPopup(popup_629edc49ccea3951ffc067cfdf4bd395)
        ;

        
    
    
            var marker_c4abb571f707d1b7d6a172d9f4cd9f90 = L.marker(
                [51.82151725, 5.863403442541042],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_d1132305cdf05e2eca8add0559e95c1b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_830864f2c85d269cfd2b21f8ac217a69 = $(`<div id=&quot;html_830864f2c85d269cfd2b21f8ac217a69&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Radboud University Nijmegen</div>`)[0];
                popup_d1132305cdf05e2eca8add0559e95c1b.setContent(html_830864f2c85d269cfd2b21f8ac217a69);
            
        

        marker_c4abb571f707d1b7d6a172d9f4cd9f90.bindPopup(popup_d1132305cdf05e2eca8add0559e95c1b)
        ;

        
    
    
            var marker_7798e31cf9f7e7a4085bb6726a0867f6 = L.marker(
                [50.821259999999995, 4.349652894133002],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_c42d5081fc484c216396676e88d18937 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_15da28cdc2362c8d0946f4adf8a257b8 = $(`<div id=&quot;html_15da28cdc2362c8d0946f4adf8a257b8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Université Catholique de Louvain</div>`)[0];
                popup_c42d5081fc484c216396676e88d18937.setContent(html_15da28cdc2362c8d0946f4adf8a257b8);
            
        

        marker_7798e31cf9f7e7a4085bb6726a0867f6.bindPopup(popup_c42d5081fc484c216396676e88d18937)
        ;

        
    
    
            var marker_abc162cfd9c311a07f132fc2be1d0140 = L.marker(
                [50.84720265, 5.685941396293034],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_c215bd9372d13e3dfbcc111d635b9719 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fc26a3f60162e65ce30e5e2d82dcb585 = $(`<div id=&quot;html_fc26a3f60162e65ce30e5e2d82dcb585&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Maastricht University</div>`)[0];
                popup_c215bd9372d13e3dfbcc111d635b9719.setContent(html_fc26a3f60162e65ce30e5e2d82dcb585);
            
        

        marker_abc162cfd9c311a07f132fc2be1d0140.bindPopup(popup_c215bd9372d13e3dfbcc111d635b9719)
        ;

        
    
    
            var marker_1d21d5e8caff0f382cb244bfaf7c10db = L.marker(
                [51.5247272, -0.03931034663016243],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_aa2683093bce3a3031d977a68291076b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_de2261b4ea3d8f6a3e7c35956bc00e27 = $(`<div id=&quot;html_de2261b4ea3d8f6a3e7c35956bc00e27&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Queen Mary University of London</div>`)[0];
                popup_aa2683093bce3a3031d977a68291076b.setContent(html_de2261b4ea3d8f6a3e7c35956bc00e27);
            
        

        marker_1d21d5e8caff0f382cb244bfaf7c10db.bindPopup(popup_aa2683093bce3a3031d977a68291076b)
        ;

        
    
    
            var marker_b2580f78084c61eb9348ef8c2b7eab2c = L.marker(
                [42.6126851, -88.4805318],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_231738ad69ecd7b638586487e0d4c9df = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9fab872c51cae1cfafcc55eda752957e = $(`<div id=&quot;html_9fab872c51cae1cfafcc55eda752957e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Geneva</div>`)[0];
                popup_231738ad69ecd7b638586487e0d4c9df.setContent(html_9fab872c51cae1cfafcc55eda752957e);
            
        

        marker_b2580f78084c61eb9348ef8c2b7eab2c.bindPopup(popup_231738ad69ecd7b638586487e0d4c9df)
        ;

        
    
    
            var marker_e00578c47075644e4773a66e4f58b678 = L.marker(
                [53.5641091, 9.994978875267606],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_2ac0eeec5b04047969e9feb54e57ad2c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_38653dcf53809b300e2a66b2b52acf33 = $(`<div id=&quot;html_38653dcf53809b300e2a66b2b52acf33&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Hamburg</div>`)[0];
                popup_2ac0eeec5b04047969e9feb54e57ad2c.setContent(html_38653dcf53809b300e2a66b2b52acf33);
            
        

        marker_e00578c47075644e4773a66e4f58b678.bindPopup(popup_2ac0eeec5b04047969e9feb54e57ad2c)
        ;

        
    
    
            var marker_5c2578bd889010aa21a05761c0e3918c = L.marker(
                [49.101853399999996, 8.433120159201868],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_3810db9de73e4c3a09682b399125af59 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_066976f8bdbabaf8f2b692021877bac3 = $(`<div id=&quot;html_066976f8bdbabaf8f2b692021877bac3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karlsruhe Institute of Technology</div>`)[0];
                popup_3810db9de73e4c3a09682b399125af59.setContent(html_066976f8bdbabaf8f2b692021877bac3);
            
        

        marker_5c2578bd889010aa21a05761c0e3918c.bindPopup(popup_3810db9de73e4c3a09682b399125af59)
        ;

        
    
    
            var marker_64be6239f38dbf9227e82d63e1e45a3a = L.marker(
                [50.73693715, -3.534734858662963],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0d92a9fdd6b71e32761070a8c750ef5b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c4bebeda88581f348cd26b8837567b2e = $(`<div id=&quot;html_c4bebeda88581f348cd26b8837567b2e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Exeter</div>`)[0];
                popup_0d92a9fdd6b71e32761070a8c750ef5b.setContent(html_c4bebeda88581f348cd26b8837567b2e);
            
        

        marker_64be6239f38dbf9227e82d63e1e45a3a.bindPopup(popup_0d92a9fdd6b71e32761070a8c750ef5b)
        ;

        
    
    
            var marker_9c0c69862c53a0c82b6988d5a6a59c34 = L.marker(
                [51.00784845, 3.710883068491984],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_f6fcb9708231d2b861c50131e0a623e6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_09b3accb71969f2b97c8c73c2ef77e2a = $(`<div id=&quot;html_09b3accb71969f2b97c8c73c2ef77e2a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ghent University</div>`)[0];
                popup_f6fcb9708231d2b861c50131e0a623e6.setContent(html_09b3accb71969f2b97c8c73c2ef77e2a);
            
        

        marker_9c0c69862c53a0c82b6988d5a6a59c34.bindPopup(popup_f6fcb9708231d2b861c50131e0a623e6)
        ;

        
    
    
            var marker_f865d81909a4303a2e79529aeb435e62 = L.marker(
                [48.2131284, 16.360685994114505],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_4c4095a3e550f4f7c2d48764a626fb63 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7921d77b49dfa4ed8e2fdc677d108e24 = $(`<div id=&quot;html_7921d77b49dfa4ed8e2fdc677d108e24&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Vienna</div>`)[0];
                popup_4c4095a3e550f4f7c2d48764a626fb63.setContent(html_7921d77b49dfa4ed8e2fdc677d108e24);
            
        

        marker_f865d81909a4303a2e79529aeb435e62.bindPopup(popup_4c4095a3e550f4f7c2d48764a626fb63)
        ;

        
    
    
            var marker_79e6ecc21186f83bd91be73058c2dc79 = L.marker(
                [50.928044549999996, 6.928130514523661],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9cb04f65fa1ba8a9bcaf6bfefd3a86f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_097466f2358fb9799f3f717d5e1c677a = $(`<div id=&quot;html_097466f2358fb9799f3f717d5e1c677a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cologne</div>`)[0];
                popup_9cb04f65fa1ba8a9bcaf6bfefd3a86f5.setContent(html_097466f2358fb9799f3f717d5e1c677a);
            
        

        marker_79e6ecc21186f83bd91be73058c2dc79.bindPopup(popup_9cb04f65fa1ba8a9bcaf6bfefd3a86f5)
        ;

        
    
    
            var marker_0f891645a66bb78d0c75b3ca4fc56653 = L.marker(
                [54.00975365, -2.7875727317728654],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_239cd5cc74c85fc23df06f7af5888e60 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6fb135b147da969fbdb1615795a90228 = $(`<div id=&quot;html_6fb135b147da969fbdb1615795a90228&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lancaster University</div>`)[0];
                popup_239cd5cc74c85fc23df06f7af5888e60.setContent(html_6fb135b147da969fbdb1615795a90228);
            
        

        marker_0f891645a66bb78d0c75b3ca4fc56653.bindPopup(popup_239cd5cc74c85fc23df06f7af5888e60)
        ;

        
    
    
            var marker_2b34f734b847917a2260ee1c228b9f20 = L.marker(
                [52.9387428, -1.2002956927457427],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9081acc7edddcc88384fff6361e64cf5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_60f901101786fd67c380fcdf55335d32 = $(`<div id=&quot;html_60f901101786fd67c380fcdf55335d32&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Nottingham</div>`)[0];
                popup_9081acc7edddcc88384fff6361e64cf5.setContent(html_60f901101786fd67c380fcdf55335d32);
            
        

        marker_2b34f734b847917a2260ee1c228b9f20.bindPopup(popup_9081acc7edddcc88384fff6361e64cf5)
        ;

        
    
    
            var marker_24ef65fff139bcf8297661acdb09b80d = L.marker(
                [48.38044334999999, 10.010101151636224],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_2f37d26e531884a8b63a39868d297b2e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_55746ec76ef1e12f425f0a36e3015137 = $(`<div id=&quot;html_55746ec76ef1e12f425f0a36e3015137&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ulm University</div>`)[0];
                popup_2f37d26e531884a8b63a39868d297b2e.setContent(html_55746ec76ef1e12f425f0a36e3015137);
            
        

        marker_24ef65fff139bcf8297661acdb09b80d.bindPopup(popup_2f37d26e531884a8b63a39868d297b2e)
        ;

        
    
    
            var marker_51db19294fc51f5a21cf670989632d62 = L.marker(
                [51.028276500000004, 13.735982754935176],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_ce383efb8fb42c6e533dfd400d2c0116 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4add0b53bb74bd5b6dd721e518c47825 = $(`<div id=&quot;html_4add0b53bb74bd5b6dd721e518c47825&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>TU Dresden</div>`)[0];
                popup_ce383efb8fb42c6e533dfd400d2c0116.setContent(html_4add0b53bb74bd5b6dd721e518c47825);
            
        

        marker_51db19294fc51f5a21cf670989632d62.bindPopup(popup_ce383efb8fb42c6e533dfd400d2c0116)
        ;

        
    
    
            var marker_98a2d4af26fe4feace64e69707c24744 = L.marker(
                [53.80677435, -1.5562877504739676],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_3b23c4e5d6e71ac02a82b5bb977447dc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f853e652e5796c51693fec0b0a87e097 = $(`<div id=&quot;html_f853e652e5796c51693fec0b0a87e097&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leeds</div>`)[0];
                popup_3b23c4e5d6e71ac02a82b5bb977447dc.setContent(html_f853e652e5796c51693fec0b0a87e097);
            
        

        marker_98a2d4af26fe4feace64e69707c24744.bindPopup(popup_3b23c4e5d6e71ac02a82b5bb977447dc)
        ;

        
    
    
            var marker_ae2e5bd10b972efb62220e53b33ebd88 = L.marker(
                [43.7206078, 10.4026444],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_15205974dcee53c43acd2dbd138a66f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_049c8e5ecb620a381a750513cbd5992f = $(`<div id=&quot;html_049c8e5ecb620a381a750513cbd5992f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Superiore Sant’Anna</div>`)[0];
                popup_15205974dcee53c43acd2dbd138a66f5.setContent(html_049c8e5ecb620a381a750513cbd5992f);
            
        

        marker_ae2e5bd10b972efb62220e53b33ebd88.bindPopup(popup_15205974dcee53c43acd2dbd138a66f5)
        ;

        
    
    
            var marker_6e1db1917371e3001e8048cb61e54a73 = L.marker(
                [59.363333600000004, 18.05879425982729],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_9a8a8e84fbbe97550e304f33d602325d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0bbc6bbd981419dca2bbbb9ba9f49cbe = $(`<div id=&quot;html_0bbc6bbd981419dca2bbbb9ba9f49cbe&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stockholm University</div>`)[0];
                popup_9a8a8e84fbbe97550e304f33d602325d.setContent(html_0bbc6bbd981419dca2bbbb9ba9f49cbe);
            
        

        marker_6e1db1917371e3001e8048cb61e54a73.bindPopup(popup_9a8a8e84fbbe97550e304f33d602325d)
        ;

        
    
    
            var marker_4b1cb61ac644e141a9b5d1d957b0cb19 = L.marker(
                [57.16452475, -2.1018363546621197],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_fb7b400ae87d02ef804f492e0a0c66b6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_500f5e01132f0a084b48e43338fccff0 = $(`<div id=&quot;html_500f5e01132f0a084b48e43338fccff0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Aberdeen</div>`)[0];
                popup_fb7b400ae87d02ef804f492e0a0c66b6.setContent(html_500f5e01132f0a084b48e43338fccff0);
            
        

        marker_4b1cb61ac644e141a9b5d1d957b0cb19.bindPopup(popup_fb7b400ae87d02ef804f492e0a0c66b6)
        ;

        
    
    
            var marker_c925a8e425c6db5d28696ec88fa46387 = L.marker(
                [43.7196687, 10.400432749413179],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_1d0413ee1e636e932f0edfd4a29ac890 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5570a7a42651098156a868deb6e724ca = $(`<div id=&quot;html_5570a7a42651098156a868deb6e724ca&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Normale Superiore di Pisa</div>`)[0];
                popup_1d0413ee1e636e932f0edfd4a29ac890.setContent(html_5570a7a42651098156a868deb6e724ca);
            
        

        marker_c925a8e425c6db5d28696ec88fa46387.bindPopup(popup_1d0413ee1e636e932f0edfd4a29ac890)
        ;

        
    
    
            var marker_c263197dce6866a23bdc522bbc1d1d55 = L.marker(
                [50.86796665, -0.08778899363132905],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_2300d17197794e1e89d522d24cc79779 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8718af77dd092be5f5d2d27a2b28b22a = $(`<div id=&quot;html_8718af77dd092be5f5d2d27a2b28b22a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sussex</div>`)[0];
                popup_2300d17197794e1e89d522d24cc79779.setContent(html_8718af77dd092be5f5d2d27a2b28b22a);
            
        

        marker_c263197dce6866a23bdc522bbc1d1d55.bindPopup(popup_2300d17197794e1e89d522d24cc79779)
        ;

        
    
    
            var marker_1bf1542ed8a65efdf21cadaabce2de5e = L.marker(
                [55.785414450000005, 12.520215144442094],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_99dd97d2a17073afbcea04d2310e96ba = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d9d9b0672d09777ef98b78a4d95928c1 = $(`<div id=&quot;html_d9d9b0672d09777ef98b78a4d95928c1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Denmark</div>`)[0];
                popup_99dd97d2a17073afbcea04d2310e96ba.setContent(html_d9d9b0672d09777ef98b78a4d95928c1);
            
        

        marker_1bf1542ed8a65efdf21cadaabce2de5e.bindPopup(popup_99dd97d2a17073afbcea04d2310e96ba)
        ;

        
    
    
            var marker_6159de84281853e280feaf67dbc945cf = L.marker(
                [56.3398198, -2.8117937053149826],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_5f6a3fa70a03f9a6a4c8d057c1aec49d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0ccbf8a3474ec7ad5cc1fb0df61cd95e = $(`<div id=&quot;html_0ccbf8a3474ec7ad5cc1fb0df61cd95e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of St Andrews</div>`)[0];
                popup_5f6a3fa70a03f9a6a4c8d057c1aec49d.setContent(html_0ccbf8a3474ec7ad5cc1fb0df61cd95e);
            
        

        marker_6159de84281853e280feaf67dbc945cf.bindPopup(popup_5f6a3fa70a03f9a6a4c8d057c1aec49d)
        ;

        
    
    
            var marker_e893608ba7fb5dd7d17dfc484140339e = L.marker(
                [52.33396225, 4.865196500737312],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_d820e168d4561f988237f0ea00eec81d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_29afe4d09a31150127bb5b499623e6a2 = $(`<div id=&quot;html_29afe4d09a31150127bb5b499623e6a2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Vrije Universiteit Amsterdam</div>`)[0];
                popup_d820e168d4561f988237f0ea00eec81d.setContent(html_29afe4d09a31150127bb5b499623e6a2);
            
        

        marker_e893608ba7fb5dd7d17dfc484140339e.bindPopup(popup_d820e168d4561f988237f0ea00eec81d)
        ;

        
    
    
            var marker_2d09590aa291fb0567fe66addd06ab2a = L.marker(
                [51.4486602, 5.4903995655080475],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_0c2f7eb4c9b05d448bb9672e64e94104 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2e77d105832a77a572f305da590e5d5d = $(`<div id=&quot;html_2e77d105832a77a572f305da590e5d5d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Eindhoven University of Technology</div>`)[0];
                popup_0c2f7eb4c9b05d448bb9672e64e94104.setContent(html_2e77d105832a77a572f305da590e5d5d);
            
        

        marker_2d09590aa291fb0567fe66addd06ab2a.bindPopup(popup_0c2f7eb4c9b05d448bb9672e64e94104)
        ;

        
    
    
            var marker_f753f1907d72da39353bc8569b0819f9 = L.marker(
                [52.62446355, -1.1257301398551323],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_e151dd38eee4da220bee1f9ecb98eeab = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ed4d5feab64fdc91c45b5d4f3db48cac = $(`<div id=&quot;html_ed4d5feab64fdc91c45b5d4f3db48cac&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leicester</div>`)[0];
                popup_e151dd38eee4da220bee1f9ecb98eeab.setContent(html_ed4d5feab64fdc91c45b5d4f3db48cac);
            
        

        marker_f753f1907d72da39353bc8569b0819f9.bindPopup(popup_e151dd38eee4da220bee1f9ecb98eeab)
        ;

        
    
    
            var marker_5b109fca7d5eb843bacab8c751c60e9d = L.marker(
                [54.98017505, -1.6146802127187847],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_e07bffb532e46be13d64b2794b94843e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_732a80169d0e26ad22e3937f6efea259 = $(`<div id=&quot;html_732a80169d0e26ad22e3937f6efea259&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Newcastle University</div>`)[0];
                popup_e07bffb532e46be13d64b2794b94843e.setContent(html_732a80169d0e26ad22e3937f6efea259);
            
        

        marker_5b109fca7d5eb843bacab8c751c60e9d.bindPopup(popup_e07bffb532e46be13d64b2794b94843e)
        ;

        
    
    
            var marker_d36b11c5817d34f2403709c76b07aee8 = L.marker(
                [46.5225695, 6.580949860268587],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_17548ad4ff7098e31f1dd7d4a833282f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c7aa9e4b606ac08dc5c2ad2ca7bf8701 = $(`<div id=&quot;html_c7aa9e4b606ac08dc5c2ad2ca7bf8701&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Lausanne</div>`)[0];
                popup_17548ad4ff7098e31f1dd7d4a833282f.setContent(html_c7aa9e4b606ac08dc5c2ad2ca7bf8701);
            
        

        marker_d36b11c5817d34f2403709c76b07aee8.bindPopup(popup_17548ad4ff7098e31f1dd7d4a833282f)
        ;

        
    
    
            var marker_bcb25cb62f3514a3a462f78adffd2205 = L.marker(
                [60.1860789, 24.828102074406736],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_6891706b788d8400c56d6561899e25b7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fffb5ce645ae221624b284879297ed3c = $(`<div id=&quot;html_fffb5ce645ae221624b284879297ed3c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalto University</div>`)[0];
                popup_6891706b788d8400c56d6561899e25b7.setContent(html_fffb5ce645ae221624b284879297ed3c);
            
        

        marker_bcb25cb62f3514a3a462f78adffd2205.bindPopup(popup_6891706b788d8400c56d6561899e25b7)
        ;

        
    
    
            var marker_2350bafbe3f2b9e581d2f8e3b3a50051 = L.marker(
                [53.40724285, -2.965833661018871],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_806bb40bf3f31ec7c164ee71434cbb4a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e8ffac1ad05b3c46271c33f2dc37d13c = $(`<div id=&quot;html_e8ffac1ad05b3c46271c33f2dc37d13c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Liverpool</div>`)[0];
                popup_806bb40bf3f31ec7c164ee71434cbb4a.setContent(html_e8ffac1ad05b3c46271c33f2dc37d13c);
            
        

        marker_2350bafbe3f2b9e581d2f8e3b3a50051.bindPopup(popup_806bb40bf3f31ec7c164ee71434cbb4a)
        ;

        
    
    
            var marker_7ac77a6e8fea24f11719b173eb7261b5 = L.marker(
                [51.96734215, 7.599243326272159],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_ab67cedb45e1f60b4ddcad8b682c37f2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d01101cf7f90d103f85aed9715b9421f = $(`<div id=&quot;html_d01101cf7f90d103f85aed9715b9421f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Münster</div>`)[0];
                popup_ab67cedb45e1f60b4ddcad8b682c37f2.setContent(html_d01101cf7f90d103f85aed9715b9421f);
            
        

        marker_7ac77a6e8fea24f11719b173eb7261b5.bindPopup(popup_ab67cedb45e1f60b4ddcad8b682c37f2)
        ;

        
    
    
            var marker_9590afefe74d4f78676538c355f4e136 = L.marker(
                [52.2233862, 6.8854239028157],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_4f6a25fcd3cd00be4c990e59bba56add = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a6ee70e49793668a58d2c5f5c8ea574f = $(`<div id=&quot;html_a6ee70e49793668a58d2c5f5c8ea574f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Twente</div>`)[0];
                popup_4f6a25fcd3cd00be4c990e59bba56add.setContent(html_a6ee70e49793668a58d2c5f5c8ea574f);
            
        

        marker_9590afefe74d4f78676538c355f4e136.bindPopup(popup_4f6a25fcd3cd00be4c990e59bba56add)
        ;

        
    
    
            var marker_f9f7f591b9029dce98bdfa6fff03b61c = L.marker(
                [51.48402915, -3.1697633635952807],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_6feac0bc221b78d22dd46e1c50c16c11 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cb24e3f43a6ad6d46ee32240ed935342 = $(`<div id=&quot;html_cb24e3f43a6ad6d46ee32240ed935342&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Cardiff University</div>`)[0];
                popup_6feac0bc221b78d22dd46e1c50c16c11.setContent(html_cb24e3f43a6ad6d46ee32240ed935342);
            
        

        marker_f9f7f591b9029dce98bdfa6fff03b61c.bindPopup(popup_6feac0bc221b78d22dd46e1c50c16c11)
        ;

        
    
    
            var marker_bff00e627cb44dc924b58223c6f75855 = L.marker(
                [59.2016758, 17.6203201],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_6aa274e1c21c88961b111e3732083fa1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1ad339395767b2f5decb3cdfdf380dc5 = $(`<div id=&quot;html_1ad339395767b2f5decb3cdfdf380dc5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KTH Royal Institute of Technology</div>`)[0];
                popup_6aa274e1c21c88961b111e3732083fa1.setContent(html_1ad339395767b2f5decb3cdfdf380dc5);
            
        

        marker_bff00e627cb44dc924b58223c6f75855.bindPopup(popup_6aa274e1c21c88961b111e3732083fa1)
        ;

        
    
    
            var marker_853ac521211ff3d9c41c51208243f012 = L.marker(
                [47.690088599999996, 9.188243876500252],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_92bbe4f28d3d1a53ca875dae6dcbebba = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d263ee1971e2e26b35cb98a4ca642569 = $(`<div id=&quot;html_d263ee1971e2e26b35cb98a4ca642569&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Konstanz</div>`)[0];
                popup_92bbe4f28d3d1a53ca875dae6dcbebba.setContent(html_d263ee1971e2e26b35cb98a4ca642569);
            
        

        marker_853ac521211ff3d9c41c51208243f012.bindPopup(popup_92bbe4f28d3d1a53ca875dae6dcbebba)
        ;

        
    
    
            var marker_a20d57b04bdd00886f4bf0751d22e9fa = L.marker(
                [51.4290899, 6.8008580326401],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_620d980af57c7c7c978a892b8732508b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5d382162749505d424383e627fc64267 = $(`<div id=&quot;html_5d382162749505d424383e627fc64267&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Duisburg-Essen</div>`)[0];
                popup_620d980af57c7c7c978a892b8732508b.setContent(html_5d382162749505d424383e627fc64267);
            
        

        marker_a20d57b04bdd00886f4bf0751d22e9fa.bindPopup(popup_620d980af57c7c7c978a892b8732508b)
        ;

        
    
    
            var marker_d23d93b68f962a707a4652d76a5ad9fe = L.marker(
                [52.622251, 1.2411579],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_bd1704b0790f55e44083f79f6a42ddc6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_78b1602b2218c4cc2b35fad07bf71b4d = $(`<div id=&quot;html_78b1602b2218c4cc2b35fad07bf71b4d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of East Anglia</div>`)[0];
                popup_bd1704b0790f55e44083f79f6a42ddc6.setContent(html_78b1602b2218c4cc2b35fad07bf71b4d);
            
        

        marker_d23d93b68f962a707a4652d76a5ad9fe.bindPopup(popup_bd1704b0790f55e44083f79f6a42ddc6)
        ;

        
    
    
            var marker_acee9291401e4578430d866e726c4ba8 = L.marker(
                [57.015907049999996, 9.975308243557345],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_19faa9c2a625b692b61ecabf9256787d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e8c619ec2d97ea0117ad1b39989b7806 = $(`<div id=&quot;html_e8c619ec2d97ea0117ad1b39989b7806&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalborg University</div>`)[0];
                popup_19faa9c2a625b692b61ecabf9256787d.setContent(html_e8c619ec2d97ea0117ad1b39989b7806);
            
        

        marker_acee9291401e4578430d866e726c4ba8.bindPopup(popup_19faa9c2a625b692b61ecabf9256787d)
        ;

        
    
    
            var marker_a16e8a61d301ad009a406abd8b3b0613 = L.marker(
                [60.36887575, 5.351111541486731],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_c5d14357d010a7e3894c1f7a56c74cb6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f17f5c0ac2000f5a9afc403e9bf98104 = $(`<div id=&quot;html_f17f5c0ac2000f5a9afc403e9bf98104&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bergen</div>`)[0];
                popup_c5d14357d010a7e3894c1f7a56c74cb6.setContent(html_f17f5c0ac2000f5a9afc403e9bf98104);
            
        

        marker_a16e8a61d301ad009a406abd8b3b0613.bindPopup(popup_c5d14357d010a7e3894c1f7a56c74cb6)
        ;

        
    
    
            var marker_cf8c2e2933cae1ef0e566cd21d3d9cb1 = L.marker(
                [55.7055406, 37.5360595],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_cb084cc8431b47060147440d60aaa1e4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b31e27f5c48414f8a47d99fefb844811 = $(`<div id=&quot;html_b31e27f5c48414f8a47d99fefb844811&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lomonosov Moscow State University</div>`)[0];
                popup_cb084cc8431b47060147440d60aaa1e4.setContent(html_b31e27f5c48414f8a47d99fefb844811);
            
        

        marker_cf8c2e2933cae1ef0e566cd21d3d9cb1.bindPopup(popup_cb084cc8431b47060147440d60aaa1e4)
        ;

        
    
    
            var marker_d4eb1514e206e8d47802fafa544d9575 = L.marker(
                [51.1843856, 4.41993868786375],
                {}
            ).addTo(map_ff7be9578b9f8792de2c9cdd80cfd942);
        
    
        var popup_84ed447a13ca0dc69ba316255d0c1fad = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_eaebf944bc247d2c530c3aae17b7a985 = $(`<div id=&quot;html_eaebf944bc247d2c530c3aae17b7a985&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Antwerp</div>`)[0];
                popup_84ed447a13ca0dc69ba316255d0c1fad.setContent(html_eaebf944bc247d2c530c3aae17b7a985);
            
        

        marker_d4eb1514e206e8d47802fafa544d9575.bindPopup(popup_84ed447a13ca0dc69ba316255d0c1fad)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="table-joins" class="level2">
<h2 class="anchored" data-anchor-id="table-joins">Table joins</h2>
<section id="attribute-join" class="level3">
<h3 class="anchored" data-anchor-id="attribute-join">Attribute join</h3>
<p>여러 데이터프레임의 정보를 공유 인덱스로 결합하기 위해 <code>pd.DataFrame.join()</code>을 사용하는 방법을 이미 알고 계실 것입니다. 인덱스에서 일치하는 값을 단순화하여 데이터를 조인하는 이 방법을 특성 조인이라고 합니다.</p>
<p>지오데이터프레임으로 특성 조인을 수행할 때는 <code>gpd.GeoDataFrame.merge()</code>를 사용하는 것이 가장 좋습니다. 이를 설명하기 위해 유럽의 모든 국가에 대한 경계가 포함된 GeoDataFrame europe_boundaries로 작업해 보겠습니다. 이 GeoDataFrame의 처음 다섯 행은 아래에 인쇄되어 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">'naturalearth_lowres'</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> world.loc[world.continent <span class="op">==</span> <span class="st">'Europe'</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>europe_stats <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"pop_est"</span>, <span class="st">"gdp_md_est"</span>]]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>europe_boundaries <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"geometry"</span>]]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>europe_boundaries.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name                                           geometry
0   Russia  MULTIPOLYGON (((180.00000 71.51571, 180.00000 ...
1   Norway  MULTIPOLYGON (((15.14282 79.67431, 15.52255 80...
2   France  MULTIPOLYGON (((-51.65780 4.15623, -52.24934 3...
3   Sweden  POLYGON ((11.02737 58.85615, 11.46827 59.43239...
4  Belarus  POLYGON ((28.17671 56.16913, 29.22951 55.91834...</code></pre>
</div>
</div>
<p>각 국가의 예상 인구와 국내총생산(GDP)을 포함하는 데이터 프레임 europe_stats와 결합합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>europe_stats.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name      pop_est  gdp_md_est
0   Russia  144373535.0     1699876
1   Norway    5347896.0      403336
2   France   67059887.0     2715518
3   Sweden   10285453.0      530883
4  Belarus    9466856.0       63080</code></pre>
</div>
</div>
<p>아래 코드 셀에서 Attribute join을 수행합니다. <code>on</code> 인수는 <code>europe_boundaries</code>의 행을 <code>europe_stats</code> 행에 일치시키는 데 사용되는 열 이름으로 설정됩니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an attribute join to merge data about countries in Europe</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> europe_boundaries.merge(europe_stats, on<span class="op">=</span><span class="st">"name"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>europe.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name  ... gdp_md_est
0   Russia  ...    1699876
1   Norway  ...     403336
2   France  ...    2715518
3   Sweden  ...     530883
4  Belarus  ...      63080

[5 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="spatial-join" class="level2">
<h2 class="anchored" data-anchor-id="spatial-join">Spatial join</h2>
<p>또 다른 조인 유형은 spatial join입니다. spatial join을 사용하면 ‘geometry’ 열에 있는 개체 간의 공간 관계를 기반으로 지오데이터 프레임을 결합합니다. 예를 들어, 유럽 대학의 지오코딩된 주소가 포함된 지오데이터 프레임 대학이 이미 있습니다.</p>
<p>그런 다음 spatial join을 사용하여 각 대학을 해당 국가에 일치시킬 수 있습니다. 이 작업은 <code>gpd.sjoin()</code>을 사용하여 수행합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use spatial join to match universities to countries in Europe</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities = gpd.sjoin(universities, europe)</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the result</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print("We located {} universities.".format(len(universities)))</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print("Only {} of the universities were located in Europe (in {} different countries).".format(</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#len(european_universities), len(european_universities.name.unique())))</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 spatial join은 두 지오데이터 프레임의 “geometry” 열을 살펴봅니다. 대학교 GeoDataFrame의 Point 개체가 유럽 데이터 프레임의 다각형 개체와 교차하는 경우, 해당 행이 결합되어 유럽_대학 데이터 프레임의 단일 행으로 추가됩니다. 그렇지 않으면 일치하는 대학이 없는 국가(및 일치하는 국가가 없는 대학)는 결과에서 생략됩니다.</p>
<p><code>gpd.sjoin()</code> 메서드는 <code>how</code> 및 <code>op</code> 인수를 통해 다양한 조인 유형에 맞게 사용자 지정할 수 있습니다. 예를 들어, how=‘left’(또는 how=‘right’)를 설정하여 SQL LEFT(또는 RIGHT) 조인과 동등한 작업을 수행할 수 있습니다.</p>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<section id="introduction-1" class="level3">
<h3 class="anchored" data-anchor-id="introduction-1">Introduction</h3>
<p>You are a Starbucks big data analyst (that’s a real job!) looking to find the next store into a Starbucks Reserve Roastery. These roasteries are much larger than a typical Starbucks store and have several additional features, including various food and wine options, along with upscale lounge areas. You’ll investigate the demographics of various counties in the state of California, to determine potentially suitable locations.</p>
</section>
<section id="geocode-the-missing-locations." class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-missing-locations.">Geocode the missing locations.</h3>
<p>Run the next code cell to create a DataFrame starbucks containing Starbucks locations in the state of California.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/starbucks_locations.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>starbucks.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Store Number               Store Name  ... Longitude Latitude
0  10429-100710       Palmdale &amp; Hwy 395  ...   -117.40    34.51
1       635-352    Kanan &amp; Thousand Oaks  ...   -118.76    34.16
2   74510-27669  Vons-Agoura Hills #2001  ...   -118.76    34.15
3  29839-255026    Target Anaheim T-0677  ...   -117.75    33.87
4  23463-230284   Safeway - Alameda 3281  ...   -122.28    37.79

[5 rows x 6 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows in each column have missing values?</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(starbucks.isnull().<span class="bu">sum</span>())</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows with missing locations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Store Number    0
Store Name      0
Address         0
City            0
Longitude       5
Latitude        5
dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>rows_with_missing <span class="op">=</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">"Berkeley"</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>rows_with_missing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Store Number                Store Name  ... Longitude Latitude
153      5406-945  2224 Shattuck - Berkeley  ...       NaN      NaN
154       570-512                Solano Ave  ...       NaN      NaN
155  17877-164526   Safeway - Berkeley #691  ...       NaN      NaN
156  19864-202264         Telegraph &amp; Ashby  ...       NaN      NaN
157     9217-9253           2128 Oxford St.  ...       NaN      NaN

[5 rows x 6 columns]</code></pre>
</div>
</div>
<p>Use the code cell below to fill in these values with the Nominatim geocoder.</p>
<p>Note that in the tutorial, we used Nominatim() (from geopy.geocoders) to geocode values, and this is what you can use in your own projects outside of this course.</p>
<p>In this exercise, you will use a slightly different function Nominatim() (from learntools.geospatial.tools). This function was imported at the top of the notebook and works identically to the function from GeoPandas.</p>
<p>So, in other words, as long as:</p>
<p>you don’t change the import statements at the top of the notebook, and you call the geocoding function as geocode() in the code cell below, your code will work as intended!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>berkeley_locations <span class="op">=</span> rows_with_missing.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Address'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>starbucks.update(berkeley_locations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="view-berkeley-locations" class="level3">
<h3 class="anchored" data-anchor-id="view-berkeley-locations">View Berkeley locations</h3>
<p>Let’s take a look at the locations you just found. Visualize the (latitude, longitude) locations in Berkeley in the OpenStreetMap style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>m_2 <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="fl">37.88</span>,<span class="op">-</span><span class="fl">122.26</span>], zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a marker for each Berkeley location</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">'Berkeley'</span>].iterrows():</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]]).add_to(m_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x00000244D8C8BCD0&gt;
&lt;folium.map.Marker object at 0x00000244DA066790&gt;
&lt;folium.map.Marker object at 0x00000244D8E4D3D0&gt;
&lt;folium.map.Marker object at 0x00000244D1D8B290&gt;
&lt;folium.map.Marker object at 0x00000244D8CB8190&gt;</code></pre>
</div>
</div>
</section>
<section id="consolidate-your-data" class="level3">
<h3 class="anchored" data-anchor-id="consolidate-your-data">Consolidate your data</h3>
<p>Run the code below to load a GeoDataFrame CA_counties containing the name, area (in square kilometers), and a unique id (in the “GEOID” column) for each county in the state of California. The “geometry” column contains a polygon with county boundaries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>CA_counties <span class="op">=</span> gpd.read_file(<span class="st">"C:/archive/CA_county_boundaries/CA_county_boundaries/CA_county_boundaries.shp"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>CA_counties.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>CA_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   GEOID  ...                                           geometry
0   6091  ...  POLYGON ((-120.65560 39.69357, -120.65554 39.6...
1   6067  ...  POLYGON ((-121.18858 38.71431, -121.18732 38.7...
2   6083  ...  MULTIPOLYGON (((-120.58191 34.09856, -120.5822...
3   6009  ...  POLYGON ((-120.63095 38.34111, -120.63058 38.3...
4   6111  ...  MULTIPOLYGON (((-119.63631 33.27304, -119.6360...

[5 rows x 4 columns]</code></pre>
</div>
</div>
<p>Next, we create three DataFrames:</p>
<ul>
<li><p><code>CA_pop</code> contains an estimate of the population of each county.</p></li>
<li><p><code>CA_high_earners</code> contains the number of households with an income of at least $150,000 per year.</p></li>
<li><p><code>CA_median_age</code> contains the median age for each county.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>CA_pop <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_population.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>CA_high_earners <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_high_earners.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>CA_median_age <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_median_age.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use the next code cell to join the <code>CA_counties</code> GeoDataFrame with <code>CA_pop</code>, <code>CA_high_earners</code>, and <code>CA_median_age</code>.</p>
<p>Name the resultant GeoDataFrame <code>CA_stats</code>, and make sure it has 8 columns: “GEOID”, “name”, “area_sqkm”, “geometry”, “population”, “high_earners”, and “median_age”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cols_to_add <span class="op">=</span> CA_pop.join([CA_high_earners, CA_median_age]).reset_index()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>CA_stats <span class="op">=</span> CA_counties.merge(cols_to_add, on<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>CA_stats[<span class="st">"density"</span>] <span class="op">=</span> CA_stats[<span class="st">"population"</span>] <span class="op">/</span> CA_stats[<span class="st">"area_sqkm"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="which-counties-look-promising" class="level3">
<h3 class="anchored" data-anchor-id="which-counties-look-promising">Which counties look promising?</h3>
<p>Collapsing all of the information into a single GeoDataFrame also makes it much easier to select counties that meet specific criteria.</p>
<p>Use the next code cell to create a GeoDataFrame <code>sel_counties</code> that contains a subset of the rows (and all of the columns) from the <code>CA_stats</code> GeoDataFrame. In particular, you should select counties where:</p>
<ul>
<li><p>there are at least 100,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 38.5, and</p></li>
<li><p>the density of inhabitants is at least 285 (per square kilometer).</p></li>
</ul>
<p>Additionally, selected counties should satisfy at least one of the following criteria:</p>
<ul>
<li><p>there are at least 500,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 35.5, or</p></li>
<li><p>the density of inhabitants is at least 1400 (per square kilometer).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sel_counties <span class="op">=</span> CA_stats[((CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">100000</span>) <span class="op">&amp;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.median_age <span class="op">&lt;</span> <span class="fl">38.5</span>) <span class="op">&amp;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">285</span>) <span class="op">&amp;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                         ((CA_stats.median_age <span class="op">&lt;</span> <span class="fl">35.5</span>) <span class="op">|</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">1400</span>) <span class="op">|</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">500000</span>)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-stores-did-you-identify" class="level3">
<h3 class="anchored" data-anchor-id="how-many-stores-did-you-identify">How many stores did you identify?</h3>
<p>When looking for the next Starbucks Reserve Roastery location, you’d like to consider all of the stores within the counties that you selected. So, how many stores are within the selected counties?</p>
<p>To prepare to answer this question, run the next code cell to create a GeoDataFrame <code>starbucks_gdf</code> with all of the starbucks locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>starbucks_gdf <span class="op">=</span> gpd.GeoDataFrame(starbucks, geometry<span class="op">=</span>gpd.points_from_xy(starbucks.Longitude, starbucks.Latitude))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>starbucks_gdf.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co">#num_stores = len(locations_of_interest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-the-store-locations." class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-store-locations.">Visualize the store locations.</h3>
<p>Create a map that shows the locations of the stores that you identified in the previous question.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6 = folium.Map(location=[37,-120], zoom_start=6)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mc = MarkerCluster()</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for idx, row in locations_of_interest.iterrows():</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    if not math.isnan(row['Longitude']) and not math.isnan(row['Latitude']):</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#        mc.add_child(folium.Marker([row['Latitude'], row['Longitude']]))</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6.add_child(mc)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
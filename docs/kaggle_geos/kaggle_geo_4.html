<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungil Park">
<meta name="dcterms.date" content="2023-04-24">
<meta name="description" content="Kaggle Geospatial Analysis (4/5)">

<title>Sungil_Park - Manipulating Geospatial Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sungil_Park</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kaggle_geo.html" rel="" target="">
 <span class="menu-text">Geospatial Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../recordings.html" rel="" target="">
 <span class="menu-text">Recordings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contact" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Contact</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contact">    
        <li>
    <a class="dropdown-item" href="https://github.com/Sungileo" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">Github</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://kr.linkedin.com/in/sungilfromcheonankorea" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">Linkedin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.instagram.com/da_real_sungil" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="dropdown-text">Instagram</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#table-joins" id="toc-table-joins" class="nav-link" data-scroll-target="#table-joins">Table joins</a>
  <ul class="collapse">
  <li><a href="#attribute-join" id="toc-attribute-join" class="nav-link" data-scroll-target="#attribute-join">Attribute join</a></li>
  </ul></li>
  <li><a href="#spatial-join" id="toc-spatial-join" class="nav-link" data-scroll-target="#spatial-join">Spatial join</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#geocode-the-missing-locations." id="toc-geocode-the-missing-locations." class="nav-link" data-scroll-target="#geocode-the-missing-locations.">Geocode the missing locations.</a></li>
  <li><a href="#view-berkeley-locations" id="toc-view-berkeley-locations" class="nav-link" data-scroll-target="#view-berkeley-locations">View Berkeley locations</a></li>
  <li><a href="#consolidate-your-data" id="toc-consolidate-your-data" class="nav-link" data-scroll-target="#consolidate-your-data">Consolidate your data</a></li>
  <li><a href="#which-counties-look-promising" id="toc-which-counties-look-promising" class="nav-link" data-scroll-target="#which-counties-look-promising">Which counties look promising?</a></li>
  <li><a href="#how-many-stores-did-you-identify" id="toc-how-many-stores-did-you-identify" class="nav-link" data-scroll-target="#how-many-stores-did-you-identify">How many stores did you identify?</a></li>
  <li><a href="#visualize-the-store-locations." id="toc-visualize-the-store-locations." class="nav-link" data-scroll-target="#visualize-the-store-locations.">Visualize the store locations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manipulating Geospatial Data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Kaggle tutorial</div>
  </div>
  </div>

<div>
  <div class="description">
    Kaggle Geospatial Analysis (4/5)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungil Park </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>이 튜토리얼에서는 Geocoding과 Table join이라는 두 가지 지리적 공간 데이터에 대한 일반적인 조작에 대해 알아봅니다.</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>지오코딩은 장소 이름이나 주소를 지도상의 위치로 변환하는 프로세스입니다. 예를 들어 Google 지도, Bing 지도 등에서 랜드마크 설명을 기반으로 지리적 위치를 찾아본 적이 있다면 지오코딩을 사용해 본 적이 있을 것입니다</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>C:\Users\sungi\PYTHON~1\Lib\site-packages\geopandas\_compat.py:123: UserWarning: The Shapely GEOS version (3.10.1-CAPI-1.16.0) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.
  warnings.warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium <span class="im">import</span> Marker</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 코드 셀에서 <code>Nominatim</code>은 위치를 생성하는 데 사용되는 지오코딩 소프트웨어를 나타냅니다.</p>
<p>지오코더를 인스턴스화하는 것으로 시작합니다. 그런 다음 이름이나 주소를 Python 문자열로 적용하기만 하면 됩니다. (이 경우, 기자의 대피라미드라고도 알려진 “쿠푸의 피라미드”를 제공합니다.)</p>
<p>지오코딩이 성공하면 두 가지 중요한 속성이 있는 geopy.location.Location 객체를 반환합니다:</p>
<ul>
<li><p><code>point</code> 속성에는 (위도, 경도) 위치가 포함되고</p></li>
<li><p><code>address</code> 속성은 전체 주소를 포함합니다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>location <span class="op">=</span> geolocator.geocode(<span class="st">"Pyramid of Khufu"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>29 58m 44.976s N, 31 8m 3.17625s E</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>هرم خوفو, شارع ابو الهول السياحي, نزلة البطران, الجيزة, 12125, مصر</code></pre>
</div>
</div>
<p><code>point</code> 속성의 값은 <code>geopy.point.Point</code> 객체이며, <code>latitude</code> 및 <code>longitude</code> 속성에서 각각 위도와 경도를 가져올 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> location.point</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Latitude:"</span>, point.latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Latitude: 29.97916</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Longitude:"</span>, point.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Longitude: 31.134215625236113</code></pre>
</div>
</div>
<p>다양한 주소를 지오코딩해야 하는 경우가 종종 있습니다. 예를 들어 유럽에 있는 상위 100개 대학의 위치를 파악하고 싶다고 가정해 보겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/top_universities.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name
0     University of Oxford
1  University of Cambridge
2  Imperial College London
3               ETH Zurich
4                      UCL</code></pre>
</div>
</div>
<p>그런 다음 람다 함수를 사용하여 데이터 프레임의 모든 행에 지오코딩을 적용할 수 있습니다.</p>
<p>(지오코딩이 실패할 경우를 대비하여 try/except 문을 사용합니다.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>universities[[<span class="st">'Latitude'</span>, <span class="st">'Longitude'</span>]] <span class="op">=</span> universities.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Name'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}% o</span><span class="st">f addresses were geocoded!"</span>.<span class="bu">format</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(np.isnan(universities[<span class="st">"Latitude"</span>])) <span class="op">/</span> <span class="bu">len</span>(universities)) <span class="op">*</span> <span class="dv">100</span>))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop universities that were not successfully geocoded</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>91.0% of addresses were geocoded!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> universities.loc[<span class="op">~</span>np.isnan(universities[<span class="st">"Latitude"</span>])]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    universities, geometry<span class="op">=</span>gpd.points_from_xy(universities.Longitude, universities.Latitude))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>universities.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name   Latitude  Longitude                   geometry
0     University of Oxford  51.759037  -1.252430  POINT (-1.25243 51.75904)
1  University of Cambridge  52.200623   0.110474   POINT (0.11047 52.20062)
2  Imperial College London  51.498959  -0.175641  POINT (-0.17564 51.49896)
3               ETH Zurich  47.562772   7.580947   POINT (7.58095 47.56277)
4                      UCL  51.521785  -0.135151  POINT (-0.13515 51.52179)</code></pre>
</div>
</div>
<p>다음으로 지오코더가 반환한 모든 위치를 시각화합니다. 일부 위치는 유럽이 아니기 때문에 확실히 부정확하다는 것을 알 수 있습니다!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a map</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="dv">54</span>, <span class="dv">15</span>], tiles<span class="op">=</span><span class="st">'openstreetmap'</span>, zoom_start<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> universities.iterrows():</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]], popup<span class="op">=</span>row[<span class="st">'Name'</span>]).add_to(m)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x0000018A662E5290&gt;
&lt;folium.map.Marker object at 0x0000018A661CCB10&gt;
&lt;folium.map.Marker object at 0x0000018A66518310&gt;
&lt;folium.map.Marker object at 0x0000018A6653B410&gt;
&lt;folium.map.Marker object at 0x0000018A6D428E10&gt;
&lt;folium.map.Marker object at 0x0000018A6D42A350&gt;
&lt;folium.map.Marker object at 0x0000018A662F2FD0&gt;
&lt;folium.map.Marker object at 0x0000018A6D429C90&gt;
&lt;folium.map.Marker object at 0x0000018A6D42A050&gt;
&lt;folium.map.Marker object at 0x0000018A6D429850&gt;
&lt;folium.map.Marker object at 0x0000018A6D410590&gt;
&lt;folium.map.Marker object at 0x0000018A6651F210&gt;
&lt;folium.map.Marker object at 0x0000018A6651C690&gt;
&lt;folium.map.Marker object at 0x0000018A6651C0D0&gt;
&lt;folium.map.Marker object at 0x0000018A6651E110&gt;
&lt;folium.map.Marker object at 0x0000018A6651E6D0&gt;
&lt;folium.map.Marker object at 0x0000018A6651CA90&gt;
&lt;folium.map.Marker object at 0x0000018A6651DB10&gt;
&lt;folium.map.Marker object at 0x0000018A6651F090&gt;
&lt;folium.map.Marker object at 0x0000018A6651EF50&gt;
&lt;folium.map.Marker object at 0x0000018A6651E010&gt;
&lt;folium.map.Marker object at 0x0000018A6651CFD0&gt;
&lt;folium.map.Marker object at 0x0000018A65E2C7D0&gt;
&lt;folium.map.Marker object at 0x0000018A6651CF50&gt;
&lt;folium.map.Marker object at 0x0000018A6651D090&gt;
&lt;folium.map.Marker object at 0x0000018A6651C490&gt;
&lt;folium.map.Marker object at 0x0000018A6651C250&gt;
&lt;folium.map.Marker object at 0x0000018A66529550&gt;
&lt;folium.map.Marker object at 0x0000018A665298D0&gt;
&lt;folium.map.Marker object at 0x0000018A66529ED0&gt;
&lt;folium.map.Marker object at 0x0000018A66529510&gt;
&lt;folium.map.Marker object at 0x0000018A66529450&gt;
&lt;folium.map.Marker object at 0x0000018A66528FD0&gt;
&lt;folium.map.Marker object at 0x0000018A6652B3D0&gt;
&lt;folium.map.Marker object at 0x0000018A6652AAD0&gt;
&lt;folium.map.Marker object at 0x0000018A6652BB90&gt;
&lt;folium.map.Marker object at 0x0000018A6652A7D0&gt;
&lt;folium.map.Marker object at 0x0000018A6652BAD0&gt;
&lt;folium.map.Marker object at 0x0000018A6652A1D0&gt;
&lt;folium.map.Marker object at 0x0000018A66528850&gt;
&lt;folium.map.Marker object at 0x0000018A6652AD50&gt;
&lt;folium.map.Marker object at 0x0000018A662D6A50&gt;
&lt;folium.map.Marker object at 0x0000018A662D7BD0&gt;
&lt;folium.map.Marker object at 0x0000018A662D73D0&gt;
&lt;folium.map.Marker object at 0x0000018A662D7C50&gt;
&lt;folium.map.Marker object at 0x0000018A66304490&gt;
&lt;folium.map.Marker object at 0x0000018A66307B10&gt;
&lt;folium.map.Marker object at 0x0000018A66305BD0&gt;
&lt;folium.map.Marker object at 0x0000018A66306950&gt;
&lt;folium.map.Marker object at 0x0000018A66304A90&gt;
&lt;folium.map.Marker object at 0x0000018A66306A50&gt;
&lt;folium.map.Marker object at 0x0000018A66307090&gt;
&lt;folium.map.Marker object at 0x0000018A662DF710&gt;
&lt;folium.map.Marker object at 0x0000018A662DF450&gt;
&lt;folium.map.Marker object at 0x0000018A664F2150&gt;
&lt;folium.map.Marker object at 0x0000018A664F37D0&gt;
&lt;folium.map.Marker object at 0x0000018A664F3E50&gt;
&lt;folium.map.Marker object at 0x0000018A664F1590&gt;
&lt;folium.map.Marker object at 0x0000018A664F3DD0&gt;
&lt;folium.map.Marker object at 0x0000018A664F1F50&gt;
&lt;folium.map.Marker object at 0x0000018A664F39D0&gt;
&lt;folium.map.Marker object at 0x0000018A664F2C90&gt;
&lt;folium.map.Marker object at 0x0000018A664F3750&gt;
&lt;folium.map.Marker object at 0x0000018A664F0390&gt;
&lt;folium.map.Marker object at 0x0000018A664E3010&gt;
&lt;folium.map.Marker object at 0x0000018A664E2850&gt;
&lt;folium.map.Marker object at 0x0000018A664E2290&gt;
&lt;folium.map.Marker object at 0x0000018A664E1F10&gt;
&lt;folium.map.Marker object at 0x0000018A664E3350&gt;
&lt;folium.map.Marker object at 0x0000018A664E2C10&gt;
&lt;folium.map.Marker object at 0x0000018A664E30D0&gt;
&lt;folium.map.Marker object at 0x0000018A664E3A10&gt;
&lt;folium.map.Marker object at 0x0000018A64C88290&gt;
&lt;folium.map.Marker object at 0x0000018A64C8B350&gt;
&lt;folium.map.Marker object at 0x0000018A664E8E10&gt;
&lt;folium.map.Marker object at 0x0000018A664EB950&gt;
&lt;folium.map.Marker object at 0x0000018A664E8F10&gt;
&lt;folium.map.Marker object at 0x0000018A664EA050&gt;
&lt;folium.map.Marker object at 0x0000018A664E9F10&gt;
&lt;folium.map.Marker object at 0x0000018A664E9610&gt;
&lt;folium.map.Marker object at 0x0000018A664EB250&gt;
&lt;folium.map.Marker object at 0x0000018A664E8610&gt;
&lt;folium.map.Marker object at 0x0000018A664EB190&gt;
&lt;folium.map.Marker object at 0x0000018A664E8A10&gt;
&lt;folium.map.Marker object at 0x0000018A662E8790&gt;
&lt;folium.map.Marker object at 0x0000018A662E90D0&gt;
&lt;folium.map.Marker object at 0x0000018A662E9B90&gt;
&lt;folium.map.Marker object at 0x0000018A662E9B10&gt;
&lt;folium.map.Marker object at 0x0000018A662EBA50&gt;
&lt;folium.map.Marker object at 0x0000018A662EB710&gt;
&lt;folium.map.Marker object at 0x0000018A6D434790&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_db904f37cd150b1fbaa17549622912ad {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_db904f37cd150b1fbaa17549622912ad&quot; ></div>
        
</body>
<script>
    
    
            var map_db904f37cd150b1fbaa17549622912ad = L.map(
                &quot;map_db904f37cd150b1fbaa17549622912ad&quot;,
                {
                    center: [54.0, 15.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 2,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_bb6ee9be9eec0a80dd24b4a95eef7d76 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
            var marker_4af248e5fdae698fa3655678ee311e6d = L.marker(
                [51.7590373, -1.2524298],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_090e770b4d03659f017a8b007f52df41 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_14eb3f0accde4f51f30c5af886fb0ba5 = $(`<div id=&quot;html_14eb3f0accde4f51f30c5af886fb0ba5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oxford</div>`)[0];
                popup_090e770b4d03659f017a8b007f52df41.setContent(html_14eb3f0accde4f51f30c5af886fb0ba5);
            
        

        marker_4af248e5fdae698fa3655678ee311e6d.bindPopup(popup_090e770b4d03659f017a8b007f52df41)
        ;

        
    
    
            var marker_572315b1fd53f929b2cf1f0deb6f033b = L.marker(
                [52.2006233, 0.1104744],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_146b56185332fc652f20c0028cc8574f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_148f917c6c7276cccf2462870bd0ab34 = $(`<div id=&quot;html_148f917c6c7276cccf2462870bd0ab34&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cambridge</div>`)[0];
                popup_146b56185332fc652f20c0028cc8574f.setContent(html_148f917c6c7276cccf2462870bd0ab34);
            
        

        marker_572315b1fd53f929b2cf1f0deb6f033b.bindPopup(popup_146b56185332fc652f20c0028cc8574f)
        ;

        
    
    
            var marker_e622ea2aa7e5d3bc6b3ebef8de94e199 = L.marker(
                [51.4989595, -0.17564069276310426],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_0516cff595d12e9af665a430796426df = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9c80be1643d76271f1fbfe51264fce30 = $(`<div id=&quot;html_9c80be1643d76271f1fbfe51264fce30&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Imperial College London</div>`)[0];
                popup_0516cff595d12e9af665a430796426df.setContent(html_9c80be1643d76271f1fbfe51264fce30);
            
        

        marker_e622ea2aa7e5d3bc6b3ebef8de94e199.bindPopup(popup_0516cff595d12e9af665a430796426df)
        ;

        
    
    
            var marker_f5919d6497ac5906b24756421995fc40 = L.marker(
                [47.56277165, 7.580947334069263],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_5405c76e835cb7a0b4b7ce52a226c2fe = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5802570b1a314e625e06b36f876a9abc = $(`<div id=&quot;html_5802570b1a314e625e06b36f876a9abc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>ETH Zurich</div>`)[0];
                popup_5405c76e835cb7a0b4b7ce52a226c2fe.setContent(html_5802570b1a314e625e06b36f876a9abc);
            
        

        marker_f5919d6497ac5906b24756421995fc40.bindPopup(popup_5405c76e835cb7a0b4b7ce52a226c2fe)
        ;

        
    
    
            var marker_665d7ab53784da462e0435e1874ea021 = L.marker(
                [51.5217852, -0.13515149671251314],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_ebcd25e57cd6778016bc2536d18cce9b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e2d930a7ab821c55638697f8a77fd120 = $(`<div id=&quot;html_e2d930a7ab821c55638697f8a77fd120&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>UCL</div>`)[0];
                popup_ebcd25e57cd6778016bc2536d18cce9b.setContent(html_e2d930a7ab821c55638697f8a77fd120);
            
        

        marker_665d7ab53784da462e0435e1874ea021.bindPopup(popup_ebcd25e57cd6778016bc2536d18cce9b)
        ;

        
    
    
            var marker_3b6b2a2c9a22c8e9835b74af9588c8fb = L.marker(
                [51.51421115, -0.11680813159099895],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a61360ebb95cdce15c7785938c9bc09a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f764dc5cb5d242d98a495fad33632422 = $(`<div id=&quot;html_f764dc5cb5d242d98a495fad33632422&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>London School of Economics and Political Science</div>`)[0];
                popup_a61360ebb95cdce15c7785938c9bc09a.setContent(html_f764dc5cb5d242d98a495fad33632422);
            
        

        marker_3b6b2a2c9a22c8e9835b74af9588c8fb.bindPopup(popup_a61360ebb95cdce15c7785938c9bc09a)
        ;

        
    
    
            var marker_b810c540f87a559fa32b8cebf361dc6f = L.marker(
                [55.94407645, -3.1883735563964555],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_c9406b334d246cbdfa0ac4897069002c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_88f3fbdc8508f0a8519917446c5c8727 = $(`<div id=&quot;html_88f3fbdc8508f0a8519917446c5c8727&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Edinburgh</div>`)[0];
                popup_c9406b334d246cbdfa0ac4897069002c.setContent(html_88f3fbdc8508f0a8519917446c5c8727);
            
        

        marker_b810c540f87a559fa32b8cebf361dc6f.bindPopup(popup_c9406b334d246cbdfa0ac4897069002c)
        ;

        
    
    
            var marker_ee74ef7490779fb48c1f02546db497ae = L.marker(
                [48.14701435, 11.575919303007243],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_72eba1216924ea68b16a92e3566ea73b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_46827ccd0027e42b2fee898985ae777d = $(`<div id=&quot;html_46827ccd0027e42b2fee898985ae777d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>LMU Munich</div>`)[0];
                popup_72eba1216924ea68b16a92e3566ea73b.setContent(html_46827ccd0027e42b2fee898985ae777d);
            
        

        marker_ee74ef7490779fb48c1f02546db497ae.bindPopup(popup_72eba1216924ea68b16a92e3566ea73b)
        ;

        
    
    
            var marker_6d6dc22b70328530d17d068f42850f27 = L.marker(
                [46.518659400000004, 6.566561505148001],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_e6242815214c53525a004a5bd37e4c1b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a31651748a081daa68139f4490769ace = $(`<div id=&quot;html_a31651748a081daa68139f4490769ace&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique Fédérale de Lausanne</div>`)[0];
                popup_e6242815214c53525a004a5bd37e4c1b.setContent(html_a31651748a081daa68139f4490769ace);
            
        

        marker_6d6dc22b70328530d17d068f42850f27.bindPopup(popup_e6242815214c53525a004a5bd37e4c1b)
        ;

        
    
    
            var marker_95d9e90276cfef38ca82364a28475209 = L.marker(
                [51.5060001, -0.1121582948025203],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_d3230e94207214294a5bedf2edb1c232 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b82d16379c9282f410e20fb146869f57 = $(`<div id=&quot;html_b82d16379c9282f410e20fb146869f57&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>King’s College London</div>`)[0];
                popup_d3230e94207214294a5bedf2edb1c232.setContent(html_b82d16379c9282f410e20fb146869f57);
            
        

        marker_95d9e90276cfef38ca82364a28475209.bindPopup(popup_d3230e94207214294a5bedf2edb1c232)
        ;

        
    
    
            var marker_7035f7c2bb43688a81e3b51436068d9d = L.marker(
                [59.219549549999996, 17.94005487275674],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_5874fd708359bab3ede337dd6fc31ff3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_05a3d236ba7d780ba124b6490e41ce21 = $(`<div id=&quot;html_05a3d236ba7d780ba124b6490e41ce21&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karolinska Institute</div>`)[0];
                popup_5874fd708359bab3ede337dd6fc31ff3.setContent(html_05a3d236ba7d780ba124b6490e41ce21);
            
        

        marker_7035f7c2bb43688a81e3b51436068d9d.bindPopup(popup_5874fd708359bab3ede337dd6fc31ff3)
        ;

        
    
    
            var marker_32bbd8b416926ba90de2967fbf49da81 = L.marker(
                [1.3078539, 103.7776795],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_2fd16a7e4c35119dbdea6343f121e523 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ae1a786c4448784eea6f1b030120f86a = $(`<div id=&quot;html_ae1a786c4448784eea6f1b030120f86a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Munich</div>`)[0];
                popup_2fd16a7e4c35119dbdea6343f121e523.setContent(html_ae1a786c4448784eea6f1b030120f86a);
            
        

        marker_32bbd8b416926ba90de2967fbf49da81.bindPopup(popup_2fd16a7e4c35119dbdea6343f121e523)
        ;

        
    
    
            var marker_a4c5cb081fd91fb8d38f89f69ad185f6 = L.marker(
                [41.11442525, -83.16686666639325],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_870605ee46fa5fb16b475b6157dd9b4a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_85abd8b0f67cda827eec25f07c38cb4e = $(`<div id=&quot;html_85abd8b0f67cda827eec25f07c38cb4e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Heidelberg University</div>`)[0];
                popup_870605ee46fa5fb16b475b6157dd9b4a.setContent(html_85abd8b0f67cda827eec25f07c38cb4e);
            
        

        marker_a4c5cb081fd91fb8d38f89f69ad185f6.bindPopup(popup_870605ee46fa5fb16b475b6157dd9b4a)
        ;

        
    
    
            var marker_3aadb4efd30e39534d70f7fa7bf73872 = L.marker(
                [50.80571285, 3.2915374489139757],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_e43435a75f2a5bafc26fcd7dffeeb1dd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9815f626c7eaee80edfdfabcbafd5bb7 = $(`<div id=&quot;html_9815f626c7eaee80edfdfabcbafd5bb7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KU Leuven</div>`)[0];
                popup_e43435a75f2a5bafc26fcd7dffeeb1dd.setContent(html_9815f626c7eaee80edfdfabcbafd5bb7);
            
        

        marker_3aadb4efd30e39534d70f7fa7bf73872.bindPopup(popup_e43435a75f2a5bafc26fcd7dffeeb1dd)
        ;

        
    
    
            var marker_62911d7f670ed73366ac809c2bfae810 = L.marker(
                [53.4657087, -2.232734319907597],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_033a50fc4ff542c34c1a8e836b104c2c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e78ded69f9c65c4bebc223528d23beb4 = $(`<div id=&quot;html_e78ded69f9c65c4bebc223528d23beb4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Manchester</div>`)[0];
                popup_033a50fc4ff542c34c1a8e836b104c2c.setContent(html_e78ded69f9c65c4bebc223528d23beb4);
            
        

        marker_62911d7f670ed73366ac809c2bfae810.bindPopup(popup_033a50fc4ff542c34c1a8e836b104c2c)
        ;

        
    
    
            var marker_5b4a0d28fd05414df5a9a353948e5584 = L.marker(
                [51.99882735, 4.373960368154041],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_8dbbd3ae5474a7b41480c2b86a3ffb7c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_566451fc262cab2484a11c8920195928 = $(`<div id=&quot;html_566451fc262cab2484a11c8920195928&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Delft University of Technology</div>`)[0];
                popup_8dbbd3ae5474a7b41480c2b86a3ffb7c.setContent(html_566451fc262cab2484a11c8920195928);
            
        

        marker_5b4a0d28fd05414df5a9a353948e5584.bindPopup(popup_8dbbd3ae5474a7b41480c2b86a3ffb7c)
        ;

        
    
    
            var marker_5028460573b5dc377d73db35f7cfc359 = L.marker(
                [51.98544495, 5.663212001137484],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_03d4654dc3c9be5614f61fcee7f739f1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ad4b7d1e1a28bb9a60a4e1723ed450fa = $(`<div id=&quot;html_ad4b7d1e1a28bb9a60a4e1723ed450fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Wageningen University &amp; Research</div>`)[0];
                popup_03d4654dc3c9be5614f61fcee7f739f1.setContent(html_ad4b7d1e1a28bb9a60a4e1723ed450fa);
            
        

        marker_5028460573b5dc377d73db35f7cfc359.bindPopup(popup_03d4654dc3c9be5614f61fcee7f739f1)
        ;

        
    
    
            var marker_cdb4f45c7edcf47fce4eb79ee35e7e66 = L.marker(
                [52.36813335, 4.889804155733945],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_4f51d07672b846d7b263d3dbaafe04b4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9a4df77c46517a88da5610420d72c778 = $(`<div id=&quot;html_9a4df77c46517a88da5610420d72c778&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Amsterdam</div>`)[0];
                popup_4f51d07672b846d7b263d3dbaafe04b4.setContent(html_9a4df77c46517a88da5610420d72c778);
            
        

        marker_cdb4f45c7edcf47fce4eb79ee35e7e66.bindPopup(popup_4f51d07672b846d7b263d3dbaafe04b4)
        ;

        
    
    
            var marker_170f13d2fba560d904c9789aa4e1b36b = L.marker(
                [52.5183402, 13.392920232320172],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_c718dc0dd3d016e12705e3a87913500c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cefafe4a36ef404e6f34c5a985d11f3b = $(`<div id=&quot;html_cefafe4a36ef404e6f34c5a985d11f3b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Humboldt University of Berlin</div>`)[0];
                popup_c718dc0dd3d016e12705e3a87913500c.setContent(html_cefafe4a36ef404e6f34c5a985d11f3b);
            
        

        marker_170f13d2fba560d904c9789aa4e1b36b.bindPopup(popup_c718dc0dd3d016e12705e3a87913500c)
        ;

        
    
    
            var marker_40a2291488fd56bbc03e079e4db3ed52 = L.marker(
                [52.168633850000006, 4.45966305742133],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_397f0deea030c4d3889c39dace73d541 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_69d330b2e5e9dc1c8cecce872d1c9f17 = $(`<div id=&quot;html_69d330b2e5e9dc1c8cecce872d1c9f17&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Leiden University</div>`)[0];
                popup_397f0deea030c4d3889c39dace73d541.setContent(html_69d330b2e5e9dc1c8cecce872d1c9f17);
            
        

        marker_40a2291488fd56bbc03e079e4db3ed52.bindPopup(popup_397f0deea030c4d3889c39dace73d541)
        ;

        
    
    
            var marker_b3814a37b24098e5c0348456c891e7b1 = L.marker(
                [51.9229171, 4.487612362865811],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_2b511e4c521dd97db8b75fcac1f12831 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8d54e3c84d6b798eb4ed720cbd6be754 = $(`<div id=&quot;html_8d54e3c84d6b798eb4ed720cbd6be754&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Erasmus University Rotterdam</div>`)[0];
                popup_2b511e4c521dd97db8b75fcac1f12831.setContent(html_8d54e3c84d6b798eb4ed720cbd6be754);
            
        

        marker_b3814a37b24098e5c0348456c891e7b1.bindPopup(popup_2b511e4c521dd97db8b75fcac1f12831)
        ;

        
    
    
            var marker_8cfce2bac76ada2092e8b311c2067b8a = L.marker(
                [48.846899699999994, 2.357448653115875],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_36455b1dd18be11e2d6bb4e486d4df3b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f0952eb05b5b65a5ad0f08fb31929fb7 = $(`<div id=&quot;html_f0952eb05b5b65a5ad0f08fb31929fb7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sorbonne University</div>`)[0];
                popup_36455b1dd18be11e2d6bb4e486d4df3b.setContent(html_f0952eb05b5b65a5ad0f08fb31929fb7);
            
        

        marker_8cfce2bac76ada2092e8b311c2067b8a.bindPopup(popup_36455b1dd18be11e2d6bb4e486d4df3b)
        ;

        
    
    
            var marker_68563a9285e9723d3d924b2b64de904d = L.marker(
                [52.08340265, 5.148315067762755],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_c504c1090fec173b2b6091f64084f1f0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_34940faf61d27e4ac55c3c559ffdfdaf = $(`<div id=&quot;html_34940faf61d27e4ac55c3c559ffdfdaf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Utrecht University</div>`)[0];
                popup_c504c1090fec173b2b6091f64084f1f0.setContent(html_34940faf61d27e4ac55c3c559ffdfdaf);
            
        

        marker_68563a9285e9723d3d924b2b64de904d.bindPopup(popup_c504c1090fec173b2b6091f64084f1f0)
        ;

        
    
    
            var marker_a1c5c6dddaa5a417c4c4544887e6b2b2 = L.marker(
                [46.793058, 7.157106],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_566d26ac2d13a270ddabeae6246f056d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c7023f258050350e5381ecbfe66f759c = $(`<div id=&quot;html_c7023f258050350e5381ecbfe66f759c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Freiburg</div>`)[0];
                popup_566d26ac2d13a270ddabeae6246f056d.setContent(html_c7023f258050350e5381ecbfe66f759c);
            
        

        marker_a1c5c6dddaa5a417c4c4544887e6b2b2.bindPopup(popup_566d26ac2d13a270ddabeae6246f056d)
        ;

        
    
    
            var marker_ac1399d1ab4f2a84fed7c775c184e968 = L.marker(
                [51.457609649999995, -2.6016348983421755],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_d85192610234bb9a38014fd81f95cbc5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d696e56dc5f2d305dfbee6482c35b8c3 = $(`<div id=&quot;html_d696e56dc5f2d305dfbee6482c35b8c3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bristol</div>`)[0];
                popup_d85192610234bb9a38014fd81f95cbc5.setContent(html_d696e56dc5f2d305dfbee6482c35b8c3);
            
        

        marker_ac1399d1ab4f2a84fed7c775c184e968.bindPopup(popup_d85192610234bb9a38014fd81f95cbc5)
        ;

        
    
    
            var marker_3dcd019e8478f8bc0d247566ac72949d = L.marker(
                [53.21967825, 6.562514810379012],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_fae0c16230dc562c6d2b795a350e115a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3182698a7d82b8ed36c54bbfc38c61f5 = $(`<div id=&quot;html_3182698a7d82b8ed36c54bbfc38c61f5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Groningen</div>`)[0];
                popup_fae0c16230dc562c6d2b795a350e115a.setContent(html_3182698a7d82b8ed36c54bbfc38c61f5);
            
        

        marker_3dcd019e8478f8bc0d247566ac72949d.bindPopup(popup_fae0c16230dc562c6d2b795a350e115a)
        ;

        
    
    
            var marker_06a1248c7752b08c1de87e5954dfff40 = L.marker(
                [52.3813073, -1.5639569481637439],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_b8cd8607d98ecf75b73f4747ee50c239 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a11400e7d4f8a3d690400766cad9dcc6 = $(`<div id=&quot;html_a11400e7d4f8a3d690400766cad9dcc6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Warwick</div>`)[0];
                popup_b8cd8607d98ecf75b73f4747ee50c239.setContent(html_a11400e7d4f8a3d690400766cad9dcc6);
            
        

        marker_06a1248c7752b08c1de87e5954dfff40.bindPopup(popup_b8cd8607d98ecf75b73f4747ee50c239)
        ;

        
    
    
            var marker_635dc4659ac63b5940401e7268a37050 = L.marker(
                [50.7791645, 6.068920971222876],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_6fe80ad87ec3d30e1970ffd1971b8dbf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0eb042b0be7e6a580e6f4148a15abb34 = $(`<div id=&quot;html_0eb042b0be7e6a580e6f4148a15abb34&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>RWTH Aachen University</div>`)[0];
                popup_6fe80ad87ec3d30e1970ffd1971b8dbf.setContent(html_0eb042b0be7e6a580e6f4148a15abb34);
            
        

        marker_635dc4659ac63b5940401e7268a37050.bindPopup(popup_6fe80ad87ec3d30e1970ffd1971b8dbf)
        ;

        
    
    
            var marker_68547fc0baba76504e2dcac0305afc52 = L.marker(
                [59.8617859, 17.6376705],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_5a13a1923bab6241ed38ab261a54b4d1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_785fb626698220a7b9db28870cfae78c = $(`<div id=&quot;html_785fb626698220a7b9db28870cfae78c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Uppsala University</div>`)[0];
                popup_5a13a1923bab6241ed38ab261a54b4d1.setContent(html_785fb626698220a7b9db28870cfae78c);
            
        

        marker_68547fc0baba76504e2dcac0305afc52.bindPopup(popup_5a13a1923bab6241ed38ab261a54b4d1)
        ;

        
    
    
            var marker_d2311374ae8db58e794fc338169bcf12 = L.marker(
                [48.53405945, 9.071244429234808],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_293624d07ccfe7c613a8b073bf7ccf4e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f3daadd1d3a5dfa79dd3908d3af1807a = $(`<div id=&quot;html_f3daadd1d3a5dfa79dd3908d3af1807a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Tübingen</div>`)[0];
                popup_293624d07ccfe7c613a8b073bf7ccf4e.setContent(html_f3daadd1d3a5dfa79dd3908d3af1807a);
            
        

        marker_d2311374ae8db58e794fc338169bcf12.bindPopup(popup_293624d07ccfe7c613a8b073bf7ccf4e)
        ;

        
    
    
            var marker_85da27781a0002451e1c428bed7cf60e = L.marker(
                [52.5299885, 13.34866394036122],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_e56d62adff0242d26b51b616d080e378 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5eb850e9b7806e6b9533b753101f638f = $(`<div id=&quot;html_5eb850e9b7806e6b9533b753101f638f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Charité - Universitätsmedizin Berlin</div>`)[0];
                popup_e56d62adff0242d26b51b616d080e378.setContent(html_5eb850e9b7806e6b9533b753101f638f);
            
        

        marker_85da27781a0002451e1c428bed7cf60e.bindPopup(popup_e56d62adff0242d26b51b616d080e378)
        ;

        
    
    
            var marker_0c9f03765413f83c508a6a05f4e8873a = L.marker(
                [47.49684345, 8.72980716809498],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_23db92631cb8435d7dac284e4c88de86 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b7f578c84ecbf5e4fea3799ff98c1474 = $(`<div id=&quot;html_b7f578c84ecbf5e4fea3799ff98c1474&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Zurich</div>`)[0];
                popup_23db92631cb8435d7dac284e4c88de86.setContent(html_b7f578c84ecbf5e4fea3799ff98c1474);
            
        

        marker_0c9f03765413f83c508a6a05f4e8873a.bindPopup(popup_23db92631cb8435d7dac284e4c88de86)
        ;

        
    
    
            var marker_39ea22cf10d6148e7626def03b800a89 = L.marker(
                [55.872315349999994, -4.289219112981823],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_55d2637cff387788dc7875d2fbea141f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_88ce42747de03aa644bb7a8430ce0fe6 = $(`<div id=&quot;html_88ce42747de03aa644bb7a8430ce0fe6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Glasgow</div>`)[0];
                popup_55d2637cff387788dc7875d2fbea141f.setContent(html_88ce42747de03aa644bb7a8430ce0fe6);
            
        

        marker_39ea22cf10d6148e7626def03b800a89.bindPopup(popup_55d2637cff387788dc7875d2fbea141f)
        ;

        
    
    
            var marker_e6a3da85630a43b4f2642fbeef6eb14f = L.marker(
                [58.163098500000004, 8.001442632957419],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_5eb52117e16f2f268e671cd8d3ca2098 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7692fc4eb166d0397d94ec8e2c78b34f = $(`<div id=&quot;html_7692fc4eb166d0397d94ec8e2c78b34f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lund University</div>`)[0];
                popup_5eb52117e16f2f268e671cd8d3ca2098.setContent(html_7692fc4eb166d0397d94ec8e2c78b34f);
            
        

        marker_e6a3da85630a43b4f2642fbeef6eb14f.bindPopup(popup_5eb52117e16f2f268e671cd8d3ca2098)
        ;

        
    
    
            var marker_8b520c5afadf898c090065fe28ee545f = L.marker(
                [60.175648300000006, 24.953550020522073],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_7d80f20f69dca4599b357f7f4869599f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_390ced8a67c7d388b46862e802fc66a8 = $(`<div id=&quot;html_390ced8a67c7d388b46862e802fc66a8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Helsinki</div>`)[0];
                popup_7d80f20f69dca4599b357f7f4869599f.setContent(html_390ced8a67c7d388b46862e802fc66a8);
            
        

        marker_8b520c5afadf898c090065fe28ee545f.bindPopup(popup_7d80f20f69dca4599b357f7f4869599f)
        ;

        
    
    
            var marker_100a1e31dbfc7e01efad9d7c69bf8621 = L.marker(
                [47.56174235, 7.58285513707386],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_d527a7953cc4920fe46b67f03c56aba7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3011e7d69f2dc86f1ab005224c561296 = $(`<div id=&quot;html_3011e7d69f2dc86f1ab005224c561296&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Basel</div>`)[0];
                popup_d527a7953cc4920fe46b67f03c56aba7.setContent(html_3011e7d69f2dc86f1ab005224c561296);
            
        

        marker_100a1e31dbfc7e01efad9d7c69bf8621.bindPopup(popup_d527a7953cc4920fe46b67f03c56aba7)
        ;

        
    
    
            var marker_3a2acbb5063a5518834f967cff5085e0 = L.marker(
                [53.3815327, -1.4806602],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_498f7ba606c36761a8fe7e8aae9ca882 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_070faa486587932d7944857d6129fd1c = $(`<div id=&quot;html_070faa486587932d7944857d6129fd1c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sheffield</div>`)[0];
                popup_498f7ba606c36761a8fe7e8aae9ca882.setContent(html_070faa486587932d7944857d6129fd1c);
            
        

        marker_3a2acbb5063a5518834f967cff5085e0.bindPopup(popup_498f7ba606c36761a8fe7e8aae9ca882)
        ;

        
    
    
            var marker_32cda30876e992492f0153d672758890 = L.marker(
                [48.7127874, 2.2107453],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_17f984c9a6c54d506100c13bb948de86 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f75d1e2bf8b6c3bbd378928beb07780c = $(`<div id=&quot;html_f75d1e2bf8b6c3bbd378928beb07780c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique</div>`)[0];
                popup_17f984c9a6c54d506100c13bb948de86.setContent(html_f75d1e2bf8b6c3bbd378928beb07780c);
            
        

        marker_32cda30876e992492f0153d672758890.bindPopup(popup_17f984c9a6c54d506100c13bb948de86)
        ;

        
    
    
            var marker_2985e2690a26e7a06544f451264084db = L.marker(
                [46.95097255, 7.438684130809055],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_ccd6d76d827a4782993b138cf3d00d8f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_21c8d8c3e24886e004b6ae0133ced5f7 = $(`<div id=&quot;html_21c8d8c3e24886e004b6ae0133ced5f7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bern</div>`)[0];
                popup_ccd6d76d827a4782993b138cf3d00d8f.setContent(html_21c8d8c3e24886e004b6ae0133ced5f7);
            
        

        marker_2985e2690a26e7a06544f451264084db.bindPopup(popup_ccd6d76d827a4782993b138cf3d00d8f)
        ;

        
    
    
            var marker_82b22515d8591873fe0ff082c98d6d69 = L.marker(
                [50.7338124, 7.1022465],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_6f17a76dfca8af0be802e8b39fb54261 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a841c970e2f6006d9abebfd09122e9e8 = $(`<div id=&quot;html_a841c970e2f6006d9abebfd09122e9e8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bonn</div>`)[0];
                popup_6f17a76dfca8af0be802e8b39fb54261.setContent(html_a841c970e2f6006d9abebfd09122e9e8);
            
        

        marker_82b22515d8591873fe0ff082c98d6d69.bindPopup(popup_6f17a76dfca8af0be802e8b39fb54261)
        ;

        
    
    
            var marker_4e3eaa936b92859fdef0afc36926c2f0 = L.marker(
                [54.9027916, -1.392096],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_ffcecddb6435c36fccf108bfda689802 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_727e995f62f62ce36f2f4b66d76761e2 = $(`<div id=&quot;html_727e995f62f62ce36f2f4b66d76761e2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Durham University</div>`)[0];
                popup_ffcecddb6435c36fccf108bfda689802.setContent(html_727e995f62f62ce36f2f4b66d76761e2);
            
        

        marker_4e3eaa936b92859fdef0afc36926c2f0.bindPopup(popup_ffcecddb6435c36fccf108bfda689802)
        ;

        
    
    
            var marker_843dd6cc2db07ac36e66b49d6f83500a = L.marker(
                [52.4522956, -1.9312856726008194],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_13fde2798af8649220317f36d6302e97 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_04f56c9d6c053b1b377fa4ed3a925858 = $(`<div id=&quot;html_04f56c9d6c053b1b377fa4ed3a925858&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Birmingham</div>`)[0];
                popup_13fde2798af8649220317f36d6302e97.setContent(html_04f56c9d6c053b1b377fa4ed3a925858);
            
        

        marker_843dd6cc2db07ac36e66b49d6f83500a.bindPopup(popup_13fde2798af8649220317f36d6302e97)
        ;

        
    
    
            var marker_ad387252483bd26644bb7f9f1c5417be = L.marker(
                [55.6801502, 12.57232700140625],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_294ea8a601f4827f0d1aa17863037225 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_49aa40360824de21f736cedb56886672 = $(`<div id=&quot;html_49aa40360824de21f736cedb56886672&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Copenhagen</div>`)[0];
                popup_294ea8a601f4827f0d1aa17863037225.setContent(html_49aa40360824de21f736cedb56886672);
            
        

        marker_ad387252483bd26644bb7f9f1c5417be.bindPopup(popup_294ea8a601f4827f0d1aa17863037225)
        ;

        
    
    
            var marker_ed44bf96d7eb6896a82cdbfed108e463 = L.marker(
                [50.9354752, -1.3962847494297244],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_f69d1bcec5987678afe602b93377b31d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c3ba31e499ef84ac02b32e688a21fce8 = $(`<div id=&quot;html_c3ba31e499ef84ac02b32e688a21fce8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Southampton</div>`)[0];
                popup_f69d1bcec5987678afe602b93377b31d.setContent(html_c3ba31e499ef84ac02b32e688a21fce8);
            
        

        marker_ed44bf96d7eb6896a82cdbfed108e463.bindPopup(popup_f69d1bcec5987678afe602b93377b31d)
        ;

        
    
    
            var marker_2c6a500a44d4a12ab49a650ab5e4b55f = L.marker(
                [53.9453903, -1.0314592943104675],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_7c355fa128eaaea56bbdcbca1aa9e8eb = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bb736852c2f4223de781271464e4db93 = $(`<div id=&quot;html_bb736852c2f4223de781271464e4db93&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of York</div>`)[0];
                popup_7c355fa128eaaea56bbdcbca1aa9e8eb.setContent(html_bb736852c2f4223de781271464e4db93);
            
        

        marker_2c6a500a44d4a12ab49a650ab5e4b55f.bindPopup(popup_7c355fa128eaaea56bbdcbca1aa9e8eb)
        ;

        
    
    
            var marker_b672672d26084b7f964b2d9fec45d926 = L.marker(
                [53.34366745, -6.254444724511822],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_d4c56caa92a13ea8f7680698a1daef69 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3d915a516d00883c19b8ed1241d43c61 = $(`<div id=&quot;html_3d915a516d00883c19b8ed1241d43c61&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Trinity College Dublin</div>`)[0];
                popup_d4c56caa92a13ea8f7680698a1daef69.setContent(html_3d915a516d00883c19b8ed1241d43c61);
            
        

        marker_b672672d26084b7f964b2d9fec45d926.bindPopup(popup_d4c56caa92a13ea8f7680698a1daef69)
        ;

        
    
    
            var marker_0c278a9fc39dd1033cf5dda5b90ace6a = L.marker(
                [59.9414173, 10.722768340750914],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_ce7993afbbcf1a5e33f800263d404c52 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d977a70a98c299cecc8027d04b567081 = $(`<div id=&quot;html_d977a70a98c299cecc8027d04b567081&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oslo</div>`)[0];
                popup_ce7993afbbcf1a5e33f800263d404c52.setContent(html_d977a70a98c299cecc8027d04b567081);
            
        

        marker_0c278a9fc39dd1033cf5dda5b90ace6a.bindPopup(popup_ce7993afbbcf1a5e33f800263d404c52)
        ;

        
    
    
            var marker_ec73434da1f3784cfc36721279216b7c = L.marker(
                [56.1670905, 10.202617693592895],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_42129198e47da9d27ae07d10fc082373 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_eed49fb7401770cf254c98e0a6e9efcc = $(`<div id=&quot;html_eed49fb7401770cf254c98e0a6e9efcc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aarhus University</div>`)[0];
                popup_42129198e47da9d27ae07d10fc082373.setContent(html_eed49fb7401770cf254c98e0a6e9efcc);
            
        

        marker_ec73434da1f3784cfc36721279216b7c.bindPopup(popup_42129198e47da9d27ae07d10fc082373)
        ;

        
    
    
            var marker_2bd359a27ee992e910263dd0f9bcfce1 = L.marker(
                [51.5411003, 9.948200846079496],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_216b208d790fa39a7aab66eff910c972 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b860517eafae2680435bc9da907a103b = $(`<div id=&quot;html_b860517eafae2680435bc9da907a103b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Göttingen</div>`)[0];
                popup_216b208d790fa39a7aab66eff910c972.setContent(html_b860517eafae2680435bc9da907a103b);
            
        

        marker_2bd359a27ee992e910263dd0f9bcfce1.bindPopup(popup_216b208d790fa39a7aab66eff910c972)
        ;

        
    
    
            var marker_d3fcb3b00ecac5dc54e6568c28805d35 = L.marker(
                [49.4699765, 8.4819024],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_02f01b0123e883ce1c537e95ad57cb89 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b7ef7b3f6deba047d022f9e97e3e49e2 = $(`<div id=&quot;html_b7ef7b3f6deba047d022f9e97e3e49e2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Mannheim</div>`)[0];
                popup_02f01b0123e883ce1c537e95ad57cb89.setContent(html_b7ef7b3f6deba047d022f9e97e3e49e2);
            
        

        marker_d3fcb3b00ecac5dc54e6568c28805d35.bindPopup(popup_02f01b0123e883ce1c537e95ad57cb89)
        ;

        
    
    
            var marker_6e69c1d1eabc054d9340393ec2fdcb49 = L.marker(
                [51.82151725, 5.863403442541042],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_21b84723ddbbebc0bb91b53cf385c872 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c0ae0fcabd7d9e5017a8a3863dd4383 = $(`<div id=&quot;html_7c0ae0fcabd7d9e5017a8a3863dd4383&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Radboud University Nijmegen</div>`)[0];
                popup_21b84723ddbbebc0bb91b53cf385c872.setContent(html_7c0ae0fcabd7d9e5017a8a3863dd4383);
            
        

        marker_6e69c1d1eabc054d9340393ec2fdcb49.bindPopup(popup_21b84723ddbbebc0bb91b53cf385c872)
        ;

        
    
    
            var marker_3e2a888ffa20dd379b9c9b55c473b595 = L.marker(
                [50.821259999999995, 4.349652894133002],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_3be098ccf56986f3fa128abc23318080 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7d1da746cf59e4ce394a407ea80e4f55 = $(`<div id=&quot;html_7d1da746cf59e4ce394a407ea80e4f55&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Université Catholique de Louvain</div>`)[0];
                popup_3be098ccf56986f3fa128abc23318080.setContent(html_7d1da746cf59e4ce394a407ea80e4f55);
            
        

        marker_3e2a888ffa20dd379b9c9b55c473b595.bindPopup(popup_3be098ccf56986f3fa128abc23318080)
        ;

        
    
    
            var marker_aec7b1bc7e7d90b088d8c31a7c320364 = L.marker(
                [50.84720265, 5.685941396293034],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_8043dfaca41b310f875601153cf6e47f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_067ba7585ede316e6cfce44b4305d4b7 = $(`<div id=&quot;html_067ba7585ede316e6cfce44b4305d4b7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Maastricht University</div>`)[0];
                popup_8043dfaca41b310f875601153cf6e47f.setContent(html_067ba7585ede316e6cfce44b4305d4b7);
            
        

        marker_aec7b1bc7e7d90b088d8c31a7c320364.bindPopup(popup_8043dfaca41b310f875601153cf6e47f)
        ;

        
    
    
            var marker_97ad22d8b55879527c0c5592c7593885 = L.marker(
                [51.5247272, -0.03931034663016243],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_b740210a8701610f7531c76ac0d5d73d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ea69349ccf6b4649ab5eb3ce14b2b8ad = $(`<div id=&quot;html_ea69349ccf6b4649ab5eb3ce14b2b8ad&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Queen Mary University of London</div>`)[0];
                popup_b740210a8701610f7531c76ac0d5d73d.setContent(html_ea69349ccf6b4649ab5eb3ce14b2b8ad);
            
        

        marker_97ad22d8b55879527c0c5592c7593885.bindPopup(popup_b740210a8701610f7531c76ac0d5d73d)
        ;

        
    
    
            var marker_2305ad264a62fe516e9ffc2e665628a8 = L.marker(
                [42.6126851, -88.4805318],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_dd6183ae49b9376a34546a0097d8c885 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_23279848a3763b11ef48f91adbc239de = $(`<div id=&quot;html_23279848a3763b11ef48f91adbc239de&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Geneva</div>`)[0];
                popup_dd6183ae49b9376a34546a0097d8c885.setContent(html_23279848a3763b11ef48f91adbc239de);
            
        

        marker_2305ad264a62fe516e9ffc2e665628a8.bindPopup(popup_dd6183ae49b9376a34546a0097d8c885)
        ;

        
    
    
            var marker_e6e358f9491cf9d240841ba012cfb31f = L.marker(
                [53.5641091, 9.994978875267606],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_be559bb6ae0205a5e06b78a8518ba320 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_301f2c9ef5e9a525d6832d77e3b47db1 = $(`<div id=&quot;html_301f2c9ef5e9a525d6832d77e3b47db1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Hamburg</div>`)[0];
                popup_be559bb6ae0205a5e06b78a8518ba320.setContent(html_301f2c9ef5e9a525d6832d77e3b47db1);
            
        

        marker_e6e358f9491cf9d240841ba012cfb31f.bindPopup(popup_be559bb6ae0205a5e06b78a8518ba320)
        ;

        
    
    
            var marker_a846a29d83d5876cd5b4aa98d6916717 = L.marker(
                [49.101853399999996, 8.433120159201868],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_edeac8a735073e1bd031eb7b2cf07692 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3cbbe455555c6141d42d3a650b2337f1 = $(`<div id=&quot;html_3cbbe455555c6141d42d3a650b2337f1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karlsruhe Institute of Technology</div>`)[0];
                popup_edeac8a735073e1bd031eb7b2cf07692.setContent(html_3cbbe455555c6141d42d3a650b2337f1);
            
        

        marker_a846a29d83d5876cd5b4aa98d6916717.bindPopup(popup_edeac8a735073e1bd031eb7b2cf07692)
        ;

        
    
    
            var marker_8ead19b4d742d585fb240f219256ebd0 = L.marker(
                [50.73693715, -3.534734858662963],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a6e8d3fd5676942ecdd7c6172e5aaf78 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ad4bddf61acd943af0b8d7a7a2766932 = $(`<div id=&quot;html_ad4bddf61acd943af0b8d7a7a2766932&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Exeter</div>`)[0];
                popup_a6e8d3fd5676942ecdd7c6172e5aaf78.setContent(html_ad4bddf61acd943af0b8d7a7a2766932);
            
        

        marker_8ead19b4d742d585fb240f219256ebd0.bindPopup(popup_a6e8d3fd5676942ecdd7c6172e5aaf78)
        ;

        
    
    
            var marker_bb0be9216beab33c015981f11bcc51ed = L.marker(
                [51.00784845, 3.710883068491984],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_5a8147ca64ef176d89a8a3218b01cd28 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_51fbcaf8e5d23ee068dfbae65b963bdb = $(`<div id=&quot;html_51fbcaf8e5d23ee068dfbae65b963bdb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ghent University</div>`)[0];
                popup_5a8147ca64ef176d89a8a3218b01cd28.setContent(html_51fbcaf8e5d23ee068dfbae65b963bdb);
            
        

        marker_bb0be9216beab33c015981f11bcc51ed.bindPopup(popup_5a8147ca64ef176d89a8a3218b01cd28)
        ;

        
    
    
            var marker_4bd17c8bfd82ca7614c548d5573ee26c = L.marker(
                [48.2131284, 16.360685994114505],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_7564618ab92bbd6da30879ac36c108e5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e0073785cd010f891967f014ab133814 = $(`<div id=&quot;html_e0073785cd010f891967f014ab133814&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Vienna</div>`)[0];
                popup_7564618ab92bbd6da30879ac36c108e5.setContent(html_e0073785cd010f891967f014ab133814);
            
        

        marker_4bd17c8bfd82ca7614c548d5573ee26c.bindPopup(popup_7564618ab92bbd6da30879ac36c108e5)
        ;

        
    
    
            var marker_91174e88d7625b1216d346a378db4b3b = L.marker(
                [50.928044549999996, 6.928130514523661],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_3cf7b3b4f17dc95f7f86e5f4e7f28910 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_45a3049bac00e5bc82ca2f8f11869f4b = $(`<div id=&quot;html_45a3049bac00e5bc82ca2f8f11869f4b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cologne</div>`)[0];
                popup_3cf7b3b4f17dc95f7f86e5f4e7f28910.setContent(html_45a3049bac00e5bc82ca2f8f11869f4b);
            
        

        marker_91174e88d7625b1216d346a378db4b3b.bindPopup(popup_3cf7b3b4f17dc95f7f86e5f4e7f28910)
        ;

        
    
    
            var marker_82a18343bdac34fd1e2f9d87ea6e24ba = L.marker(
                [54.00975365, -2.7875727317728654],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_74eaea8cb0bbb1027478414bbd7d52d8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a3e070ba074d1dcd4ac99ce3b51d67a9 = $(`<div id=&quot;html_a3e070ba074d1dcd4ac99ce3b51d67a9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lancaster University</div>`)[0];
                popup_74eaea8cb0bbb1027478414bbd7d52d8.setContent(html_a3e070ba074d1dcd4ac99ce3b51d67a9);
            
        

        marker_82a18343bdac34fd1e2f9d87ea6e24ba.bindPopup(popup_74eaea8cb0bbb1027478414bbd7d52d8)
        ;

        
    
    
            var marker_d1dc3ad75be18197e272f81812e012b3 = L.marker(
                [52.9387428, -1.2002956927457427],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_6056a19c727824976d83266f38a07d7d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6cf3b7d031cfde25b6e042b3d3ac6af7 = $(`<div id=&quot;html_6cf3b7d031cfde25b6e042b3d3ac6af7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Nottingham</div>`)[0];
                popup_6056a19c727824976d83266f38a07d7d.setContent(html_6cf3b7d031cfde25b6e042b3d3ac6af7);
            
        

        marker_d1dc3ad75be18197e272f81812e012b3.bindPopup(popup_6056a19c727824976d83266f38a07d7d)
        ;

        
    
    
            var marker_733be9851685d6bbb4aa300516ba5bec = L.marker(
                [48.38044334999999, 10.010101151636224],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_d2deb4129875178b0720b831f40c87a3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_abcee95d07a88b5e28c46ccc3dd570ec = $(`<div id=&quot;html_abcee95d07a88b5e28c46ccc3dd570ec&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ulm University</div>`)[0];
                popup_d2deb4129875178b0720b831f40c87a3.setContent(html_abcee95d07a88b5e28c46ccc3dd570ec);
            
        

        marker_733be9851685d6bbb4aa300516ba5bec.bindPopup(popup_d2deb4129875178b0720b831f40c87a3)
        ;

        
    
    
            var marker_4d1c1c661f2d54b779c69d6855a5bb35 = L.marker(
                [51.028276500000004, 13.735982754935176],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_7d05698454a299587d93ef6dadf41a3a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c2df907e7e04f9c2e325277c42aecf84 = $(`<div id=&quot;html_c2df907e7e04f9c2e325277c42aecf84&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>TU Dresden</div>`)[0];
                popup_7d05698454a299587d93ef6dadf41a3a.setContent(html_c2df907e7e04f9c2e325277c42aecf84);
            
        

        marker_4d1c1c661f2d54b779c69d6855a5bb35.bindPopup(popup_7d05698454a299587d93ef6dadf41a3a)
        ;

        
    
    
            var marker_957ad83748aa9cafa2d365bdee9794e5 = L.marker(
                [53.80677435, -1.5562877504739676],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a9aafab4f7f8bb6a2ed8855467245383 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c5d884ba97f30aaa9d8e666bb6c01828 = $(`<div id=&quot;html_c5d884ba97f30aaa9d8e666bb6c01828&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leeds</div>`)[0];
                popup_a9aafab4f7f8bb6a2ed8855467245383.setContent(html_c5d884ba97f30aaa9d8e666bb6c01828);
            
        

        marker_957ad83748aa9cafa2d365bdee9794e5.bindPopup(popup_a9aafab4f7f8bb6a2ed8855467245383)
        ;

        
    
    
            var marker_c0300b1846de570fb73e6ffee17c9061 = L.marker(
                [43.7206078, 10.4026444],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_97bd54bf6eb053dd3e550fa2f23d847f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6d5c357335c2b3bccf1c0fc14f248ea3 = $(`<div id=&quot;html_6d5c357335c2b3bccf1c0fc14f248ea3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Superiore Sant’Anna</div>`)[0];
                popup_97bd54bf6eb053dd3e550fa2f23d847f.setContent(html_6d5c357335c2b3bccf1c0fc14f248ea3);
            
        

        marker_c0300b1846de570fb73e6ffee17c9061.bindPopup(popup_97bd54bf6eb053dd3e550fa2f23d847f)
        ;

        
    
    
            var marker_e656a8ee7667c018b85fbdfa506e9945 = L.marker(
                [59.363333600000004, 18.05879425982729],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_bed1281c9fd57a80da34b959c529f00b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_89bb2f9036b90c8bfb882e4ab4a07acf = $(`<div id=&quot;html_89bb2f9036b90c8bfb882e4ab4a07acf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stockholm University</div>`)[0];
                popup_bed1281c9fd57a80da34b959c529f00b.setContent(html_89bb2f9036b90c8bfb882e4ab4a07acf);
            
        

        marker_e656a8ee7667c018b85fbdfa506e9945.bindPopup(popup_bed1281c9fd57a80da34b959c529f00b)
        ;

        
    
    
            var marker_e7fad533099feab781a1a2b08849b5f2 = L.marker(
                [57.16452475, -2.1018363546621197],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_511be4f9a6b02518d03780d1208200f1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c38aded4dbd8b2b152c1f6a1ceb26b69 = $(`<div id=&quot;html_c38aded4dbd8b2b152c1f6a1ceb26b69&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Aberdeen</div>`)[0];
                popup_511be4f9a6b02518d03780d1208200f1.setContent(html_c38aded4dbd8b2b152c1f6a1ceb26b69);
            
        

        marker_e7fad533099feab781a1a2b08849b5f2.bindPopup(popup_511be4f9a6b02518d03780d1208200f1)
        ;

        
    
    
            var marker_86bc30060cf65bf7f7bd57ffc49be328 = L.marker(
                [43.7196687, 10.400432749413179],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_df61c1478d937c1845c3fc61ce8fd779 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bf78457ef4b42d9c0222e549ab993071 = $(`<div id=&quot;html_bf78457ef4b42d9c0222e549ab993071&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Normale Superiore di Pisa</div>`)[0];
                popup_df61c1478d937c1845c3fc61ce8fd779.setContent(html_bf78457ef4b42d9c0222e549ab993071);
            
        

        marker_86bc30060cf65bf7f7bd57ffc49be328.bindPopup(popup_df61c1478d937c1845c3fc61ce8fd779)
        ;

        
    
    
            var marker_8ee6288d302a429e1870922917c5cf75 = L.marker(
                [50.86796665, -0.08778899363132905],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_e10d6ada60fd7ee19984a7aefcee85d0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5b5d031734fcfd6abc2c5d4816afae0d = $(`<div id=&quot;html_5b5d031734fcfd6abc2c5d4816afae0d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sussex</div>`)[0];
                popup_e10d6ada60fd7ee19984a7aefcee85d0.setContent(html_5b5d031734fcfd6abc2c5d4816afae0d);
            
        

        marker_8ee6288d302a429e1870922917c5cf75.bindPopup(popup_e10d6ada60fd7ee19984a7aefcee85d0)
        ;

        
    
    
            var marker_4230deaa7dbcccb12ac04b0b71a97af5 = L.marker(
                [55.785414450000005, 12.520215144442094],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_27d2f6fd980786872f05c1f5aa9065ee = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0000b0abfdb4ebce25eaaf571d198bab = $(`<div id=&quot;html_0000b0abfdb4ebce25eaaf571d198bab&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Denmark</div>`)[0];
                popup_27d2f6fd980786872f05c1f5aa9065ee.setContent(html_0000b0abfdb4ebce25eaaf571d198bab);
            
        

        marker_4230deaa7dbcccb12ac04b0b71a97af5.bindPopup(popup_27d2f6fd980786872f05c1f5aa9065ee)
        ;

        
    
    
            var marker_4b459d7099c274760b3b5beae82b364d = L.marker(
                [56.3398198, -2.8117937053149826],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a69da3641e599be277b900df42c2b17e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c1a234992c9070ea3578a51e0f1c763 = $(`<div id=&quot;html_7c1a234992c9070ea3578a51e0f1c763&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of St Andrews</div>`)[0];
                popup_a69da3641e599be277b900df42c2b17e.setContent(html_7c1a234992c9070ea3578a51e0f1c763);
            
        

        marker_4b459d7099c274760b3b5beae82b364d.bindPopup(popup_a69da3641e599be277b900df42c2b17e)
        ;

        
    
    
            var marker_604c4992fa1ec3c5536379917c1c89a6 = L.marker(
                [52.33396225, 4.865196500737312],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_89ec40777d6ae397a0ecf21fb18dedb2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ffec3fd5365f0f242026e5b013d8049a = $(`<div id=&quot;html_ffec3fd5365f0f242026e5b013d8049a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Vrije Universiteit Amsterdam</div>`)[0];
                popup_89ec40777d6ae397a0ecf21fb18dedb2.setContent(html_ffec3fd5365f0f242026e5b013d8049a);
            
        

        marker_604c4992fa1ec3c5536379917c1c89a6.bindPopup(popup_89ec40777d6ae397a0ecf21fb18dedb2)
        ;

        
    
    
            var marker_d95fb83b53572c0c376ebf4bf782c93b = L.marker(
                [51.4486602, 5.4903995655080475],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_0b33b5c7100df240abdab488bb9ef323 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2cc917e9b41c6732d054efb8cdac3875 = $(`<div id=&quot;html_2cc917e9b41c6732d054efb8cdac3875&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Eindhoven University of Technology</div>`)[0];
                popup_0b33b5c7100df240abdab488bb9ef323.setContent(html_2cc917e9b41c6732d054efb8cdac3875);
            
        

        marker_d95fb83b53572c0c376ebf4bf782c93b.bindPopup(popup_0b33b5c7100df240abdab488bb9ef323)
        ;

        
    
    
            var marker_5ac9f1aa528a2a6a435961cb42ca1f05 = L.marker(
                [52.62446355, -1.1257301398551323],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a7905efe1e8570024369ddbe66e8b8a1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8d64b8c58d2d7473079f8e926f793938 = $(`<div id=&quot;html_8d64b8c58d2d7473079f8e926f793938&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leicester</div>`)[0];
                popup_a7905efe1e8570024369ddbe66e8b8a1.setContent(html_8d64b8c58d2d7473079f8e926f793938);
            
        

        marker_5ac9f1aa528a2a6a435961cb42ca1f05.bindPopup(popup_a7905efe1e8570024369ddbe66e8b8a1)
        ;

        
    
    
            var marker_1693c315ff800a719ed6a01924ce874b = L.marker(
                [54.98017505, -1.6146802127187847],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_e1aca53fd1841bc15dda9802e9137f4b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8cf1c8c68a8b411bb41631569c6044b9 = $(`<div id=&quot;html_8cf1c8c68a8b411bb41631569c6044b9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Newcastle University</div>`)[0];
                popup_e1aca53fd1841bc15dda9802e9137f4b.setContent(html_8cf1c8c68a8b411bb41631569c6044b9);
            
        

        marker_1693c315ff800a719ed6a01924ce874b.bindPopup(popup_e1aca53fd1841bc15dda9802e9137f4b)
        ;

        
    
    
            var marker_d3478be87f11a1d84568fd7f284c396d = L.marker(
                [46.5225695, 6.580949860268587],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_f30ab359f00b6cce99502c693b6b6fab = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8de65984394072d0c0a8c7a81cb7ea75 = $(`<div id=&quot;html_8de65984394072d0c0a8c7a81cb7ea75&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Lausanne</div>`)[0];
                popup_f30ab359f00b6cce99502c693b6b6fab.setContent(html_8de65984394072d0c0a8c7a81cb7ea75);
            
        

        marker_d3478be87f11a1d84568fd7f284c396d.bindPopup(popup_f30ab359f00b6cce99502c693b6b6fab)
        ;

        
    
    
            var marker_256d30c15aab6f4c95f4fb4e8b3e6d36 = L.marker(
                [60.1860789, 24.828102074406736],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_a4b74ff451217b7a5b6a5d7270c0668e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a01f200857c43f1f8c518e56e429921e = $(`<div id=&quot;html_a01f200857c43f1f8c518e56e429921e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalto University</div>`)[0];
                popup_a4b74ff451217b7a5b6a5d7270c0668e.setContent(html_a01f200857c43f1f8c518e56e429921e);
            
        

        marker_256d30c15aab6f4c95f4fb4e8b3e6d36.bindPopup(popup_a4b74ff451217b7a5b6a5d7270c0668e)
        ;

        
    
    
            var marker_161ab6abbb2bd9683ce5aca0e7949dc7 = L.marker(
                [53.40724285, -2.965833661018871],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_9cf27fee3214f44bbab63f218ab5f2ea = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e5a7a84f326acd20b8d6b18f680b1183 = $(`<div id=&quot;html_e5a7a84f326acd20b8d6b18f680b1183&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Liverpool</div>`)[0];
                popup_9cf27fee3214f44bbab63f218ab5f2ea.setContent(html_e5a7a84f326acd20b8d6b18f680b1183);
            
        

        marker_161ab6abbb2bd9683ce5aca0e7949dc7.bindPopup(popup_9cf27fee3214f44bbab63f218ab5f2ea)
        ;

        
    
    
            var marker_f34c3561e197102d959549a1c5e085a0 = L.marker(
                [51.96734215, 7.599243326272159],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_c3e9802ccb9c4ac5060dc82aaba561ca = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_90403e9fe94302bdc954af7115d50d11 = $(`<div id=&quot;html_90403e9fe94302bdc954af7115d50d11&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Münster</div>`)[0];
                popup_c3e9802ccb9c4ac5060dc82aaba561ca.setContent(html_90403e9fe94302bdc954af7115d50d11);
            
        

        marker_f34c3561e197102d959549a1c5e085a0.bindPopup(popup_c3e9802ccb9c4ac5060dc82aaba561ca)
        ;

        
    
    
            var marker_691e3f3dff7aa6873405486585cdf8a4 = L.marker(
                [52.2233862, 6.8854239028157],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_05491480db7506fec4a7dcf8d6388f95 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1bb190015dc0739b7a3e211004a2f2cb = $(`<div id=&quot;html_1bb190015dc0739b7a3e211004a2f2cb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Twente</div>`)[0];
                popup_05491480db7506fec4a7dcf8d6388f95.setContent(html_1bb190015dc0739b7a3e211004a2f2cb);
            
        

        marker_691e3f3dff7aa6873405486585cdf8a4.bindPopup(popup_05491480db7506fec4a7dcf8d6388f95)
        ;

        
    
    
            var marker_a310ca763b8f7db74f7e5ae40a2ad60f = L.marker(
                [51.48402915, -3.1697633635952807],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_2b67f5d36fc9da03caae731ae0954710 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bd820c0a5c31226781c7a851ff5bbdb8 = $(`<div id=&quot;html_bd820c0a5c31226781c7a851ff5bbdb8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Cardiff University</div>`)[0];
                popup_2b67f5d36fc9da03caae731ae0954710.setContent(html_bd820c0a5c31226781c7a851ff5bbdb8);
            
        

        marker_a310ca763b8f7db74f7e5ae40a2ad60f.bindPopup(popup_2b67f5d36fc9da03caae731ae0954710)
        ;

        
    
    
            var marker_7ca99de91da8977fde1b88f057b3053e = L.marker(
                [59.2016758, 17.6203201],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_67cf1938753d37ed53b8a762dee22b5b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_343e82653a50c30c1e97de5471fd7358 = $(`<div id=&quot;html_343e82653a50c30c1e97de5471fd7358&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KTH Royal Institute of Technology</div>`)[0];
                popup_67cf1938753d37ed53b8a762dee22b5b.setContent(html_343e82653a50c30c1e97de5471fd7358);
            
        

        marker_7ca99de91da8977fde1b88f057b3053e.bindPopup(popup_67cf1938753d37ed53b8a762dee22b5b)
        ;

        
    
    
            var marker_08614cf051df20be5bf9356d352e2e3a = L.marker(
                [47.690088599999996, 9.188243876500252],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_7ef12f3658b3614337159f68663a322a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_703295a9e0e411a05be3498f26905383 = $(`<div id=&quot;html_703295a9e0e411a05be3498f26905383&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Konstanz</div>`)[0];
                popup_7ef12f3658b3614337159f68663a322a.setContent(html_703295a9e0e411a05be3498f26905383);
            
        

        marker_08614cf051df20be5bf9356d352e2e3a.bindPopup(popup_7ef12f3658b3614337159f68663a322a)
        ;

        
    
    
            var marker_a380c9e06c9716339cc2cabb234e3cb7 = L.marker(
                [51.4290899, 6.8008580326401],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_548f195e5bc2a9ae558e4d89928ae4c7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5049c18611f298ac13daae5d1ecd7ac4 = $(`<div id=&quot;html_5049c18611f298ac13daae5d1ecd7ac4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Duisburg-Essen</div>`)[0];
                popup_548f195e5bc2a9ae558e4d89928ae4c7.setContent(html_5049c18611f298ac13daae5d1ecd7ac4);
            
        

        marker_a380c9e06c9716339cc2cabb234e3cb7.bindPopup(popup_548f195e5bc2a9ae558e4d89928ae4c7)
        ;

        
    
    
            var marker_ec564e57690e44dbf4db79c8fb38cb0c = L.marker(
                [52.622251, 1.2411579],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_58225d6b1e4fa92f31dfd480a7c6bc02 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_08ac96cb03562bd9def1a703d4d2e601 = $(`<div id=&quot;html_08ac96cb03562bd9def1a703d4d2e601&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of East Anglia</div>`)[0];
                popup_58225d6b1e4fa92f31dfd480a7c6bc02.setContent(html_08ac96cb03562bd9def1a703d4d2e601);
            
        

        marker_ec564e57690e44dbf4db79c8fb38cb0c.bindPopup(popup_58225d6b1e4fa92f31dfd480a7c6bc02)
        ;

        
    
    
            var marker_14f09fd083b46bdcdcac79fdf9501850 = L.marker(
                [57.015907049999996, 9.975308243557345],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_4737ba4fdb0bff857819125a62cdf140 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_df5fa533c94c3c29e910961da0f0fce9 = $(`<div id=&quot;html_df5fa533c94c3c29e910961da0f0fce9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalborg University</div>`)[0];
                popup_4737ba4fdb0bff857819125a62cdf140.setContent(html_df5fa533c94c3c29e910961da0f0fce9);
            
        

        marker_14f09fd083b46bdcdcac79fdf9501850.bindPopup(popup_4737ba4fdb0bff857819125a62cdf140)
        ;

        
    
    
            var marker_5041caadd0ada4f6a95a40b69171e415 = L.marker(
                [60.36887575, 5.351111541486731],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_66883458a44096f5b2bf5236eee39e6b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_42c2ad4858da3ea2ce30679e566553bb = $(`<div id=&quot;html_42c2ad4858da3ea2ce30679e566553bb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bergen</div>`)[0];
                popup_66883458a44096f5b2bf5236eee39e6b.setContent(html_42c2ad4858da3ea2ce30679e566553bb);
            
        

        marker_5041caadd0ada4f6a95a40b69171e415.bindPopup(popup_66883458a44096f5b2bf5236eee39e6b)
        ;

        
    
    
            var marker_2e49348b205001303964c1042d369951 = L.marker(
                [55.7055406, 37.5360595],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_51362f135e6489119ba3724b567c2a69 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9a98c9a33e1f250a713b09f3461dfd22 = $(`<div id=&quot;html_9a98c9a33e1f250a713b09f3461dfd22&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lomonosov Moscow State University</div>`)[0];
                popup_51362f135e6489119ba3724b567c2a69.setContent(html_9a98c9a33e1f250a713b09f3461dfd22);
            
        

        marker_2e49348b205001303964c1042d369951.bindPopup(popup_51362f135e6489119ba3724b567c2a69)
        ;

        
    
    
            var marker_87cae5e9378473234edc367ccaa2b532 = L.marker(
                [51.1843856, 4.41993868786375],
                {}
            ).addTo(map_db904f37cd150b1fbaa17549622912ad);
        
    
        var popup_b6e6ca9727a54c27f980eb871566f791 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1033ba854e268ffb3a9dcff1e9c52094 = $(`<div id=&quot;html_1033ba854e268ffb3a9dcff1e9c52094&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Antwerp</div>`)[0];
                popup_b6e6ca9727a54c27f980eb871566f791.setContent(html_1033ba854e268ffb3a9dcff1e9c52094);
            
        

        marker_87cae5e9378473234edc367ccaa2b532.bindPopup(popup_b6e6ca9727a54c27f980eb871566f791)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="table-joins" class="level2">
<h2 class="anchored" data-anchor-id="table-joins">Table joins</h2>
<section id="attribute-join" class="level3">
<h3 class="anchored" data-anchor-id="attribute-join">Attribute join</h3>
<p>여러 데이터프레임의 정보를 공유 인덱스로 결합하기 위해 <code>pd.DataFrame.join()</code>을 사용하는 방법을 이미 알고 계실 것입니다. 인덱스에서 일치하는 값을 단순화하여 데이터를 조인하는 이 방법을 특성 조인이라고 합니다.</p>
<p>지오데이터프레임으로 특성 조인을 수행할 때는 <code>gpd.GeoDataFrame.merge()</code>를 사용하는 것이 가장 좋습니다. 이를 설명하기 위해 유럽의 모든 국가에 대한 경계가 포함된 GeoDataFrame europe_boundaries로 작업해 보겠습니다. 이 GeoDataFrame의 처음 다섯 행은 아래에 인쇄되어 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">'naturalearth_lowres'</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> world.loc[world.continent <span class="op">==</span> <span class="st">'Europe'</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>europe_stats <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"pop_est"</span>, <span class="st">"gdp_md_est"</span>]]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>europe_boundaries <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"geometry"</span>]]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>europe_boundaries.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name                                           geometry
0   Russia  MULTIPOLYGON (((180.00000 71.51571, 180.00000 ...
1   Norway  MULTIPOLYGON (((15.14282 79.67431, 15.52255 80...
2   France  MULTIPOLYGON (((-51.65780 4.15623, -52.24934 3...
3   Sweden  POLYGON ((11.02737 58.85615, 11.46827 59.43239...
4  Belarus  POLYGON ((28.17671 56.16913, 29.22951 55.91834...</code></pre>
</div>
</div>
<p>각 국가의 예상 인구와 국내총생산(GDP)을 포함하는 데이터 프레임 europe_stats와 결합합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>europe_stats.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name      pop_est  gdp_md_est
0   Russia  144373535.0     1699876
1   Norway    5347896.0      403336
2   France   67059887.0     2715518
3   Sweden   10285453.0      530883
4  Belarus    9466856.0       63080</code></pre>
</div>
</div>
<p>아래 코드 셀에서 Attribute join을 수행합니다. <code>on</code> 인수는 <code>europe_boundaries</code>의 행을 <code>europe_stats</code> 행에 일치시키는 데 사용되는 열 이름으로 설정됩니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an attribute join to merge data about countries in Europe</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> europe_boundaries.merge(europe_stats, on<span class="op">=</span><span class="st">"name"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>europe.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name  ... gdp_md_est
0   Russia  ...    1699876
1   Norway  ...     403336
2   France  ...    2715518
3   Sweden  ...     530883
4  Belarus  ...      63080

[5 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="spatial-join" class="level2">
<h2 class="anchored" data-anchor-id="spatial-join">Spatial join</h2>
<p>또 다른 조인 유형은 spatial join입니다. spatial join을 사용하면 ‘geometry’ 열에 있는 개체 간의 공간 관계를 기반으로 지오데이터 프레임을 결합합니다. 예를 들어, 유럽 대학의 지오코딩된 주소가 포함된 지오데이터 프레임 대학이 이미 있습니다.</p>
<p>그런 다음 spatial join을 사용하여 각 대학을 해당 국가에 일치시킬 수 있습니다. 이 작업은 <code>gpd.sjoin()</code>을 사용하여 수행합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use spatial join to match universities to countries in Europe</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities = gpd.sjoin(universities, europe)</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the result</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print("We located {} universities.".format(len(universities)))</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print("Only {} of the universities were located in Europe (in {} different countries).".format(</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#len(european_universities), len(european_universities.name.unique())))</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 spatial join은 두 지오데이터 프레임의 “geometry” 열을 살펴봅니다. 대학교 GeoDataFrame의 Point 개체가 유럽 데이터 프레임의 다각형 개체와 교차하는 경우, 해당 행이 결합되어 유럽_대학 데이터 프레임의 단일 행으로 추가됩니다. 그렇지 않으면 일치하는 대학이 없는 국가(및 일치하는 국가가 없는 대학)는 결과에서 생략됩니다.</p>
<p><code>gpd.sjoin()</code> 메서드는 <code>how</code> 및 <code>op</code> 인수를 통해 다양한 조인 유형에 맞게 사용자 지정할 수 있습니다. 예를 들어, how=‘left’(또는 how=‘right’)를 설정하여 SQL LEFT(또는 RIGHT) 조인과 동등한 작업을 수행할 수 있습니다.</p>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<section id="introduction-1" class="level3">
<h3 class="anchored" data-anchor-id="introduction-1">Introduction</h3>
<p>You are a Starbucks big data analyst (that’s a real job!) looking to find the next store into a Starbucks Reserve Roastery. These roasteries are much larger than a typical Starbucks store and have several additional features, including various food and wine options, along with upscale lounge areas. You’ll investigate the demographics of various counties in the state of California, to determine potentially suitable locations.</p>
</section>
<section id="geocode-the-missing-locations." class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-missing-locations.">Geocode the missing locations.</h3>
<p>Run the next code cell to create a DataFrame starbucks containing Starbucks locations in the state of California.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/starbucks_locations.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>starbucks.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Store Number               Store Name  ... Longitude Latitude
0  10429-100710       Palmdale &amp; Hwy 395  ...   -117.40    34.51
1       635-352    Kanan &amp; Thousand Oaks  ...   -118.76    34.16
2   74510-27669  Vons-Agoura Hills #2001  ...   -118.76    34.15
3  29839-255026    Target Anaheim T-0677  ...   -117.75    33.87
4  23463-230284   Safeway - Alameda 3281  ...   -122.28    37.79

[5 rows x 6 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows in each column have missing values?</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(starbucks.isnull().<span class="bu">sum</span>())</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows with missing locations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Store Number    0
Store Name      0
Address         0
City            0
Longitude       5
Latitude        5
dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>rows_with_missing <span class="op">=</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">"Berkeley"</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>rows_with_missing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Store Number                Store Name  ... Longitude Latitude
153      5406-945  2224 Shattuck - Berkeley  ...       NaN      NaN
154       570-512                Solano Ave  ...       NaN      NaN
155  17877-164526   Safeway - Berkeley #691  ...       NaN      NaN
156  19864-202264         Telegraph &amp; Ashby  ...       NaN      NaN
157     9217-9253           2128 Oxford St.  ...       NaN      NaN

[5 rows x 6 columns]</code></pre>
</div>
</div>
<p>Use the code cell below to fill in these values with the Nominatim geocoder.</p>
<p>Note that in the tutorial, we used Nominatim() (from geopy.geocoders) to geocode values, and this is what you can use in your own projects outside of this course.</p>
<p>In this exercise, you will use a slightly different function Nominatim() (from learntools.geospatial.tools). This function was imported at the top of the notebook and works identically to the function from GeoPandas.</p>
<p>So, in other words, as long as:</p>
<p>you don’t change the import statements at the top of the notebook, and you call the geocoding function as geocode() in the code cell below, your code will work as intended!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>berkeley_locations <span class="op">=</span> rows_with_missing.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Address'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>starbucks.update(berkeley_locations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="view-berkeley-locations" class="level3">
<h3 class="anchored" data-anchor-id="view-berkeley-locations">View Berkeley locations</h3>
<p>Let’s take a look at the locations you just found. Visualize the (latitude, longitude) locations in Berkeley in the OpenStreetMap style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>m_2 <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="fl">37.88</span>,<span class="op">-</span><span class="fl">122.26</span>], zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a marker for each Berkeley location</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">'Berkeley'</span>].iterrows():</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]]).add_to(m_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x0000018A6D437150&gt;
&lt;folium.map.Marker object at 0x0000018A6D5E0E50&gt;
&lt;folium.map.Marker object at 0x0000018A6E80B3D0&gt;
&lt;folium.map.Marker object at 0x0000018A6D437ED0&gt;
&lt;folium.map.Marker object at 0x0000018A6D434A50&gt;</code></pre>
</div>
</div>
</section>
<section id="consolidate-your-data" class="level3">
<h3 class="anchored" data-anchor-id="consolidate-your-data">Consolidate your data</h3>
<p>Run the code below to load a GeoDataFrame CA_counties containing the name, area (in square kilometers), and a unique id (in the “GEOID” column) for each county in the state of California. The “geometry” column contains a polygon with county boundaries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>CA_counties <span class="op">=</span> gpd.read_file(<span class="st">"C:/archive/CA_county_boundaries/CA_county_boundaries/CA_county_boundaries.shp"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>CA_counties.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>CA_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   GEOID  ...                                           geometry
0   6091  ...  POLYGON ((-120.65560 39.69357, -120.65554 39.6...
1   6067  ...  POLYGON ((-121.18858 38.71431, -121.18732 38.7...
2   6083  ...  MULTIPOLYGON (((-120.58191 34.09856, -120.5822...
3   6009  ...  POLYGON ((-120.63095 38.34111, -120.63058 38.3...
4   6111  ...  MULTIPOLYGON (((-119.63631 33.27304, -119.6360...

[5 rows x 4 columns]</code></pre>
</div>
</div>
<p>Next, we create three DataFrames:</p>
<ul>
<li><p><code>CA_pop</code> contains an estimate of the population of each county.</p></li>
<li><p><code>CA_high_earners</code> contains the number of households with an income of at least $150,000 per year.</p></li>
<li><p><code>CA_median_age</code> contains the median age for each county.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>CA_pop <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_population.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>CA_high_earners <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_high_earners.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>CA_median_age <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_median_age.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use the next code cell to join the <code>CA_counties</code> GeoDataFrame with <code>CA_pop</code>, <code>CA_high_earners</code>, and <code>CA_median_age</code>.</p>
<p>Name the resultant GeoDataFrame <code>CA_stats</code>, and make sure it has 8 columns: “GEOID”, “name”, “area_sqkm”, “geometry”, “population”, “high_earners”, and “median_age”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cols_to_add <span class="op">=</span> CA_pop.join([CA_high_earners, CA_median_age]).reset_index()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>CA_stats <span class="op">=</span> CA_counties.merge(cols_to_add, on<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>CA_stats[<span class="st">"density"</span>] <span class="op">=</span> CA_stats[<span class="st">"population"</span>] <span class="op">/</span> CA_stats[<span class="st">"area_sqkm"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="which-counties-look-promising" class="level3">
<h3 class="anchored" data-anchor-id="which-counties-look-promising">Which counties look promising?</h3>
<p>Collapsing all of the information into a single GeoDataFrame also makes it much easier to select counties that meet specific criteria.</p>
<p>Use the next code cell to create a GeoDataFrame <code>sel_counties</code> that contains a subset of the rows (and all of the columns) from the <code>CA_stats</code> GeoDataFrame. In particular, you should select counties where:</p>
<ul>
<li><p>there are at least 100,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 38.5, and</p></li>
<li><p>the density of inhabitants is at least 285 (per square kilometer).</p></li>
</ul>
<p>Additionally, selected counties should satisfy at least one of the following criteria:</p>
<ul>
<li><p>there are at least 500,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 35.5, or</p></li>
<li><p>the density of inhabitants is at least 1400 (per square kilometer).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sel_counties <span class="op">=</span> CA_stats[((CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">100000</span>) <span class="op">&amp;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.median_age <span class="op">&lt;</span> <span class="fl">38.5</span>) <span class="op">&amp;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">285</span>) <span class="op">&amp;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                         ((CA_stats.median_age <span class="op">&lt;</span> <span class="fl">35.5</span>) <span class="op">|</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">1400</span>) <span class="op">|</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">500000</span>)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-stores-did-you-identify" class="level3">
<h3 class="anchored" data-anchor-id="how-many-stores-did-you-identify">How many stores did you identify?</h3>
<p>When looking for the next Starbucks Reserve Roastery location, you’d like to consider all of the stores within the counties that you selected. So, how many stores are within the selected counties?</p>
<p>To prepare to answer this question, run the next code cell to create a GeoDataFrame <code>starbucks_gdf</code> with all of the starbucks locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>starbucks_gdf <span class="op">=</span> gpd.GeoDataFrame(starbucks, geometry<span class="op">=</span>gpd.points_from_xy(starbucks.Longitude, starbucks.Latitude))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>starbucks_gdf.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co">#num_stores = len(locations_of_interest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-the-store-locations." class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-store-locations.">Visualize the store locations.</h3>
<p>Create a map that shows the locations of the stores that you identified in the previous question.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6 = folium.Map(location=[37,-120], zoom_start=6)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mc = MarkerCluster()</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for idx, row in locations_of_interest.iterrows():</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    if not math.isnan(row['Longitude']) and not math.isnan(row['Latitude']):</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#        mc.add_child(folium.Marker([row['Latitude'], row['Longitude']]))</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6.add_child(mc)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
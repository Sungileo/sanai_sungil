<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungil Park">
<meta name="dcterms.date" content="2023-04-24">
<meta name="description" content="Kaggle Geospatial Analysis (4/5)">

<title>Sungil_Park - Manipulating Geospatial Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sungil_Park</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../projects.html">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kaggle_geo.html">
 <span class="menu-text">Geospatial Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../recordings.html">
 <span class="menu-text">Recordings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contact" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Contact</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contact">    
        <li>
    <a class="dropdown-item" href="https://github.com/Sungileo"><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">Github</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://kr.linkedin.com/in/sungilfromcheonankorea"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">Linkedin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.instagram.com/da_real_sungil"><i class="bi bi-instagram" role="img">
</i> 
 <span class="dropdown-text">Instagram</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#table-joins" id="toc-table-joins" class="nav-link" data-scroll-target="#table-joins">Table joins</a>
  <ul class="collapse">
  <li><a href="#attribute-join" id="toc-attribute-join" class="nav-link" data-scroll-target="#attribute-join">Attribute join</a></li>
  </ul></li>
  <li><a href="#spatial-join" id="toc-spatial-join" class="nav-link" data-scroll-target="#spatial-join">Spatial join</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#geocode-the-missing-locations." id="toc-geocode-the-missing-locations." class="nav-link" data-scroll-target="#geocode-the-missing-locations.">Geocode the missing locations.</a></li>
  <li><a href="#view-berkeley-locations" id="toc-view-berkeley-locations" class="nav-link" data-scroll-target="#view-berkeley-locations">View Berkeley locations</a></li>
  <li><a href="#consolidate-your-data" id="toc-consolidate-your-data" class="nav-link" data-scroll-target="#consolidate-your-data">Consolidate your data</a></li>
  <li><a href="#which-counties-look-promising" id="toc-which-counties-look-promising" class="nav-link" data-scroll-target="#which-counties-look-promising">Which counties look promising?</a></li>
  <li><a href="#how-many-stores-did-you-identify" id="toc-how-many-stores-did-you-identify" class="nav-link" data-scroll-target="#how-many-stores-did-you-identify">How many stores did you identify?</a></li>
  <li><a href="#visualize-the-store-locations." id="toc-visualize-the-store-locations." class="nav-link" data-scroll-target="#visualize-the-store-locations.">Visualize the store locations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manipulating Geospatial Data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Kaggle tutorial</div>
  </div>
  </div>

<div>
  <div class="description">
    Kaggle Geospatial Analysis (4/5)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungil Park </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">

</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>이 튜토리얼에서는 Geocoding과 Table join이라는 두 가지 지리적 공간 데이터에 대한 일반적인 조작에 대해 알아봅니다.</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>지오코딩은 장소 이름이나 주소를 지도상의 위치로 변환하는 프로세스입니다. 예를 들어 Google 지도, Bing 지도 등에서 랜드마크 설명을 기반으로 지리적 위치를 찾아본 적이 있다면 지오코딩을 사용해 본 적이 있을 것입니다</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>C:\Users\sungi\PYTHON~1\Lib\site-packages\geopandas\_compat.py:123: UserWarning: The Shapely GEOS version (3.10.1-CAPI-1.16.0) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.
  warnings.warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium <span class="im">import</span> Marker</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 코드 셀에서 <code>Nominatim</code>은 위치를 생성하는 데 사용되는 지오코딩 소프트웨어를 나타냅니다.</p>
<p>지오코더를 인스턴스화하는 것으로 시작합니다. 그런 다음 이름이나 주소를 Python 문자열로 적용하기만 하면 됩니다. (이 경우, 기자의 대피라미드라고도 알려진 “쿠푸의 피라미드”를 제공합니다.)</p>
<p>지오코딩이 성공하면 두 가지 중요한 속성이 있는 geopy.location.Location 객체를 반환합니다:</p>
<ul>
<li><p><code>point</code> 속성에는 (위도, 경도) 위치가 포함되고</p></li>
<li><p><code>address</code> 속성은 전체 주소를 포함합니다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>location <span class="op">=</span> geolocator.geocode(<span class="st">"Pyramid of Khufu"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>29 58m 44.976s N, 31 8m 3.17625s E</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>هرم خوفو, شارع ابو الهول السياحي, نزلة البطران, الجيزة, 12125, مصر</code></pre>
</div>
</div>
<p><code>point</code> 속성의 값은 <code>geopy.point.Point</code> 객체이며, <code>latitude</code> 및 <code>longitude</code> 속성에서 각각 위도와 경도를 가져올 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> location.point</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Latitude:"</span>, point.latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Latitude: 29.97916</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Longitude:"</span>, point.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Longitude: 31.134215625236113</code></pre>
</div>
</div>
<p>다양한 주소를 지오코딩해야 하는 경우가 종종 있습니다. 예를 들어 유럽에 있는 상위 100개 대학의 위치를 파악하고 싶다고 가정해 보겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/top_universities.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name
0     University of Oxford
1  University of Cambridge
2  Imperial College London
3               ETH Zurich
4                      UCL</code></pre>
</div>
</div>
<p>그런 다음 람다 함수를 사용하여 데이터 프레임의 모든 행에 지오코딩을 적용할 수 있습니다.</p>
<p>(지오코딩이 실패할 경우를 대비하여 try/except 문을 사용합니다.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>universities[[<span class="st">'Latitude'</span>, <span class="st">'Longitude'</span>]] <span class="op">=</span> universities.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Name'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}% o</span><span class="st">f addresses were geocoded!"</span>.<span class="bu">format</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(np.isnan(universities[<span class="st">"Latitude"</span>])) <span class="op">/</span> <span class="bu">len</span>(universities)) <span class="op">*</span> <span class="dv">100</span>))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop universities that were not successfully geocoded</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>91.0% of addresses were geocoded!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> universities.loc[<span class="op">~</span>np.isnan(universities[<span class="st">"Latitude"</span>])]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    universities, geometry<span class="op">=</span>gpd.points_from_xy(universities.Longitude, universities.Latitude))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>universities.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name   Latitude  Longitude                   geometry
0     University of Oxford  51.759037  -1.252430  POINT (-1.25243 51.75904)
1  University of Cambridge  52.200623   0.110474   POINT (0.11047 52.20062)
2  Imperial College London  51.498959  -0.175641  POINT (-0.17564 51.49896)
3               ETH Zurich  47.562772   7.580947   POINT (7.58095 47.56277)
4                      UCL  51.521785  -0.135151  POINT (-0.13515 51.52179)</code></pre>
</div>
</div>
<p>다음으로 지오코더가 반환한 모든 위치를 시각화합니다. 일부 위치는 유럽이 아니기 때문에 확실히 부정확하다는 것을 알 수 있습니다!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a map</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="dv">54</span>, <span class="dv">15</span>], tiles<span class="op">=</span><span class="st">'openstreetmap'</span>, zoom_start<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> universities.iterrows():</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]], popup<span class="op">=</span>row[<span class="st">'Name'</span>]).add_to(m)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x00000204CA96A790&gt;
&lt;folium.map.Marker object at 0x00000204D1AD8A10&gt;
&lt;folium.map.Marker object at 0x00000204D1AD8150&gt;
&lt;folium.map.Marker object at 0x00000204CA986F10&gt;
&lt;folium.map.Marker object at 0x00000204D1AB9C90&gt;
&lt;folium.map.Marker object at 0x00000204D1AE0C90&gt;
&lt;folium.map.Marker object at 0x00000204C9C52350&gt;
&lt;folium.map.Marker object at 0x00000204D1AE1390&gt;
&lt;folium.map.Marker object at 0x00000204D1AE16D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AE1A50&gt;
&lt;folium.map.Marker object at 0x00000204D1AE1DD0&gt;
&lt;folium.map.Marker object at 0x00000204D1AE20D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AE23D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AE2710&gt;
&lt;folium.map.Marker object at 0x00000204D1AE2A10&gt;
&lt;folium.map.Marker object at 0x00000204D1AE2D10&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3010&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3350&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3650&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3950&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3C50&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3F50&gt;
&lt;folium.map.Marker object at 0x00000204D1AE3F10&gt;
&lt;folium.map.Marker object at 0x00000204D1AF0590&gt;
&lt;folium.map.Marker object at 0x00000204D1AF08D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AF0BD0&gt;
&lt;folium.map.Marker object at 0x00000204D1AF0ED0&gt;
&lt;folium.map.Marker object at 0x00000204D1AF11D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AF14D0&gt;
&lt;folium.map.Marker object at 0x00000204D1AF1810&gt;
&lt;folium.map.Marker object at 0x00000204D1AF1B10&gt;
&lt;folium.map.Marker object at 0x00000204D1AF1E10&gt;
&lt;folium.map.Marker object at 0x00000204D1AF2150&gt;
&lt;folium.map.Marker object at 0x00000204D1AF2450&gt;
&lt;folium.map.Marker object at 0x00000204D1AF2750&gt;
&lt;folium.map.Marker object at 0x00000204D1AF2A50&gt;
&lt;folium.map.Marker object at 0x00000204D1AF2D50&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3050&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3350&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3650&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3950&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3C50&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3F50&gt;
&lt;folium.map.Marker object at 0x00000204D1AF3F10&gt;
&lt;folium.map.Marker object at 0x00000204D1B00590&gt;
&lt;folium.map.Marker object at 0x00000204D1B00890&gt;
&lt;folium.map.Marker object at 0x00000204D1B00C50&gt;
&lt;folium.map.Marker object at 0x00000204D1B00FD0&gt;
&lt;folium.map.Marker object at 0x00000204D1B01350&gt;
&lt;folium.map.Marker object at 0x00000204D1B016D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B01A90&gt;
&lt;folium.map.Marker object at 0x00000204D1B01E50&gt;
&lt;folium.map.Marker object at 0x00000204D1B01E10&gt;
&lt;folium.map.Marker object at 0x00000204D1B02550&gt;
&lt;folium.map.Marker object at 0x00000204D1B028D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B02C90&gt;
&lt;folium.map.Marker object at 0x00000204D1B03010&gt;
&lt;folium.map.Marker object at 0x00000204D1B03390&gt;
&lt;folium.map.Marker object at 0x00000204D1B03710&gt;
&lt;folium.map.Marker object at 0x00000204D1B03AD0&gt;
&lt;folium.map.Marker object at 0x00000204D1B03E90&gt;
&lt;folium.map.Marker object at 0x00000204D1B03F10&gt;
&lt;folium.map.Marker object at 0x00000204D1B14650&gt;
&lt;folium.map.Marker object at 0x00000204D1B149D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B14D50&gt;
&lt;folium.map.Marker object at 0x00000204D1B150D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B15450&gt;
&lt;folium.map.Marker object at 0x00000204D1B15810&gt;
&lt;folium.map.Marker object at 0x00000204D1B15B90&gt;
&lt;folium.map.Marker object at 0x00000204D1B15F50&gt;
&lt;folium.map.Marker object at 0x00000204D1B16310&gt;
&lt;folium.map.Marker object at 0x00000204D1B16650&gt;
&lt;folium.map.Marker object at 0x00000204D1B16150&gt;
&lt;folium.map.Marker object at 0x00000204D1B16D90&gt;
&lt;folium.map.Marker object at 0x00000204D1B17150&gt;
&lt;folium.map.Marker object at 0x00000204D1B17510&gt;
&lt;folium.map.Marker object at 0x00000204D1B17850&gt;
&lt;folium.map.Marker object at 0x00000204D1B17BD0&gt;
&lt;folium.map.Marker object at 0x00000204D1B17F90&gt;
&lt;folium.map.Marker object at 0x00000204D1B17FD0&gt;
&lt;folium.map.Marker object at 0x00000204D1B24710&gt;
&lt;folium.map.Marker object at 0x00000204D1B24AD0&gt;
&lt;folium.map.Marker object at 0x00000204D1B24E50&gt;
&lt;folium.map.Marker object at 0x00000204D1B25210&gt;
&lt;folium.map.Marker object at 0x00000204D1B25590&gt;
&lt;folium.map.Marker object at 0x00000204D1B25950&gt;
&lt;folium.map.Marker object at 0x00000204D1B25D10&gt;
&lt;folium.map.Marker object at 0x00000204D1B26090&gt;
&lt;folium.map.Marker object at 0x00000204D1B26450&gt;
&lt;folium.map.Marker object at 0x00000204D1B267D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B26B50&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_6665a2f1025885576c4aa1e8ed80580b {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_6665a2f1025885576c4aa1e8ed80580b&quot; ></div>
        
</body>
<script>
    
    
            var map_6665a2f1025885576c4aa1e8ed80580b = L.map(
                &quot;map_6665a2f1025885576c4aa1e8ed80580b&quot;,
                {
                    center: [54.0, 15.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 2,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_76a2da080bef435fcecf50fb8b31d9a6 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
            var marker_b289a9a119dd07e6a68c1ef987adc099 = L.marker(
                [51.7590373, -1.2524298],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_4f19d2d1d9eb580c2cb3de6cd1d82568 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7dbcb28b8ced86b4bed674e27c5e15d9 = $(`<div id=&quot;html_7dbcb28b8ced86b4bed674e27c5e15d9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oxford</div>`)[0];
                popup_4f19d2d1d9eb580c2cb3de6cd1d82568.setContent(html_7dbcb28b8ced86b4bed674e27c5e15d9);
            
        

        marker_b289a9a119dd07e6a68c1ef987adc099.bindPopup(popup_4f19d2d1d9eb580c2cb3de6cd1d82568)
        ;

        
    
    
            var marker_e4313609e43a9bd1b68f5d12fa8ea3ed = L.marker(
                [52.2006233, 0.1104744],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_a76837f643e726e8187c56dae91d0284 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5a21fb3652f826f2a2ef131972c2264b = $(`<div id=&quot;html_5a21fb3652f826f2a2ef131972c2264b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cambridge</div>`)[0];
                popup_a76837f643e726e8187c56dae91d0284.setContent(html_5a21fb3652f826f2a2ef131972c2264b);
            
        

        marker_e4313609e43a9bd1b68f5d12fa8ea3ed.bindPopup(popup_a76837f643e726e8187c56dae91d0284)
        ;

        
    
    
            var marker_7468a8c72cf80393cbd4420b0796d351 = L.marker(
                [51.4989595, -0.17564069276310426],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_e36b572c0e01544b46f2a11a172fd4e4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_22cf9806287688a971f49a5fbbbf2eea = $(`<div id=&quot;html_22cf9806287688a971f49a5fbbbf2eea&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Imperial College London</div>`)[0];
                popup_e36b572c0e01544b46f2a11a172fd4e4.setContent(html_22cf9806287688a971f49a5fbbbf2eea);
            
        

        marker_7468a8c72cf80393cbd4420b0796d351.bindPopup(popup_e36b572c0e01544b46f2a11a172fd4e4)
        ;

        
    
    
            var marker_d7eeb869d9f4ef6f1b009a105ded519a = L.marker(
                [47.56277165, 7.580947334069263],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_845c19bd8ee26be0e631e8e99148b96f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5161cff9b04bb65c18faf4375b24bf75 = $(`<div id=&quot;html_5161cff9b04bb65c18faf4375b24bf75&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>ETH Zurich</div>`)[0];
                popup_845c19bd8ee26be0e631e8e99148b96f.setContent(html_5161cff9b04bb65c18faf4375b24bf75);
            
        

        marker_d7eeb869d9f4ef6f1b009a105ded519a.bindPopup(popup_845c19bd8ee26be0e631e8e99148b96f)
        ;

        
    
    
            var marker_e4d04f5f205a1ccc76d5766b05af3c06 = L.marker(
                [51.5217852, -0.13515149671251314],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_40ae1d543e87b08adce794caf9470186 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5b9073859e47d6dde550bc36ee4e828f = $(`<div id=&quot;html_5b9073859e47d6dde550bc36ee4e828f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>UCL</div>`)[0];
                popup_40ae1d543e87b08adce794caf9470186.setContent(html_5b9073859e47d6dde550bc36ee4e828f);
            
        

        marker_e4d04f5f205a1ccc76d5766b05af3c06.bindPopup(popup_40ae1d543e87b08adce794caf9470186)
        ;

        
    
    
            var marker_7bacbf595f3acc3e2277f89269209f94 = L.marker(
                [51.51421115, -0.11680813159099895],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_8dc050eaa86454cdbdfc84ea12ceacf2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f5d0aefa284c09c4339f83a0f69a7a7a = $(`<div id=&quot;html_f5d0aefa284c09c4339f83a0f69a7a7a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>London School of Economics and Political Science</div>`)[0];
                popup_8dc050eaa86454cdbdfc84ea12ceacf2.setContent(html_f5d0aefa284c09c4339f83a0f69a7a7a);
            
        

        marker_7bacbf595f3acc3e2277f89269209f94.bindPopup(popup_8dc050eaa86454cdbdfc84ea12ceacf2)
        ;

        
    
    
            var marker_483aaf181797af0aa40b30a0c1b5966d = L.marker(
                [55.94407645, -3.1883735563964555],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_077c0ad303d31882c006e142936cce9f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e19051c5e9b6da1ba97fe9bf8250a9e8 = $(`<div id=&quot;html_e19051c5e9b6da1ba97fe9bf8250a9e8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Edinburgh</div>`)[0];
                popup_077c0ad303d31882c006e142936cce9f.setContent(html_e19051c5e9b6da1ba97fe9bf8250a9e8);
            
        

        marker_483aaf181797af0aa40b30a0c1b5966d.bindPopup(popup_077c0ad303d31882c006e142936cce9f)
        ;

        
    
    
            var marker_a950bab5b0c1062801355ee4953a8586 = L.marker(
                [48.14701435, 11.575919303007243],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_0fce71a5004014d88114b13cbc936cdf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1c8225ce8a8614b36ea5bbcbc3008d7d = $(`<div id=&quot;html_1c8225ce8a8614b36ea5bbcbc3008d7d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>LMU Munich</div>`)[0];
                popup_0fce71a5004014d88114b13cbc936cdf.setContent(html_1c8225ce8a8614b36ea5bbcbc3008d7d);
            
        

        marker_a950bab5b0c1062801355ee4953a8586.bindPopup(popup_0fce71a5004014d88114b13cbc936cdf)
        ;

        
    
    
            var marker_65aaeff5a566658e69e4e6df250bee1a = L.marker(
                [46.518659400000004, 6.566561505148001],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_c47db8d1c85e4461b2fe324effa0f173 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3f0bbfcdce19207428408e5571a55ccc = $(`<div id=&quot;html_3f0bbfcdce19207428408e5571a55ccc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique Fédérale de Lausanne</div>`)[0];
                popup_c47db8d1c85e4461b2fe324effa0f173.setContent(html_3f0bbfcdce19207428408e5571a55ccc);
            
        

        marker_65aaeff5a566658e69e4e6df250bee1a.bindPopup(popup_c47db8d1c85e4461b2fe324effa0f173)
        ;

        
    
    
            var marker_135fd4e446a5721e24882ad7e42ebbbc = L.marker(
                [51.5060001, -0.1121582948025203],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_44a4bc22ffffddd0c005ba7a52dca5e7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fb3769b884630e95584176a3b928e06d = $(`<div id=&quot;html_fb3769b884630e95584176a3b928e06d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>King’s College London</div>`)[0];
                popup_44a4bc22ffffddd0c005ba7a52dca5e7.setContent(html_fb3769b884630e95584176a3b928e06d);
            
        

        marker_135fd4e446a5721e24882ad7e42ebbbc.bindPopup(popup_44a4bc22ffffddd0c005ba7a52dca5e7)
        ;

        
    
    
            var marker_973255552abfc432a0bd79b1c71a70a5 = L.marker(
                [59.219549549999996, 17.94005487275674],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2a3cc606188eccfef98693c0a5052092 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_32e742e154a800b3596ceb612fc2b5d3 = $(`<div id=&quot;html_32e742e154a800b3596ceb612fc2b5d3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karolinska Institute</div>`)[0];
                popup_2a3cc606188eccfef98693c0a5052092.setContent(html_32e742e154a800b3596ceb612fc2b5d3);
            
        

        marker_973255552abfc432a0bd79b1c71a70a5.bindPopup(popup_2a3cc606188eccfef98693c0a5052092)
        ;

        
    
    
            var marker_38412fcd4323eb36b3ce49c68749de31 = L.marker(
                [1.3078539, 103.7776795],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_518cc6d517670e9a572ae1c946121142 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6e885f1de37ed6cf7f3903fec861e33a = $(`<div id=&quot;html_6e885f1de37ed6cf7f3903fec861e33a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Munich</div>`)[0];
                popup_518cc6d517670e9a572ae1c946121142.setContent(html_6e885f1de37ed6cf7f3903fec861e33a);
            
        

        marker_38412fcd4323eb36b3ce49c68749de31.bindPopup(popup_518cc6d517670e9a572ae1c946121142)
        ;

        
    
    
            var marker_d7ef387e0079101f33225ac97e9e577a = L.marker(
                [41.11442525, -83.16686666639325],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_9d0040e2870554fae864d58a5cfad524 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_223f56ae701e33bceba46f7353cc8613 = $(`<div id=&quot;html_223f56ae701e33bceba46f7353cc8613&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Heidelberg University</div>`)[0];
                popup_9d0040e2870554fae864d58a5cfad524.setContent(html_223f56ae701e33bceba46f7353cc8613);
            
        

        marker_d7ef387e0079101f33225ac97e9e577a.bindPopup(popup_9d0040e2870554fae864d58a5cfad524)
        ;

        
    
    
            var marker_e5841c4f94764b09a02f9388649f1dc0 = L.marker(
                [50.80571285, 3.2915374489139757],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_7b9828350f4c64b6c16af5096b10d3cc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5139a9a346fb35811d3c4804dff482e9 = $(`<div id=&quot;html_5139a9a346fb35811d3c4804dff482e9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KU Leuven</div>`)[0];
                popup_7b9828350f4c64b6c16af5096b10d3cc.setContent(html_5139a9a346fb35811d3c4804dff482e9);
            
        

        marker_e5841c4f94764b09a02f9388649f1dc0.bindPopup(popup_7b9828350f4c64b6c16af5096b10d3cc)
        ;

        
    
    
            var marker_18351c1e4f3a8ea0c2292c7dff39baab = L.marker(
                [53.4657087, -2.232734319907597],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_667a34d5c5d3ca6e59203f4216653d3d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bb1c85d8b8c6e637e32533bc0a799690 = $(`<div id=&quot;html_bb1c85d8b8c6e637e32533bc0a799690&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Manchester</div>`)[0];
                popup_667a34d5c5d3ca6e59203f4216653d3d.setContent(html_bb1c85d8b8c6e637e32533bc0a799690);
            
        

        marker_18351c1e4f3a8ea0c2292c7dff39baab.bindPopup(popup_667a34d5c5d3ca6e59203f4216653d3d)
        ;

        
    
    
            var marker_fb7d4e4bf616c8691e97e6e35e11e2e2 = L.marker(
                [51.99882735, 4.373960368154041],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_08e24ccb43a13a494b3c0080a204f639 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ed9cec265407044aeff1cf637f28cfd7 = $(`<div id=&quot;html_ed9cec265407044aeff1cf637f28cfd7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Delft University of Technology</div>`)[0];
                popup_08e24ccb43a13a494b3c0080a204f639.setContent(html_ed9cec265407044aeff1cf637f28cfd7);
            
        

        marker_fb7d4e4bf616c8691e97e6e35e11e2e2.bindPopup(popup_08e24ccb43a13a494b3c0080a204f639)
        ;

        
    
    
            var marker_c3807740fb122e1170654e53898db4de = L.marker(
                [51.98544495, 5.663212001137484],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_4f91b39da57e633cbf749be77f483b2c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e12c8b67351385d379c5a19553b1aba9 = $(`<div id=&quot;html_e12c8b67351385d379c5a19553b1aba9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Wageningen University &amp; Research</div>`)[0];
                popup_4f91b39da57e633cbf749be77f483b2c.setContent(html_e12c8b67351385d379c5a19553b1aba9);
            
        

        marker_c3807740fb122e1170654e53898db4de.bindPopup(popup_4f91b39da57e633cbf749be77f483b2c)
        ;

        
    
    
            var marker_53c0ca39e6b1730d034df4ff98147379 = L.marker(
                [52.36813335, 4.889804155733945],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_ae8ef5bbc3bb00caa2203466fa67d188 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2d22aea7744ec814c6a71eecc07ac2ae = $(`<div id=&quot;html_2d22aea7744ec814c6a71eecc07ac2ae&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Amsterdam</div>`)[0];
                popup_ae8ef5bbc3bb00caa2203466fa67d188.setContent(html_2d22aea7744ec814c6a71eecc07ac2ae);
            
        

        marker_53c0ca39e6b1730d034df4ff98147379.bindPopup(popup_ae8ef5bbc3bb00caa2203466fa67d188)
        ;

        
    
    
            var marker_ab03889b8aca9eff53b08845599d3079 = L.marker(
                [52.5185813, 13.39287842853558],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_cd36654abd8b1a262eef492a88f16afc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_91f44fea37a2343f7a642a5424d35261 = $(`<div id=&quot;html_91f44fea37a2343f7a642a5424d35261&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Humboldt University of Berlin</div>`)[0];
                popup_cd36654abd8b1a262eef492a88f16afc.setContent(html_91f44fea37a2343f7a642a5424d35261);
            
        

        marker_ab03889b8aca9eff53b08845599d3079.bindPopup(popup_cd36654abd8b1a262eef492a88f16afc)
        ;

        
    
    
            var marker_e72a47250320d58c0edd09dc5d5aa0fc = L.marker(
                [52.168633850000006, 4.45966305742133],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2cc8b725e8a09b6c97dae9d2d81387e1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b5c7cafa94c379bfa8d220faec70dc49 = $(`<div id=&quot;html_b5c7cafa94c379bfa8d220faec70dc49&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Leiden University</div>`)[0];
                popup_2cc8b725e8a09b6c97dae9d2d81387e1.setContent(html_b5c7cafa94c379bfa8d220faec70dc49);
            
        

        marker_e72a47250320d58c0edd09dc5d5aa0fc.bindPopup(popup_2cc8b725e8a09b6c97dae9d2d81387e1)
        ;

        
    
    
            var marker_762daa9c03821e4235a85caf7904e661 = L.marker(
                [51.9229171, 4.487612362865811],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_b197709cc676de6973d73a69e0dea5ae = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bd46a418932e2dc1f0c2d9a988fce104 = $(`<div id=&quot;html_bd46a418932e2dc1f0c2d9a988fce104&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Erasmus University Rotterdam</div>`)[0];
                popup_b197709cc676de6973d73a69e0dea5ae.setContent(html_bd46a418932e2dc1f0c2d9a988fce104);
            
        

        marker_762daa9c03821e4235a85caf7904e661.bindPopup(popup_b197709cc676de6973d73a69e0dea5ae)
        ;

        
    
    
            var marker_7e3be4349272d88912016410d026733b = L.marker(
                [48.846899699999994, 2.357448653115875],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2b1ac3024bed12d3cfcc703902502408 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fc440424b1e834489b97c3683d6805aa = $(`<div id=&quot;html_fc440424b1e834489b97c3683d6805aa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sorbonne University</div>`)[0];
                popup_2b1ac3024bed12d3cfcc703902502408.setContent(html_fc440424b1e834489b97c3683d6805aa);
            
        

        marker_7e3be4349272d88912016410d026733b.bindPopup(popup_2b1ac3024bed12d3cfcc703902502408)
        ;

        
    
    
            var marker_8c49f6b0f4fcbbf9d11afe35cc455e3c = L.marker(
                [52.08340265, 5.148315067762755],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2fdebb53ecec68dee000f92a78566145 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_09f08f4376bf929680ce32547a82d4d4 = $(`<div id=&quot;html_09f08f4376bf929680ce32547a82d4d4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Utrecht University</div>`)[0];
                popup_2fdebb53ecec68dee000f92a78566145.setContent(html_09f08f4376bf929680ce32547a82d4d4);
            
        

        marker_8c49f6b0f4fcbbf9d11afe35cc455e3c.bindPopup(popup_2fdebb53ecec68dee000f92a78566145)
        ;

        
    
    
            var marker_704bcf20745250c438288433d55491fc = L.marker(
                [46.793058, 7.157106],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_3999ed59bf736919749513fb9b819fec = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_56e6037dec5c7ba69507cbc9402a10f5 = $(`<div id=&quot;html_56e6037dec5c7ba69507cbc9402a10f5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Freiburg</div>`)[0];
                popup_3999ed59bf736919749513fb9b819fec.setContent(html_56e6037dec5c7ba69507cbc9402a10f5);
            
        

        marker_704bcf20745250c438288433d55491fc.bindPopup(popup_3999ed59bf736919749513fb9b819fec)
        ;

        
    
    
            var marker_d8fa82207b4581c02a4f15af20f6c862 = L.marker(
                [51.457609649999995, -2.6016348983421755],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_14f25788e1afc35e099b3ceb2b21aa47 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cc3d162fb3a46b3f79ae5f458377b966 = $(`<div id=&quot;html_cc3d162fb3a46b3f79ae5f458377b966&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bristol</div>`)[0];
                popup_14f25788e1afc35e099b3ceb2b21aa47.setContent(html_cc3d162fb3a46b3f79ae5f458377b966);
            
        

        marker_d8fa82207b4581c02a4f15af20f6c862.bindPopup(popup_14f25788e1afc35e099b3ceb2b21aa47)
        ;

        
    
    
            var marker_d965532567ca2c05e028b4e27a72c734 = L.marker(
                [53.21967825, 6.562514810379012],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_01467ce72bb82bb898eb34ebcc339137 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_29ae954ecc507ca87f71197a76dc7794 = $(`<div id=&quot;html_29ae954ecc507ca87f71197a76dc7794&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Groningen</div>`)[0];
                popup_01467ce72bb82bb898eb34ebcc339137.setContent(html_29ae954ecc507ca87f71197a76dc7794);
            
        

        marker_d965532567ca2c05e028b4e27a72c734.bindPopup(popup_01467ce72bb82bb898eb34ebcc339137)
        ;

        
    
    
            var marker_e765b9241ccec055025611d276680a16 = L.marker(
                [52.3813073, -1.5639569481637439],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_23cf1997023733aac73e952816b444f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d9ca3cfbfa19027d281eece527beddfc = $(`<div id=&quot;html_d9ca3cfbfa19027d281eece527beddfc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Warwick</div>`)[0];
                popup_23cf1997023733aac73e952816b444f5.setContent(html_d9ca3cfbfa19027d281eece527beddfc);
            
        

        marker_e765b9241ccec055025611d276680a16.bindPopup(popup_23cf1997023733aac73e952816b444f5)
        ;

        
    
    
            var marker_007168bd7e3a897ed9567656a50b8336 = L.marker(
                [50.7791645, 6.068920971222876],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_ae9cc9c3e7f332c322eb87684aba3748 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_faf893239fa71a2cf6b7a9277d79329f = $(`<div id=&quot;html_faf893239fa71a2cf6b7a9277d79329f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>RWTH Aachen University</div>`)[0];
                popup_ae9cc9c3e7f332c322eb87684aba3748.setContent(html_faf893239fa71a2cf6b7a9277d79329f);
            
        

        marker_007168bd7e3a897ed9567656a50b8336.bindPopup(popup_ae9cc9c3e7f332c322eb87684aba3748)
        ;

        
    
    
            var marker_f8e68b127ead2302785ca1ee258f7397 = L.marker(
                [59.8617859, 17.6376705],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_7a5b26b8d533480e6123510afcd14ab8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_834e3066ec57e8933f9818b201fec26b = $(`<div id=&quot;html_834e3066ec57e8933f9818b201fec26b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Uppsala University</div>`)[0];
                popup_7a5b26b8d533480e6123510afcd14ab8.setContent(html_834e3066ec57e8933f9818b201fec26b);
            
        

        marker_f8e68b127ead2302785ca1ee258f7397.bindPopup(popup_7a5b26b8d533480e6123510afcd14ab8)
        ;

        
    
    
            var marker_4e0e7858163fa25d5622d1841c5162ae = L.marker(
                [48.53405945, 9.071244429234808],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_c37cfcc0a2b5e71f2fe4cf551ad2c01c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1636c0d23a63edd10f7857b8b11b3477 = $(`<div id=&quot;html_1636c0d23a63edd10f7857b8b11b3477&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Tübingen</div>`)[0];
                popup_c37cfcc0a2b5e71f2fe4cf551ad2c01c.setContent(html_1636c0d23a63edd10f7857b8b11b3477);
            
        

        marker_4e0e7858163fa25d5622d1841c5162ae.bindPopup(popup_c37cfcc0a2b5e71f2fe4cf551ad2c01c)
        ;

        
    
    
            var marker_cdfb22d802bbbf19822eb13e752e402a = L.marker(
                [52.5299885, 13.34866394036122],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_e5b5e428da2b9129cabe298f298870c7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_49e6899ce1ac42dcb82cef52290ffca5 = $(`<div id=&quot;html_49e6899ce1ac42dcb82cef52290ffca5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Charité - Universitätsmedizin Berlin</div>`)[0];
                popup_e5b5e428da2b9129cabe298f298870c7.setContent(html_49e6899ce1ac42dcb82cef52290ffca5);
            
        

        marker_cdfb22d802bbbf19822eb13e752e402a.bindPopup(popup_e5b5e428da2b9129cabe298f298870c7)
        ;

        
    
    
            var marker_bfff88e7e158c5202c5237e08e66d3f0 = L.marker(
                [47.49684345, 8.72980716809498],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_84e9e2240ab2babb22538adba15562f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9462e49f5ff04e9138bd389635d2a983 = $(`<div id=&quot;html_9462e49f5ff04e9138bd389635d2a983&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Zurich</div>`)[0];
                popup_84e9e2240ab2babb22538adba15562f5.setContent(html_9462e49f5ff04e9138bd389635d2a983);
            
        

        marker_bfff88e7e158c5202c5237e08e66d3f0.bindPopup(popup_84e9e2240ab2babb22538adba15562f5)
        ;

        
    
    
            var marker_c1b2325827fe5ef74b1725eff8dd4364 = L.marker(
                [55.872315349999994, -4.289219112981823],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_af736bac87d74856e022a6a432e13960 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_457815364fe6a4e6b1a1bbc31001d188 = $(`<div id=&quot;html_457815364fe6a4e6b1a1bbc31001d188&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Glasgow</div>`)[0];
                popup_af736bac87d74856e022a6a432e13960.setContent(html_457815364fe6a4e6b1a1bbc31001d188);
            
        

        marker_c1b2325827fe5ef74b1725eff8dd4364.bindPopup(popup_af736bac87d74856e022a6a432e13960)
        ;

        
    
    
            var marker_062c6aeaf94df8cbb0676863a4cb85d7 = L.marker(
                [58.163098500000004, 8.001442632957419],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_059becd6bb60bcaf01bb784e8c4442e4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8f5b5da2fd2ee9c760cca9970b1bd27a = $(`<div id=&quot;html_8f5b5da2fd2ee9c760cca9970b1bd27a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lund University</div>`)[0];
                popup_059becd6bb60bcaf01bb784e8c4442e4.setContent(html_8f5b5da2fd2ee9c760cca9970b1bd27a);
            
        

        marker_062c6aeaf94df8cbb0676863a4cb85d7.bindPopup(popup_059becd6bb60bcaf01bb784e8c4442e4)
        ;

        
    
    
            var marker_4a22aa95c4935dd2a3ccee623cc84881 = L.marker(
                [60.175648300000006, 24.953550020522073],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_7e7e76e5eecf7a412c1fc036fe366f0f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d1d8bb62107e0c61cef98362e5d46c0d = $(`<div id=&quot;html_d1d8bb62107e0c61cef98362e5d46c0d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Helsinki</div>`)[0];
                popup_7e7e76e5eecf7a412c1fc036fe366f0f.setContent(html_d1d8bb62107e0c61cef98362e5d46c0d);
            
        

        marker_4a22aa95c4935dd2a3ccee623cc84881.bindPopup(popup_7e7e76e5eecf7a412c1fc036fe366f0f)
        ;

        
    
    
            var marker_b57e7d55b1c539c16b04f3e7ab7e76d2 = L.marker(
                [47.56174235, 7.58285513707386],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_8b3982778d0461ebbe96af306962ff00 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f5e3282665f42c4ec9294ba83590989f = $(`<div id=&quot;html_f5e3282665f42c4ec9294ba83590989f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Basel</div>`)[0];
                popup_8b3982778d0461ebbe96af306962ff00.setContent(html_f5e3282665f42c4ec9294ba83590989f);
            
        

        marker_b57e7d55b1c539c16b04f3e7ab7e76d2.bindPopup(popup_8b3982778d0461ebbe96af306962ff00)
        ;

        
    
    
            var marker_06e4853099cdf77b60df3253b1ada524 = L.marker(
                [53.3815327, -1.4806602],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_72a77dc84b283d189651cb7ec15bef90 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8a6d79024cef076242ec193eb46f10a0 = $(`<div id=&quot;html_8a6d79024cef076242ec193eb46f10a0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sheffield</div>`)[0];
                popup_72a77dc84b283d189651cb7ec15bef90.setContent(html_8a6d79024cef076242ec193eb46f10a0);
            
        

        marker_06e4853099cdf77b60df3253b1ada524.bindPopup(popup_72a77dc84b283d189651cb7ec15bef90)
        ;

        
    
    
            var marker_eb8cab911e140ff10bf948545e702b46 = L.marker(
                [48.7127874, 2.2107453],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_bb5fe6dd762d0272e14259ece48d4d15 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8a415ceb9f25f62a00272ab076a5219b = $(`<div id=&quot;html_8a415ceb9f25f62a00272ab076a5219b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique</div>`)[0];
                popup_bb5fe6dd762d0272e14259ece48d4d15.setContent(html_8a415ceb9f25f62a00272ab076a5219b);
            
        

        marker_eb8cab911e140ff10bf948545e702b46.bindPopup(popup_bb5fe6dd762d0272e14259ece48d4d15)
        ;

        
    
    
            var marker_b85402a6bf990289897f25ad6c0461d9 = L.marker(
                [46.95097255, 7.438684130809055],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_da369b9122ccd16d64b01a0382199dfa = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a0a5ed1df0ce465d8718170f35929094 = $(`<div id=&quot;html_a0a5ed1df0ce465d8718170f35929094&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bern</div>`)[0];
                popup_da369b9122ccd16d64b01a0382199dfa.setContent(html_a0a5ed1df0ce465d8718170f35929094);
            
        

        marker_b85402a6bf990289897f25ad6c0461d9.bindPopup(popup_da369b9122ccd16d64b01a0382199dfa)
        ;

        
    
    
            var marker_bac24a7a10f9846500a1523b3ffa982e = L.marker(
                [50.7338124, 7.1022465],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_765931497836d5ee29c8806020efc59a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fe4b7bfa29f21be3f71b26a147161836 = $(`<div id=&quot;html_fe4b7bfa29f21be3f71b26a147161836&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bonn</div>`)[0];
                popup_765931497836d5ee29c8806020efc59a.setContent(html_fe4b7bfa29f21be3f71b26a147161836);
            
        

        marker_bac24a7a10f9846500a1523b3ffa982e.bindPopup(popup_765931497836d5ee29c8806020efc59a)
        ;

        
    
    
            var marker_6b2579125bf0cb00dec249a8def6ee89 = L.marker(
                [54.9027916, -1.392096],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_bb9f3a227ad42c9c4b0a7bc1b69307c5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_82b1cd15c8166346679adc8be72dde90 = $(`<div id=&quot;html_82b1cd15c8166346679adc8be72dde90&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Durham University</div>`)[0];
                popup_bb9f3a227ad42c9c4b0a7bc1b69307c5.setContent(html_82b1cd15c8166346679adc8be72dde90);
            
        

        marker_6b2579125bf0cb00dec249a8def6ee89.bindPopup(popup_bb9f3a227ad42c9c4b0a7bc1b69307c5)
        ;

        
    
    
            var marker_0b3e758b666536028bad74e827f199ba = L.marker(
                [52.4522956, -1.9312856726008194],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_30b42f52adca52bb72cc959d7d61250d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8c3d4a51e1ef360be027eb853603050f = $(`<div id=&quot;html_8c3d4a51e1ef360be027eb853603050f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Birmingham</div>`)[0];
                popup_30b42f52adca52bb72cc959d7d61250d.setContent(html_8c3d4a51e1ef360be027eb853603050f);
            
        

        marker_0b3e758b666536028bad74e827f199ba.bindPopup(popup_30b42f52adca52bb72cc959d7d61250d)
        ;

        
    
    
            var marker_d37d6b5d87dcd9f229de7584534d1f66 = L.marker(
                [55.6801502, 12.57232700140625],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_906b984c738de3ad83796538ae447dd7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a124bdf21d9b8d9bbd405ba72cf62de9 = $(`<div id=&quot;html_a124bdf21d9b8d9bbd405ba72cf62de9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Copenhagen</div>`)[0];
                popup_906b984c738de3ad83796538ae447dd7.setContent(html_a124bdf21d9b8d9bbd405ba72cf62de9);
            
        

        marker_d37d6b5d87dcd9f229de7584534d1f66.bindPopup(popup_906b984c738de3ad83796538ae447dd7)
        ;

        
    
    
            var marker_f6ecbc5e0e1c5bc38205a24c2091c60d = L.marker(
                [50.9354752, -1.3962847494297244],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_99f078653f7acfe676d934d0463baaf7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c409c29ca6b97d0b8ee025bf6badd86e = $(`<div id=&quot;html_c409c29ca6b97d0b8ee025bf6badd86e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Southampton</div>`)[0];
                popup_99f078653f7acfe676d934d0463baaf7.setContent(html_c409c29ca6b97d0b8ee025bf6badd86e);
            
        

        marker_f6ecbc5e0e1c5bc38205a24c2091c60d.bindPopup(popup_99f078653f7acfe676d934d0463baaf7)
        ;

        
    
    
            var marker_a79bca6c59941bacdf1eaa704b872604 = L.marker(
                [53.9453903, -1.0314592943104675],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_95d115ded4283d07aab1b6c80ed8f7d4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_91083b9370659b0f5891f9951348c116 = $(`<div id=&quot;html_91083b9370659b0f5891f9951348c116&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of York</div>`)[0];
                popup_95d115ded4283d07aab1b6c80ed8f7d4.setContent(html_91083b9370659b0f5891f9951348c116);
            
        

        marker_a79bca6c59941bacdf1eaa704b872604.bindPopup(popup_95d115ded4283d07aab1b6c80ed8f7d4)
        ;

        
    
    
            var marker_5c70462dab6714eba19b9ec95bc522d7 = L.marker(
                [53.34366745, -6.254444724511822],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2cea854467076f8054806896d8b88f11 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b7749de65ccc4422bcbd793d285d6a1f = $(`<div id=&quot;html_b7749de65ccc4422bcbd793d285d6a1f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Trinity College Dublin</div>`)[0];
                popup_2cea854467076f8054806896d8b88f11.setContent(html_b7749de65ccc4422bcbd793d285d6a1f);
            
        

        marker_5c70462dab6714eba19b9ec95bc522d7.bindPopup(popup_2cea854467076f8054806896d8b88f11)
        ;

        
    
    
            var marker_b02acf434d552a350e5c9646113d2129 = L.marker(
                [59.9414173, 10.722768340750914],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_3fb900d22cdeb1770dc2886089f1ba77 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ab7296aaf7253990fa4f04b0090627b3 = $(`<div id=&quot;html_ab7296aaf7253990fa4f04b0090627b3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oslo</div>`)[0];
                popup_3fb900d22cdeb1770dc2886089f1ba77.setContent(html_ab7296aaf7253990fa4f04b0090627b3);
            
        

        marker_b02acf434d552a350e5c9646113d2129.bindPopup(popup_3fb900d22cdeb1770dc2886089f1ba77)
        ;

        
    
    
            var marker_e721b8d6bc8a96d9025466265474afe3 = L.marker(
                [56.1670905, 10.202617693592895],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_5bef83ad76d6005539ce6f05be9e8de6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_25646512b748bc0ddff8a6f700de530b = $(`<div id=&quot;html_25646512b748bc0ddff8a6f700de530b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aarhus University</div>`)[0];
                popup_5bef83ad76d6005539ce6f05be9e8de6.setContent(html_25646512b748bc0ddff8a6f700de530b);
            
        

        marker_e721b8d6bc8a96d9025466265474afe3.bindPopup(popup_5bef83ad76d6005539ce6f05be9e8de6)
        ;

        
    
    
            var marker_ab60ce13d63d38ac36e8ca97c2862a1c = L.marker(
                [51.5411003, 9.948200846079496],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_8fa9f825c79ad5cde59f87347fa6dfbc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_04d0eb6d965f72bd0bf0b324d31cc3a0 = $(`<div id=&quot;html_04d0eb6d965f72bd0bf0b324d31cc3a0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Göttingen</div>`)[0];
                popup_8fa9f825c79ad5cde59f87347fa6dfbc.setContent(html_04d0eb6d965f72bd0bf0b324d31cc3a0);
            
        

        marker_ab60ce13d63d38ac36e8ca97c2862a1c.bindPopup(popup_8fa9f825c79ad5cde59f87347fa6dfbc)
        ;

        
    
    
            var marker_c735024d827953f468de7547a9ebfc7c = L.marker(
                [49.4699765, 8.4819024],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_ee17aa537dfb3f5c8de7eb84e61d731b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3221ff9e00c094b5da9326fbb75e8b9b = $(`<div id=&quot;html_3221ff9e00c094b5da9326fbb75e8b9b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Mannheim</div>`)[0];
                popup_ee17aa537dfb3f5c8de7eb84e61d731b.setContent(html_3221ff9e00c094b5da9326fbb75e8b9b);
            
        

        marker_c735024d827953f468de7547a9ebfc7c.bindPopup(popup_ee17aa537dfb3f5c8de7eb84e61d731b)
        ;

        
    
    
            var marker_a67de36f43fd64d30ac674ed1cfd475c = L.marker(
                [51.82151725, 5.863403442541042],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_35c1fa879f4ee6fede0599b7803d0b9e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c020bede81da0a4c240b0614bd69690e = $(`<div id=&quot;html_c020bede81da0a4c240b0614bd69690e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Radboud University Nijmegen</div>`)[0];
                popup_35c1fa879f4ee6fede0599b7803d0b9e.setContent(html_c020bede81da0a4c240b0614bd69690e);
            
        

        marker_a67de36f43fd64d30ac674ed1cfd475c.bindPopup(popup_35c1fa879f4ee6fede0599b7803d0b9e)
        ;

        
    
    
            var marker_f0af3fe2e5e92a6e40c31bdae7532ae3 = L.marker(
                [50.821259999999995, 4.349652894133002],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_0a724cbe5384a2c9602ac7866f6cdcdd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_aa501ff792709d82d4d79741c9a49866 = $(`<div id=&quot;html_aa501ff792709d82d4d79741c9a49866&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Université Catholique de Louvain</div>`)[0];
                popup_0a724cbe5384a2c9602ac7866f6cdcdd.setContent(html_aa501ff792709d82d4d79741c9a49866);
            
        

        marker_f0af3fe2e5e92a6e40c31bdae7532ae3.bindPopup(popup_0a724cbe5384a2c9602ac7866f6cdcdd)
        ;

        
    
    
            var marker_130007be338876f5e1a0b81feddae205 = L.marker(
                [50.84720265, 5.685941396293034],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_c371ce2da84af2bcd0cbb10ff024e01a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_864a7a239cd4e4444ba8ea923531ac32 = $(`<div id=&quot;html_864a7a239cd4e4444ba8ea923531ac32&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Maastricht University</div>`)[0];
                popup_c371ce2da84af2bcd0cbb10ff024e01a.setContent(html_864a7a239cd4e4444ba8ea923531ac32);
            
        

        marker_130007be338876f5e1a0b81feddae205.bindPopup(popup_c371ce2da84af2bcd0cbb10ff024e01a)
        ;

        
    
    
            var marker_a16044a049ae3db1c45ba8a85172b82f = L.marker(
                [51.5247272, -0.03931034663016243],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_ea88f6a80a15a7074d8ffd5c981e816d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_679975f38927cb3229196336187268b8 = $(`<div id=&quot;html_679975f38927cb3229196336187268b8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Queen Mary University of London</div>`)[0];
                popup_ea88f6a80a15a7074d8ffd5c981e816d.setContent(html_679975f38927cb3229196336187268b8);
            
        

        marker_a16044a049ae3db1c45ba8a85172b82f.bindPopup(popup_ea88f6a80a15a7074d8ffd5c981e816d)
        ;

        
    
    
            var marker_51f524945f21add4303e5f718481fa19 = L.marker(
                [42.6126851, -88.4805318],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_fd862a03a4e2efc85e511bb07c04b8d4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f59dfc79b66c741e8338d2bb5c2d3043 = $(`<div id=&quot;html_f59dfc79b66c741e8338d2bb5c2d3043&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Geneva</div>`)[0];
                popup_fd862a03a4e2efc85e511bb07c04b8d4.setContent(html_f59dfc79b66c741e8338d2bb5c2d3043);
            
        

        marker_51f524945f21add4303e5f718481fa19.bindPopup(popup_fd862a03a4e2efc85e511bb07c04b8d4)
        ;

        
    
    
            var marker_16de7d7634893b11d5b42a661d69c77a = L.marker(
                [53.5641091, 9.994978875267606],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_d710190f1273a0e6c89b88faf08aa0ea = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ec61286978ff7e7ce007d479c2d6e491 = $(`<div id=&quot;html_ec61286978ff7e7ce007d479c2d6e491&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Hamburg</div>`)[0];
                popup_d710190f1273a0e6c89b88faf08aa0ea.setContent(html_ec61286978ff7e7ce007d479c2d6e491);
            
        

        marker_16de7d7634893b11d5b42a661d69c77a.bindPopup(popup_d710190f1273a0e6c89b88faf08aa0ea)
        ;

        
    
    
            var marker_afdf6fa271182ce671f793ed58ff7aa1 = L.marker(
                [49.101853399999996, 8.433120159201868],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_b8d93db84e4fd0348b910af51f2fca18 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e6e412dd095650ce882e53485e38e8f4 = $(`<div id=&quot;html_e6e412dd095650ce882e53485e38e8f4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karlsruhe Institute of Technology</div>`)[0];
                popup_b8d93db84e4fd0348b910af51f2fca18.setContent(html_e6e412dd095650ce882e53485e38e8f4);
            
        

        marker_afdf6fa271182ce671f793ed58ff7aa1.bindPopup(popup_b8d93db84e4fd0348b910af51f2fca18)
        ;

        
    
    
            var marker_936397f33ecc2111774b0a7a976ed485 = L.marker(
                [50.73693715, -3.534734858662963],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_1d951835468d7d7e38fadeb5c63a5ed1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e1c8ba8c86d33694fb2ef209d38021c9 = $(`<div id=&quot;html_e1c8ba8c86d33694fb2ef209d38021c9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Exeter</div>`)[0];
                popup_1d951835468d7d7e38fadeb5c63a5ed1.setContent(html_e1c8ba8c86d33694fb2ef209d38021c9);
            
        

        marker_936397f33ecc2111774b0a7a976ed485.bindPopup(popup_1d951835468d7d7e38fadeb5c63a5ed1)
        ;

        
    
    
            var marker_16033ba091e69d951b5c31d3225c6993 = L.marker(
                [51.00784845, 3.710883068491984],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_e365a93fb2226bc520742173aa337de2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0c78c8ae3c46acb590729d702e98064a = $(`<div id=&quot;html_0c78c8ae3c46acb590729d702e98064a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ghent University</div>`)[0];
                popup_e365a93fb2226bc520742173aa337de2.setContent(html_0c78c8ae3c46acb590729d702e98064a);
            
        

        marker_16033ba091e69d951b5c31d3225c6993.bindPopup(popup_e365a93fb2226bc520742173aa337de2)
        ;

        
    
    
            var marker_36c7d62db157ef36201924811e2f7ffe = L.marker(
                [48.2131284, 16.360685994114505],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_f375bbb35ed3e060d127ab46d97f6d52 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5f1b886a80637a96ee6e02b5158b3b52 = $(`<div id=&quot;html_5f1b886a80637a96ee6e02b5158b3b52&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Vienna</div>`)[0];
                popup_f375bbb35ed3e060d127ab46d97f6d52.setContent(html_5f1b886a80637a96ee6e02b5158b3b52);
            
        

        marker_36c7d62db157ef36201924811e2f7ffe.bindPopup(popup_f375bbb35ed3e060d127ab46d97f6d52)
        ;

        
    
    
            var marker_9ce713d73e9c6d18624820d93d2f9fe0 = L.marker(
                [50.928044549999996, 6.928130514523661],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_0a7e8e3481e22a2c5f2ec3c9dec2de21 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fc451ac3ec3d9796de082b2a07f9100d = $(`<div id=&quot;html_fc451ac3ec3d9796de082b2a07f9100d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cologne</div>`)[0];
                popup_0a7e8e3481e22a2c5f2ec3c9dec2de21.setContent(html_fc451ac3ec3d9796de082b2a07f9100d);
            
        

        marker_9ce713d73e9c6d18624820d93d2f9fe0.bindPopup(popup_0a7e8e3481e22a2c5f2ec3c9dec2de21)
        ;

        
    
    
            var marker_65b016d67e1b691143a811cbf694b5d9 = L.marker(
                [54.00975365, -2.7875727317728654],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_fbeb4efb08adc30815e644e46cb42c5b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_26b2c20ebfba6f759ca1cb086a74fb72 = $(`<div id=&quot;html_26b2c20ebfba6f759ca1cb086a74fb72&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lancaster University</div>`)[0];
                popup_fbeb4efb08adc30815e644e46cb42c5b.setContent(html_26b2c20ebfba6f759ca1cb086a74fb72);
            
        

        marker_65b016d67e1b691143a811cbf694b5d9.bindPopup(popup_fbeb4efb08adc30815e644e46cb42c5b)
        ;

        
    
    
            var marker_ba6f2ee26a3b34dc4998c52250bde15d = L.marker(
                [52.9387428, -1.2002956927457427],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_8f00a3d74deaaa43cdc2e97501f6eb06 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_24012d6a5bbe973328789b672281e23c = $(`<div id=&quot;html_24012d6a5bbe973328789b672281e23c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Nottingham</div>`)[0];
                popup_8f00a3d74deaaa43cdc2e97501f6eb06.setContent(html_24012d6a5bbe973328789b672281e23c);
            
        

        marker_ba6f2ee26a3b34dc4998c52250bde15d.bindPopup(popup_8f00a3d74deaaa43cdc2e97501f6eb06)
        ;

        
    
    
            var marker_b16ce9478ebda8ace48b8e1ee127a610 = L.marker(
                [48.38044334999999, 10.010101151636224],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_3bfca32cd9950746d7cecc69b49f5c47 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5eddb0ff0fd5503d10fef62c6886358b = $(`<div id=&quot;html_5eddb0ff0fd5503d10fef62c6886358b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ulm University</div>`)[0];
                popup_3bfca32cd9950746d7cecc69b49f5c47.setContent(html_5eddb0ff0fd5503d10fef62c6886358b);
            
        

        marker_b16ce9478ebda8ace48b8e1ee127a610.bindPopup(popup_3bfca32cd9950746d7cecc69b49f5c47)
        ;

        
    
    
            var marker_062d868cbb06b31a0febfb42f026e74e = L.marker(
                [51.028276500000004, 13.735982754935176],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_8d5d00d7d1b7459e69911f1bb6af0f8a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5f55feee6454805ec0624211326474b7 = $(`<div id=&quot;html_5f55feee6454805ec0624211326474b7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>TU Dresden</div>`)[0];
                popup_8d5d00d7d1b7459e69911f1bb6af0f8a.setContent(html_5f55feee6454805ec0624211326474b7);
            
        

        marker_062d868cbb06b31a0febfb42f026e74e.bindPopup(popup_8d5d00d7d1b7459e69911f1bb6af0f8a)
        ;

        
    
    
            var marker_026094bf44c6e032662d42b3ff2d108a = L.marker(
                [53.80677435, -1.5562877504739676],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_cd1870a87937156559ed1b9339462bf4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_883ac95158e02221dac407acc1f09ce6 = $(`<div id=&quot;html_883ac95158e02221dac407acc1f09ce6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leeds</div>`)[0];
                popup_cd1870a87937156559ed1b9339462bf4.setContent(html_883ac95158e02221dac407acc1f09ce6);
            
        

        marker_026094bf44c6e032662d42b3ff2d108a.bindPopup(popup_cd1870a87937156559ed1b9339462bf4)
        ;

        
    
    
            var marker_d2e0018e7c6e65e896eb1413601eb2db = L.marker(
                [43.7206078, 10.4026444],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_52a9a1a11d4183fbae4d120a31a8fa4c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a2738cd5163a7d22a498b8c3cc09a0bd = $(`<div id=&quot;html_a2738cd5163a7d22a498b8c3cc09a0bd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Superiore Sant’Anna</div>`)[0];
                popup_52a9a1a11d4183fbae4d120a31a8fa4c.setContent(html_a2738cd5163a7d22a498b8c3cc09a0bd);
            
        

        marker_d2e0018e7c6e65e896eb1413601eb2db.bindPopup(popup_52a9a1a11d4183fbae4d120a31a8fa4c)
        ;

        
    
    
            var marker_c35d60442f7e5cac13a69924f29f39ec = L.marker(
                [59.363333600000004, 18.05879425982729],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_6492eaad0a0b8bafeb4d7f3128eb81f8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_647dfe736e79c9b5b5c49ba1e6655094 = $(`<div id=&quot;html_647dfe736e79c9b5b5c49ba1e6655094&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stockholm University</div>`)[0];
                popup_6492eaad0a0b8bafeb4d7f3128eb81f8.setContent(html_647dfe736e79c9b5b5c49ba1e6655094);
            
        

        marker_c35d60442f7e5cac13a69924f29f39ec.bindPopup(popup_6492eaad0a0b8bafeb4d7f3128eb81f8)
        ;

        
    
    
            var marker_c935d9adeecaf27ec173d583c0a81d06 = L.marker(
                [57.16452475, -2.1018363546621197],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_2e7b9b5b412cef622967cc6cc548e239 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_34d209e4ab50d32495c95449eb86e4d0 = $(`<div id=&quot;html_34d209e4ab50d32495c95449eb86e4d0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Aberdeen</div>`)[0];
                popup_2e7b9b5b412cef622967cc6cc548e239.setContent(html_34d209e4ab50d32495c95449eb86e4d0);
            
        

        marker_c935d9adeecaf27ec173d583c0a81d06.bindPopup(popup_2e7b9b5b412cef622967cc6cc548e239)
        ;

        
    
    
            var marker_8ba8b58cd08b226ff8f36d3f68a4773b = L.marker(
                [43.7196687, 10.400432749413179],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_4f0a37ccf62c18d153197907646f7669 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_dea9ef68505cc74faffd992f092da0cf = $(`<div id=&quot;html_dea9ef68505cc74faffd992f092da0cf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Normale Superiore di Pisa</div>`)[0];
                popup_4f0a37ccf62c18d153197907646f7669.setContent(html_dea9ef68505cc74faffd992f092da0cf);
            
        

        marker_8ba8b58cd08b226ff8f36d3f68a4773b.bindPopup(popup_4f0a37ccf62c18d153197907646f7669)
        ;

        
    
    
            var marker_1a4d9b527b97eb0afb3046241dcde3ce = L.marker(
                [50.86796665, -0.08778899363132905],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_cd748e152aacf3f475c881a0213f6cce = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4ee9c978da624274690e58a7525347fa = $(`<div id=&quot;html_4ee9c978da624274690e58a7525347fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sussex</div>`)[0];
                popup_cd748e152aacf3f475c881a0213f6cce.setContent(html_4ee9c978da624274690e58a7525347fa);
            
        

        marker_1a4d9b527b97eb0afb3046241dcde3ce.bindPopup(popup_cd748e152aacf3f475c881a0213f6cce)
        ;

        
    
    
            var marker_fdf1bc93764cba2fb57184fc11d0c572 = L.marker(
                [55.785414450000005, 12.520215144442094],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_0ca195abcc2df4a78fa7d97bff7a4b09 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3aeb3a3299a2ba46373a71eae38ac9e9 = $(`<div id=&quot;html_3aeb3a3299a2ba46373a71eae38ac9e9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Denmark</div>`)[0];
                popup_0ca195abcc2df4a78fa7d97bff7a4b09.setContent(html_3aeb3a3299a2ba46373a71eae38ac9e9);
            
        

        marker_fdf1bc93764cba2fb57184fc11d0c572.bindPopup(popup_0ca195abcc2df4a78fa7d97bff7a4b09)
        ;

        
    
    
            var marker_d7443ef9562975128b1e919c750f5e6f = L.marker(
                [56.3398198, -2.8117937053149826],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_d7766059c6ef0d07ce72c2c79889d7f5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7d0b452cc975bfd5e89b67039aa440e3 = $(`<div id=&quot;html_7d0b452cc975bfd5e89b67039aa440e3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of St Andrews</div>`)[0];
                popup_d7766059c6ef0d07ce72c2c79889d7f5.setContent(html_7d0b452cc975bfd5e89b67039aa440e3);
            
        

        marker_d7443ef9562975128b1e919c750f5e6f.bindPopup(popup_d7766059c6ef0d07ce72c2c79889d7f5)
        ;

        
    
    
            var marker_1a57afb81ff2374fb43a028daccb2aa5 = L.marker(
                [52.33396225, 4.865196500737312],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_f5b862cf4f1657d67ebcf2301fcca998 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0048ff2147409db8a30d0b798f74042f = $(`<div id=&quot;html_0048ff2147409db8a30d0b798f74042f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Vrije Universiteit Amsterdam</div>`)[0];
                popup_f5b862cf4f1657d67ebcf2301fcca998.setContent(html_0048ff2147409db8a30d0b798f74042f);
            
        

        marker_1a57afb81ff2374fb43a028daccb2aa5.bindPopup(popup_f5b862cf4f1657d67ebcf2301fcca998)
        ;

        
    
    
            var marker_2f0a5040dc8312ceb0a23354987ed9c2 = L.marker(
                [51.4486602, 5.4903995655080475],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_7e013ce8a08ea8d2a8a2150fa826e72c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_630284943f58341bbd5e270fd40a31b0 = $(`<div id=&quot;html_630284943f58341bbd5e270fd40a31b0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Eindhoven University of Technology</div>`)[0];
                popup_7e013ce8a08ea8d2a8a2150fa826e72c.setContent(html_630284943f58341bbd5e270fd40a31b0);
            
        

        marker_2f0a5040dc8312ceb0a23354987ed9c2.bindPopup(popup_7e013ce8a08ea8d2a8a2150fa826e72c)
        ;

        
    
    
            var marker_62fa3c02efe3f7eda3770e100f930a91 = L.marker(
                [52.62446355, -1.1257301398551323],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_1d5cd0e777a5a55cce487439ade9f886 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7a9718f7e1b8d0a627dc832a7f6b9700 = $(`<div id=&quot;html_7a9718f7e1b8d0a627dc832a7f6b9700&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leicester</div>`)[0];
                popup_1d5cd0e777a5a55cce487439ade9f886.setContent(html_7a9718f7e1b8d0a627dc832a7f6b9700);
            
        

        marker_62fa3c02efe3f7eda3770e100f930a91.bindPopup(popup_1d5cd0e777a5a55cce487439ade9f886)
        ;

        
    
    
            var marker_7435236970342a7309a7a0d9985643ad = L.marker(
                [54.98017505, -1.6146802127187847],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_55fcab12d84f47571939b763a4cbbd6c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8a2882650d4f0f0c6b1766530491b556 = $(`<div id=&quot;html_8a2882650d4f0f0c6b1766530491b556&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Newcastle University</div>`)[0];
                popup_55fcab12d84f47571939b763a4cbbd6c.setContent(html_8a2882650d4f0f0c6b1766530491b556);
            
        

        marker_7435236970342a7309a7a0d9985643ad.bindPopup(popup_55fcab12d84f47571939b763a4cbbd6c)
        ;

        
    
    
            var marker_ff10f5313aa9b72e7ea2539f6fbbc665 = L.marker(
                [46.5225695, 6.580949860268587],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_aabbbc2114e79f841a84e3fda4ead80e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_910d30e0454090a91b0d5ffea87c0d35 = $(`<div id=&quot;html_910d30e0454090a91b0d5ffea87c0d35&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Lausanne</div>`)[0];
                popup_aabbbc2114e79f841a84e3fda4ead80e.setContent(html_910d30e0454090a91b0d5ffea87c0d35);
            
        

        marker_ff10f5313aa9b72e7ea2539f6fbbc665.bindPopup(popup_aabbbc2114e79f841a84e3fda4ead80e)
        ;

        
    
    
            var marker_f66c246dd6af80dbb90664c5f8544d93 = L.marker(
                [60.1860789, 24.828102074406736],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_cabb53b3e0d2520911fa944267032fa5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f9f9953bb556f18c5f00c779a2e78861 = $(`<div id=&quot;html_f9f9953bb556f18c5f00c779a2e78861&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalto University</div>`)[0];
                popup_cabb53b3e0d2520911fa944267032fa5.setContent(html_f9f9953bb556f18c5f00c779a2e78861);
            
        

        marker_f66c246dd6af80dbb90664c5f8544d93.bindPopup(popup_cabb53b3e0d2520911fa944267032fa5)
        ;

        
    
    
            var marker_834d629548bc1263df10f595fbe290b5 = L.marker(
                [53.40724285, -2.965833661018871],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_7f3a43ab033d0c3134a0e3cdc9067d86 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a6a528e205b522035902cdf0df9d4a2b = $(`<div id=&quot;html_a6a528e205b522035902cdf0df9d4a2b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Liverpool</div>`)[0];
                popup_7f3a43ab033d0c3134a0e3cdc9067d86.setContent(html_a6a528e205b522035902cdf0df9d4a2b);
            
        

        marker_834d629548bc1263df10f595fbe290b5.bindPopup(popup_7f3a43ab033d0c3134a0e3cdc9067d86)
        ;

        
    
    
            var marker_331448881679b6dd0e53fcd9f2672a11 = L.marker(
                [51.96734215, 7.599243326272159],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_bd96b52e9a0e0ecd082201c99dba3f79 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_61ff42dc3e9aa6438986477c5c14fd34 = $(`<div id=&quot;html_61ff42dc3e9aa6438986477c5c14fd34&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Münster</div>`)[0];
                popup_bd96b52e9a0e0ecd082201c99dba3f79.setContent(html_61ff42dc3e9aa6438986477c5c14fd34);
            
        

        marker_331448881679b6dd0e53fcd9f2672a11.bindPopup(popup_bd96b52e9a0e0ecd082201c99dba3f79)
        ;

        
    
    
            var marker_fa47d92d4842f110b8fcae27e5d813c4 = L.marker(
                [52.2233862, 6.8854239028157],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_f802b2f19d4366c5c833a52f4f2d3b6a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_184a3653a188cdc8aee02536cad8e518 = $(`<div id=&quot;html_184a3653a188cdc8aee02536cad8e518&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Twente</div>`)[0];
                popup_f802b2f19d4366c5c833a52f4f2d3b6a.setContent(html_184a3653a188cdc8aee02536cad8e518);
            
        

        marker_fa47d92d4842f110b8fcae27e5d813c4.bindPopup(popup_f802b2f19d4366c5c833a52f4f2d3b6a)
        ;

        
    
    
            var marker_1a84d3551767a7ec6ad92c1fe2262117 = L.marker(
                [51.48402915, -3.1697633635952807],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_e6eeb7f15153b5d54509036d4038f5cd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_12c57d839d58e4392b7b0a3b70813973 = $(`<div id=&quot;html_12c57d839d58e4392b7b0a3b70813973&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Cardiff University</div>`)[0];
                popup_e6eeb7f15153b5d54509036d4038f5cd.setContent(html_12c57d839d58e4392b7b0a3b70813973);
            
        

        marker_1a84d3551767a7ec6ad92c1fe2262117.bindPopup(popup_e6eeb7f15153b5d54509036d4038f5cd)
        ;

        
    
    
            var marker_26ce5510e28b1b5a83a3de34daaccbee = L.marker(
                [59.2016758, 17.6203201],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_b8238e0144ce093f7301e91dd36495f6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c3852eb21eed047fc41b781d25b76410 = $(`<div id=&quot;html_c3852eb21eed047fc41b781d25b76410&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KTH Royal Institute of Technology</div>`)[0];
                popup_b8238e0144ce093f7301e91dd36495f6.setContent(html_c3852eb21eed047fc41b781d25b76410);
            
        

        marker_26ce5510e28b1b5a83a3de34daaccbee.bindPopup(popup_b8238e0144ce093f7301e91dd36495f6)
        ;

        
    
    
            var marker_b56b2604c6cce8304d4ffa8dc7a2258a = L.marker(
                [47.690088599999996, 9.188243876500252],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_c5fe075c1e54c2d9ef86e02114105acd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_dc38b9c10ce8461ae27788fd9a649a5f = $(`<div id=&quot;html_dc38b9c10ce8461ae27788fd9a649a5f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Konstanz</div>`)[0];
                popup_c5fe075c1e54c2d9ef86e02114105acd.setContent(html_dc38b9c10ce8461ae27788fd9a649a5f);
            
        

        marker_b56b2604c6cce8304d4ffa8dc7a2258a.bindPopup(popup_c5fe075c1e54c2d9ef86e02114105acd)
        ;

        
    
    
            var marker_2548bfc7029c2da8e70c457d4c7d71dc = L.marker(
                [51.4290899, 6.8008580326401],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_b1d5bb2f88e6850183e7d956c7834013 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_64dbe99fa45171f563b10f9a192e3e3f = $(`<div id=&quot;html_64dbe99fa45171f563b10f9a192e3e3f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Duisburg-Essen</div>`)[0];
                popup_b1d5bb2f88e6850183e7d956c7834013.setContent(html_64dbe99fa45171f563b10f9a192e3e3f);
            
        

        marker_2548bfc7029c2da8e70c457d4c7d71dc.bindPopup(popup_b1d5bb2f88e6850183e7d956c7834013)
        ;

        
    
    
            var marker_278998905145377a4251e8fc8b52bb01 = L.marker(
                [52.622251, 1.2411579],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_26cda327fa02bc44b3881e349fedb97c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_84fe3f979eafe835fbc48fea0f4c4319 = $(`<div id=&quot;html_84fe3f979eafe835fbc48fea0f4c4319&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of East Anglia</div>`)[0];
                popup_26cda327fa02bc44b3881e349fedb97c.setContent(html_84fe3f979eafe835fbc48fea0f4c4319);
            
        

        marker_278998905145377a4251e8fc8b52bb01.bindPopup(popup_26cda327fa02bc44b3881e349fedb97c)
        ;

        
    
    
            var marker_b63900d04b00141de0ff57a461781a18 = L.marker(
                [57.015907049999996, 9.975308243557345],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_0e0e48e74649bea200275d63596d980b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1fd15aa49a2db02e6f8907d3a95a949c = $(`<div id=&quot;html_1fd15aa49a2db02e6f8907d3a95a949c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalborg University</div>`)[0];
                popup_0e0e48e74649bea200275d63596d980b.setContent(html_1fd15aa49a2db02e6f8907d3a95a949c);
            
        

        marker_b63900d04b00141de0ff57a461781a18.bindPopup(popup_0e0e48e74649bea200275d63596d980b)
        ;

        
    
    
            var marker_ed8623184681eaba7a5a5f8e07a922c9 = L.marker(
                [60.36887575, 5.351111541486731],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_52b7dac3e1425cbbe1c71c88d7072c09 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_85444f52a9bae092f8fcf5e280bd435e = $(`<div id=&quot;html_85444f52a9bae092f8fcf5e280bd435e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bergen</div>`)[0];
                popup_52b7dac3e1425cbbe1c71c88d7072c09.setContent(html_85444f52a9bae092f8fcf5e280bd435e);
            
        

        marker_ed8623184681eaba7a5a5f8e07a922c9.bindPopup(popup_52b7dac3e1425cbbe1c71c88d7072c09)
        ;

        
    
    
            var marker_848a6a6f616a4f7749b11d9466dee677 = L.marker(
                [55.7055406, 37.5360595],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_029f27d8eb5256f81f31ec0b62986970 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8e5de98028da780181c3e3dd0b7aa8ce = $(`<div id=&quot;html_8e5de98028da780181c3e3dd0b7aa8ce&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lomonosov Moscow State University</div>`)[0];
                popup_029f27d8eb5256f81f31ec0b62986970.setContent(html_8e5de98028da780181c3e3dd0b7aa8ce);
            
        

        marker_848a6a6f616a4f7749b11d9466dee677.bindPopup(popup_029f27d8eb5256f81f31ec0b62986970)
        ;

        
    
    
            var marker_3774ede21f665d33abca38390165a7d1 = L.marker(
                [51.1843856, 4.41993868786375],
                {}
            ).addTo(map_6665a2f1025885576c4aa1e8ed80580b);
        
    
        var popup_e3360029416bb8d41e34b76e87cc862a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9d759c478bf5331f23c7aeda10c7c2d2 = $(`<div id=&quot;html_9d759c478bf5331f23c7aeda10c7c2d2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Antwerp</div>`)[0];
                popup_e3360029416bb8d41e34b76e87cc862a.setContent(html_9d759c478bf5331f23c7aeda10c7c2d2);
            
        

        marker_3774ede21f665d33abca38390165a7d1.bindPopup(popup_e3360029416bb8d41e34b76e87cc862a)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="table-joins" class="level2">
<h2 class="anchored" data-anchor-id="table-joins">Table joins</h2>
<section id="attribute-join" class="level3">
<h3 class="anchored" data-anchor-id="attribute-join">Attribute join</h3>
<p>여러 데이터프레임의 정보를 공유 인덱스로 결합하기 위해 <code>pd.DataFrame.join()</code>을 사용하는 방법을 이미 알고 계실 것입니다. 인덱스에서 일치하는 값을 단순화하여 데이터를 조인하는 이 방법을 특성 조인이라고 합니다.</p>
<p>지오데이터프레임으로 특성 조인을 수행할 때는 <code>gpd.GeoDataFrame.merge()</code>를 사용하는 것이 가장 좋습니다. 이를 설명하기 위해 유럽의 모든 국가에 대한 경계가 포함된 GeoDataFrame europe_boundaries로 작업해 보겠습니다. 이 GeoDataFrame의 처음 다섯 행은 아래에 인쇄되어 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">'naturalearth_lowres'</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> world.loc[world.continent <span class="op">==</span> <span class="st">'Europe'</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>europe_stats <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"pop_est"</span>, <span class="st">"gdp_md_est"</span>]]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>europe_boundaries <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"geometry"</span>]]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>europe_boundaries.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name                                           geometry
0   Russia  MULTIPOLYGON (((180.00000 71.51571, 180.00000 ...
1   Norway  MULTIPOLYGON (((15.14282 79.67431, 15.52255 80...
2   France  MULTIPOLYGON (((-51.65780 4.15623, -52.24934 3...
3   Sweden  POLYGON ((11.02737 58.85615, 11.46827 59.43239...
4  Belarus  POLYGON ((28.17671 56.16913, 29.22951 55.91834...</code></pre>
</div>
</div>
<p>각 국가의 예상 인구와 국내총생산(GDP)을 포함하는 데이터 프레임 europe_stats와 결합합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>europe_stats.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name      pop_est  gdp_md_est
0   Russia  144373535.0     1699876
1   Norway    5347896.0      403336
2   France   67059887.0     2715518
3   Sweden   10285453.0      530883
4  Belarus    9466856.0       63080</code></pre>
</div>
</div>
<p>아래 코드 셀에서 Attribute join을 수행합니다. <code>on</code> 인수는 <code>europe_boundaries</code>의 행을 <code>europe_stats</code> 행에 일치시키는 데 사용되는 열 이름으로 설정됩니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an attribute join to merge data about countries in Europe</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> europe_boundaries.merge(europe_stats, on<span class="op">=</span><span class="st">"name"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>europe.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name  ... gdp_md_est
0   Russia  ...    1699876
1   Norway  ...     403336
2   France  ...    2715518
3   Sweden  ...     530883
4  Belarus  ...      63080

[5 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="spatial-join" class="level2">
<h2 class="anchored" data-anchor-id="spatial-join">Spatial join</h2>
<p>또 다른 조인 유형은 spatial join입니다. spatial join을 사용하면 ‘geometry’ 열에 있는 개체 간의 공간 관계를 기반으로 지오데이터 프레임을 결합합니다. 예를 들어, 유럽 대학의 지오코딩된 주소가 포함된 지오데이터 프레임 대학이 이미 있습니다.</p>
<p>그런 다음 spatial join을 사용하여 각 대학을 해당 국가에 일치시킬 수 있습니다. 이 작업은 <code>gpd.sjoin()</code>을 사용하여 수행합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use spatial join to match universities to countries in Europe</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities = gpd.sjoin(universities, europe)</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the result</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print("We located {} universities.".format(len(universities)))</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print("Only {} of the universities were located in Europe (in {} different countries).".format(</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#len(european_universities), len(european_universities.name.unique())))</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 spatial join은 두 지오데이터 프레임의 “geometry” 열을 살펴봅니다. 대학교 GeoDataFrame의 Point 개체가 유럽 데이터 프레임의 다각형 개체와 교차하는 경우, 해당 행이 결합되어 유럽_대학 데이터 프레임의 단일 행으로 추가됩니다. 그렇지 않으면 일치하는 대학이 없는 국가(및 일치하는 국가가 없는 대학)는 결과에서 생략됩니다.</p>
<p><code>gpd.sjoin()</code> 메서드는 <code>how</code> 및 <code>op</code> 인수를 통해 다양한 조인 유형에 맞게 사용자 지정할 수 있습니다. 예를 들어, how=‘left’(또는 how=‘right’)를 설정하여 SQL LEFT(또는 RIGHT) 조인과 동등한 작업을 수행할 수 있습니다.</p>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<section id="introduction-1" class="level3">
<h3 class="anchored" data-anchor-id="introduction-1">Introduction</h3>
<p>You are a Starbucks big data analyst (that’s a real job!) looking to find the next store into a Starbucks Reserve Roastery. These roasteries are much larger than a typical Starbucks store and have several additional features, including various food and wine options, along with upscale lounge areas. You’ll investigate the demographics of various counties in the state of California, to determine potentially suitable locations.</p>
</section>
<section id="geocode-the-missing-locations." class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-missing-locations.">Geocode the missing locations.</h3>
<p>Run the next code cell to create a DataFrame starbucks containing Starbucks locations in the state of California.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/starbucks_locations.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>starbucks.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Store Number               Store Name  ... Longitude Latitude
0  10429-100710       Palmdale &amp; Hwy 395  ...   -117.40    34.51
1       635-352    Kanan &amp; Thousand Oaks  ...   -118.76    34.16
2   74510-27669  Vons-Agoura Hills #2001  ...   -118.76    34.15
3  29839-255026    Target Anaheim T-0677  ...   -117.75    33.87
4  23463-230284   Safeway - Alameda 3281  ...   -122.28    37.79

[5 rows x 6 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows in each column have missing values?</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(starbucks.isnull().<span class="bu">sum</span>())</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows with missing locations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Store Number    0
Store Name      0
Address         0
City            0
Longitude       5
Latitude        5
dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>rows_with_missing <span class="op">=</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">"Berkeley"</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>rows_with_missing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Store Number                Store Name  ... Longitude Latitude
153      5406-945  2224 Shattuck - Berkeley  ...       NaN      NaN
154       570-512                Solano Ave  ...       NaN      NaN
155  17877-164526   Safeway - Berkeley #691  ...       NaN      NaN
156  19864-202264         Telegraph &amp; Ashby  ...       NaN      NaN
157     9217-9253           2128 Oxford St.  ...       NaN      NaN

[5 rows x 6 columns]</code></pre>
</div>
</div>
<p>Use the code cell below to fill in these values with the Nominatim geocoder.</p>
<p>Note that in the tutorial, we used Nominatim() (from geopy.geocoders) to geocode values, and this is what you can use in your own projects outside of this course.</p>
<p>In this exercise, you will use a slightly different function Nominatim() (from learntools.geospatial.tools). This function was imported at the top of the notebook and works identically to the function from GeoPandas.</p>
<p>So, in other words, as long as:</p>
<p>you don’t change the import statements at the top of the notebook, and you call the geocoding function as geocode() in the code cell below, your code will work as intended!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>berkeley_locations <span class="op">=</span> rows_with_missing.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Address'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>starbucks.update(berkeley_locations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="view-berkeley-locations" class="level3">
<h3 class="anchored" data-anchor-id="view-berkeley-locations">View Berkeley locations</h3>
<p>Let’s take a look at the locations you just found. Visualize the (latitude, longitude) locations in Berkeley in the OpenStreetMap style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>m_2 <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="fl">37.88</span>,<span class="op">-</span><span class="fl">122.26</span>], zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a marker for each Berkeley location</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">'Berkeley'</span>].iterrows():</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]]).add_to(m_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x00000204D1B26ED0&gt;
&lt;folium.map.Marker object at 0x00000204ACD9A410&gt;
&lt;folium.map.Marker object at 0x00000204D1B26E10&gt;
&lt;folium.map.Marker object at 0x00000204D1B312D0&gt;
&lt;folium.map.Marker object at 0x00000204D1B26790&gt;</code></pre>
</div>
</div>
</section>
<section id="consolidate-your-data" class="level3">
<h3 class="anchored" data-anchor-id="consolidate-your-data">Consolidate your data</h3>
<p>Run the code below to load a GeoDataFrame CA_counties containing the name, area (in square kilometers), and a unique id (in the “GEOID” column) for each county in the state of California. The “geometry” column contains a polygon with county boundaries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>CA_counties <span class="op">=</span> gpd.read_file(<span class="st">"C:/archive/CA_county_boundaries/CA_county_boundaries/CA_county_boundaries.shp"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>CA_counties.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>CA_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   GEOID  ...                                           geometry
0   6091  ...  POLYGON ((-120.65560 39.69357, -120.65554 39.6...
1   6067  ...  POLYGON ((-121.18858 38.71431, -121.18732 38.7...
2   6083  ...  MULTIPOLYGON (((-120.58191 34.09856, -120.5822...
3   6009  ...  POLYGON ((-120.63095 38.34111, -120.63058 38.3...
4   6111  ...  MULTIPOLYGON (((-119.63631 33.27304, -119.6360...

[5 rows x 4 columns]</code></pre>
</div>
</div>
<p>Next, we create three DataFrames:</p>
<ul>
<li><p><code>CA_pop</code> contains an estimate of the population of each county.</p></li>
<li><p><code>CA_high_earners</code> contains the number of households with an income of at least $150,000 per year.</p></li>
<li><p><code>CA_median_age</code> contains the median age for each county.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>CA_pop <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_population.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>CA_high_earners <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_high_earners.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>CA_median_age <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_median_age.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use the next code cell to join the <code>CA_counties</code> GeoDataFrame with <code>CA_pop</code>, <code>CA_high_earners</code>, and <code>CA_median_age</code>.</p>
<p>Name the resultant GeoDataFrame <code>CA_stats</code>, and make sure it has 8 columns: “GEOID”, “name”, “area_sqkm”, “geometry”, “population”, “high_earners”, and “median_age”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cols_to_add <span class="op">=</span> CA_pop.join([CA_high_earners, CA_median_age]).reset_index()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>CA_stats <span class="op">=</span> CA_counties.merge(cols_to_add, on<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>CA_stats[<span class="st">"density"</span>] <span class="op">=</span> CA_stats[<span class="st">"population"</span>] <span class="op">/</span> CA_stats[<span class="st">"area_sqkm"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="which-counties-look-promising" class="level3">
<h3 class="anchored" data-anchor-id="which-counties-look-promising">Which counties look promising?</h3>
<p>Collapsing all of the information into a single GeoDataFrame also makes it much easier to select counties that meet specific criteria.</p>
<p>Use the next code cell to create a GeoDataFrame <code>sel_counties</code> that contains a subset of the rows (and all of the columns) from the <code>CA_stats</code> GeoDataFrame. In particular, you should select counties where:</p>
<ul>
<li><p>there are at least 100,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 38.5, and</p></li>
<li><p>the density of inhabitants is at least 285 (per square kilometer).</p></li>
</ul>
<p>Additionally, selected counties should satisfy at least one of the following criteria:</p>
<ul>
<li><p>there are at least 500,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 35.5, or</p></li>
<li><p>the density of inhabitants is at least 1400 (per square kilometer).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sel_counties <span class="op">=</span> CA_stats[((CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">100000</span>) <span class="op">&amp;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.median_age <span class="op">&lt;</span> <span class="fl">38.5</span>) <span class="op">&amp;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">285</span>) <span class="op">&amp;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                         ((CA_stats.median_age <span class="op">&lt;</span> <span class="fl">35.5</span>) <span class="op">|</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">1400</span>) <span class="op">|</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">500000</span>)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-stores-did-you-identify" class="level3">
<h3 class="anchored" data-anchor-id="how-many-stores-did-you-identify">How many stores did you identify?</h3>
<p>When looking for the next Starbucks Reserve Roastery location, you’d like to consider all of the stores within the counties that you selected. So, how many stores are within the selected counties?</p>
<p>To prepare to answer this question, run the next code cell to create a GeoDataFrame <code>starbucks_gdf</code> with all of the starbucks locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>starbucks_gdf <span class="op">=</span> gpd.GeoDataFrame(starbucks, geometry<span class="op">=</span>gpd.points_from_xy(starbucks.Longitude, starbucks.Latitude))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>starbucks_gdf.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co">#num_stores = len(locations_of_interest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-the-store-locations." class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-store-locations.">Visualize the store locations.</h3>
<p>Create a map that shows the locations of the stores that you identified in the previous question.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6 = folium.Map(location=[37,-120], zoom_start=6)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mc = MarkerCluster()</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for idx, row in locations_of_interest.iterrows():</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    if not math.isnan(row['Longitude']) and not math.isnan(row['Latitude']):</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#        mc.add_child(folium.Marker([row['Latitude'], row['Longitude']]))</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6.add_child(mc)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
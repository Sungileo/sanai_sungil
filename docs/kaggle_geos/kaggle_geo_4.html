<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungil Park">
<meta name="dcterms.date" content="2023-04-24">
<meta name="description" content="Kaggle Geospatial Analysis (4/5)">

<title>Sungil_Park - Manipulating Geospatial Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sungil_Park</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../kaggle_geo.html" rel="" target="">
 <span class="menu-text">Geospatial Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../recordings.html" rel="" target="">
 <span class="menu-text">Recordings</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contact" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Contact</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contact">    
        <li>
    <a class="dropdown-item" href="https://github.com/Sungileo" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">Github</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://kr.linkedin.com/in/sungilfromcheonankorea" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">Linkedin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.instagram.com/da_real_sungil" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="dropdown-text">Instagram</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#table-joins" id="toc-table-joins" class="nav-link" data-scroll-target="#table-joins">Table joins</a>
  <ul class="collapse">
  <li><a href="#attribute-join" id="toc-attribute-join" class="nav-link" data-scroll-target="#attribute-join">Attribute join</a></li>
  </ul></li>
  <li><a href="#spatial-join" id="toc-spatial-join" class="nav-link" data-scroll-target="#spatial-join">Spatial join</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your turn</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#geocode-the-missing-locations." id="toc-geocode-the-missing-locations." class="nav-link" data-scroll-target="#geocode-the-missing-locations.">Geocode the missing locations.</a></li>
  <li><a href="#view-berkeley-locations" id="toc-view-berkeley-locations" class="nav-link" data-scroll-target="#view-berkeley-locations">View Berkeley locations</a></li>
  <li><a href="#consolidate-your-data" id="toc-consolidate-your-data" class="nav-link" data-scroll-target="#consolidate-your-data">Consolidate your data</a></li>
  <li><a href="#which-counties-look-promising" id="toc-which-counties-look-promising" class="nav-link" data-scroll-target="#which-counties-look-promising">Which counties look promising?</a></li>
  <li><a href="#how-many-stores-did-you-identify" id="toc-how-many-stores-did-you-identify" class="nav-link" data-scroll-target="#how-many-stores-did-you-identify">How many stores did you identify?</a></li>
  <li><a href="#visualize-the-store-locations." id="toc-visualize-the-store-locations." class="nav-link" data-scroll-target="#visualize-the-store-locations.">Visualize the store locations.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manipulating Geospatial Data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Kaggle tutorial</div>
  </div>
  </div>

<div>
  <div class="description">
    Kaggle Geospatial Analysis (4/5)
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungil Park </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>이 튜토리얼에서는 Geocoding과 Table join이라는 두 가지 지리적 공간 데이터에 대한 일반적인 조작에 대해 알아봅니다.</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>지오코딩은 장소 이름이나 주소를 지도상의 위치로 변환하는 프로세스입니다. 예를 들어 Google 지도, Bing 지도 등에서 랜드마크 설명을 기반으로 지리적 위치를 찾아본 적이 있다면 지오코딩을 사용해 본 적이 있을 것입니다</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>C:\Users\sungi\PYTHON~1\Lib\site-packages\geopandas\_compat.py:123: UserWarning: The Shapely GEOS version (3.10.1-CAPI-1.16.0) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.
  warnings.warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium <span class="im">import</span> Marker</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geopy.geocoders <span class="im">import</span> Nominatim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 코드 셀에서 <code>Nominatim</code>은 위치를 생성하는 데 사용되는 지오코딩 소프트웨어를 나타냅니다.</p>
<p>지오코더를 인스턴스화하는 것으로 시작합니다. 그런 다음 이름이나 주소를 Python 문자열로 적용하기만 하면 됩니다. (이 경우, 기자의 대피라미드라고도 알려진 “쿠푸의 피라미드”를 제공합니다.)</p>
<p>지오코딩이 성공하면 두 가지 중요한 속성이 있는 geopy.location.Location 객체를 반환합니다:</p>
<ul>
<li><p><code>point</code> 속성에는 (위도, 경도) 위치가 포함되고</p></li>
<li><p><code>address</code> 속성은 전체 주소를 포함합니다.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>location <span class="op">=</span> geolocator.geocode(<span class="st">"Pyramid of Khufu"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>29 58m 44.976s N, 31 8m 3.17625s E</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(location.address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>هرم خوفو, شارع ابو الهول السياحي, نزلة البطران, الجيزة, 12125, مصر</code></pre>
</div>
</div>
<p><code>point</code> 속성의 값은 <code>geopy.point.Point</code> 객체이며, <code>latitude</code> 및 <code>longitude</code> 속성에서 각각 위도와 경도를 가져올 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> location.point</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Latitude:"</span>, point.latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Latitude: 29.97916</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Longitude:"</span>, point.longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Longitude: 31.134215625236113</code></pre>
</div>
</div>
<p>다양한 주소를 지오코딩해야 하는 경우가 종종 있습니다. 예를 들어 유럽에 있는 상위 100개 대학의 위치를 파악하고 싶다고 가정해 보겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/top_universities.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name
0     University of Oxford
1  University of Cambridge
2  Imperial College London
3               ETH Zurich
4                      UCL</code></pre>
</div>
</div>
<p>그런 다음 람다 함수를 사용하여 데이터 프레임의 모든 행에 지오코딩을 적용할 수 있습니다.</p>
<p>(지오코딩이 실패할 경우를 대비하여 try/except 문을 사용합니다.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>universities[[<span class="st">'Latitude'</span>, <span class="st">'Longitude'</span>]] <span class="op">=</span> universities.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Name'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="sc">{}% o</span><span class="st">f addresses were geocoded!"</span>.<span class="bu">format</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(np.isnan(universities[<span class="st">"Latitude"</span>])) <span class="op">/</span> <span class="bu">len</span>(universities)) <span class="op">*</span> <span class="dv">100</span>))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop universities that were not successfully geocoded</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>90.0% of addresses were geocoded!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> universities.loc[<span class="op">~</span>np.isnan(universities[<span class="st">"Latitude"</span>])]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>universities <span class="op">=</span> gpd.GeoDataFrame(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    universities, geometry<span class="op">=</span>gpd.points_from_xy(universities.Longitude, universities.Latitude))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>universities.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>universities.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Name   Latitude  Longitude                   geometry
0     University of Oxford  51.759037  -1.252430  POINT (-1.25243 51.75904)
1  University of Cambridge  52.200623   0.110474   POINT (0.11047 52.20062)
2  Imperial College London  51.498959  -0.175641  POINT (-0.17564 51.49896)
3               ETH Zurich  47.562772   7.580947   POINT (7.58095 47.56277)
4                      UCL  51.521785  -0.135151  POINT (-0.13515 51.52179)</code></pre>
</div>
</div>
<p>다음으로 지오코더가 반환한 모든 위치를 시각화합니다. 일부 위치는 유럽이 아니기 때문에 확실히 부정확하다는 것을 알 수 있습니다!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a map</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="dv">54</span>, <span class="dv">15</span>], tiles<span class="op">=</span><span class="st">'openstreetmap'</span>, zoom_start<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add points to the map</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> universities.iterrows():</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]], popup<span class="op">=</span>row[<span class="st">'Name'</span>]).add_to(m)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x000002145FBB0D90&gt;
&lt;folium.map.Marker object at 0x0000021467C97CD0&gt;
&lt;folium.map.Marker object at 0x0000021467CAD090&gt;
&lt;folium.map.Marker object at 0x0000021460D732D0&gt;
&lt;folium.map.Marker object at 0x000002145FBAFFD0&gt;
&lt;folium.map.Marker object at 0x0000021467CBF9D0&gt;
&lt;folium.map.Marker object at 0x000002145FBBC990&gt;
&lt;folium.map.Marker object at 0x0000021467CBFC10&gt;
&lt;folium.map.Marker object at 0x0000021467CC4490&gt;
&lt;folium.map.Marker object at 0x0000021467CC4850&gt;
&lt;folium.map.Marker object at 0x0000021467CC4B90&gt;
&lt;folium.map.Marker object at 0x0000021467CC4E90&gt;
&lt;folium.map.Marker object at 0x0000021467CC5190&gt;
&lt;folium.map.Marker object at 0x0000021467CC54D0&gt;
&lt;folium.map.Marker object at 0x0000021467CC57D0&gt;
&lt;folium.map.Marker object at 0x0000021467CC5B10&gt;
&lt;folium.map.Marker object at 0x0000021467CC5E10&gt;
&lt;folium.map.Marker object at 0x0000021467CC6110&gt;
&lt;folium.map.Marker object at 0x0000021467CC6410&gt;
&lt;folium.map.Marker object at 0x0000021467CC6710&gt;
&lt;folium.map.Marker object at 0x0000021467CC6A10&gt;
&lt;folium.map.Marker object at 0x0000021467CC6D10&gt;
&lt;folium.map.Marker object at 0x0000021467CC7010&gt;
&lt;folium.map.Marker object at 0x0000021467CC7310&gt;
&lt;folium.map.Marker object at 0x0000021467CC7610&gt;
&lt;folium.map.Marker object at 0x0000021467CC7950&gt;
&lt;folium.map.Marker object at 0x0000021467CC7C50&gt;
&lt;folium.map.Marker object at 0x0000021467CC7F50&gt;
&lt;folium.map.Marker object at 0x0000021467CC7F10&gt;
&lt;folium.map.Marker object at 0x0000021467CD8590&gt;
&lt;folium.map.Marker object at 0x0000021467CD8890&gt;
&lt;folium.map.Marker object at 0x0000021467CD8BD0&gt;
&lt;folium.map.Marker object at 0x0000021467CD8ED0&gt;
&lt;folium.map.Marker object at 0x0000021467CD91D0&gt;
&lt;folium.map.Marker object at 0x0000021467CD94D0&gt;
&lt;folium.map.Marker object at 0x0000021467CD9810&gt;
&lt;folium.map.Marker object at 0x0000021467CD9B10&gt;
&lt;folium.map.Marker object at 0x0000021467CD9E10&gt;
&lt;folium.map.Marker object at 0x0000021467CDA150&gt;
&lt;folium.map.Marker object at 0x0000021467CDA450&gt;
&lt;folium.map.Marker object at 0x0000021467CDA790&gt;
&lt;folium.map.Marker object at 0x0000021467CDAAD0&gt;
&lt;folium.map.Marker object at 0x0000021467CDAE10&gt;
&lt;folium.map.Marker object at 0x0000021467CDB0D0&gt;
&lt;folium.map.Marker object at 0x0000021467CDB410&gt;
&lt;folium.map.Marker object at 0x0000021467CDB750&gt;
&lt;folium.map.Marker object at 0x0000021467CDBA50&gt;
&lt;folium.map.Marker object at 0x0000021467CDBD90&gt;
&lt;folium.map.Marker object at 0x0000021467CDBBD0&gt;
&lt;folium.map.Marker object at 0x0000021467CE4410&gt;
&lt;folium.map.Marker object at 0x0000021467CE4710&gt;
&lt;folium.map.Marker object at 0x0000021467CE4A50&gt;
&lt;folium.map.Marker object at 0x0000021467CE4D50&gt;
&lt;folium.map.Marker object at 0x0000021467CE50D0&gt;
&lt;folium.map.Marker object at 0x0000021467CE5450&gt;
&lt;folium.map.Marker object at 0x0000021467CE5810&gt;
&lt;folium.map.Marker object at 0x0000021467CE5B90&gt;
&lt;folium.map.Marker object at 0x0000021467CE5F50&gt;
&lt;folium.map.Marker object at 0x0000021467CE62D0&gt;
&lt;folium.map.Marker object at 0x0000021467CE6650&gt;
&lt;folium.map.Marker object at 0x0000021467CE69D0&gt;
&lt;folium.map.Marker object at 0x0000021467CE6D50&gt;
&lt;folium.map.Marker object at 0x0000021467CE70D0&gt;
&lt;folium.map.Marker object at 0x0000021467CE7450&gt;
&lt;folium.map.Marker object at 0x0000021467CE77D0&gt;
&lt;folium.map.Marker object at 0x0000021467CE7B50&gt;
&lt;folium.map.Marker object at 0x0000021467CE7ED0&gt;
&lt;folium.map.Marker object at 0x0000021467CE7F10&gt;
&lt;folium.map.Marker object at 0x0000021467CF4610&gt;
&lt;folium.map.Marker object at 0x0000021467CF49D0&gt;
&lt;folium.map.Marker object at 0x0000021467CF4D50&gt;
&lt;folium.map.Marker object at 0x0000021467CF50D0&gt;
&lt;folium.map.Marker object at 0x0000021467CF5450&gt;
&lt;folium.map.Marker object at 0x0000021467CF57D0&gt;
&lt;folium.map.Marker object at 0x0000021467CF5B50&gt;
&lt;folium.map.Marker object at 0x0000021467CF5ED0&gt;
&lt;folium.map.Marker object at 0x0000021467CF6250&gt;
&lt;folium.map.Marker object at 0x0000021467CF65D0&gt;
&lt;folium.map.Marker object at 0x0000021467CF6950&gt;
&lt;folium.map.Marker object at 0x0000021467CF6CD0&gt;
&lt;folium.map.Marker object at 0x0000021467CF7050&gt;
&lt;folium.map.Marker object at 0x0000021467CF73D0&gt;
&lt;folium.map.Marker object at 0x0000021467CF7790&gt;
&lt;folium.map.Marker object at 0x0000021467CF7B10&gt;
&lt;folium.map.Marker object at 0x0000021467CF7E90&gt;
&lt;folium.map.Marker object at 0x0000021467CF7ED0&gt;
&lt;folium.map.Marker object at 0x0000021467D085D0&gt;
&lt;folium.map.Marker object at 0x0000021467D08950&gt;
&lt;folium.map.Marker object at 0x0000021467D08D10&gt;
&lt;folium.map.Marker object at 0x0000021467D090D0&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_7f26672fdaab44f9e6b22c190552c9a5 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_7f26672fdaab44f9e6b22c190552c9a5&quot; ></div>
        
</body>
<script>
    
    
            var map_7f26672fdaab44f9e6b22c190552c9a5 = L.map(
                &quot;map_7f26672fdaab44f9e6b22c190552c9a5&quot;,
                {
                    center: [54.0, 15.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 2,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_983b0401f1931986323aee4d46086646 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
            var marker_3a31ae134dcf9766bf88a8a38d55c46d = L.marker(
                [51.7590373, -1.2524298],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_75e1d94e37b6fb81d31907cbb014e7c8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a17f9fbe02c84a8a7260904879844cdf = $(`<div id=&quot;html_a17f9fbe02c84a8a7260904879844cdf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oxford</div>`)[0];
                popup_75e1d94e37b6fb81d31907cbb014e7c8.setContent(html_a17f9fbe02c84a8a7260904879844cdf);
            
        

        marker_3a31ae134dcf9766bf88a8a38d55c46d.bindPopup(popup_75e1d94e37b6fb81d31907cbb014e7c8)
        ;

        
    
    
            var marker_bd75807e9efa8f04e51a5158e39d4007 = L.marker(
                [52.2006233, 0.1104744],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f6acf058112dc71839e1e411867fa0bf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b079cc8b6e56f0c4cccc27c3571f46bc = $(`<div id=&quot;html_b079cc8b6e56f0c4cccc27c3571f46bc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cambridge</div>`)[0];
                popup_f6acf058112dc71839e1e411867fa0bf.setContent(html_b079cc8b6e56f0c4cccc27c3571f46bc);
            
        

        marker_bd75807e9efa8f04e51a5158e39d4007.bindPopup(popup_f6acf058112dc71839e1e411867fa0bf)
        ;

        
    
    
            var marker_a0fce125ba022da31beeff731fbbc9da = L.marker(
                [51.4989595, -0.17564069276310426],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_93010f1600e957d6fb6907cdbcbec37a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0e4d9d19a203a58954f27dd389e40358 = $(`<div id=&quot;html_0e4d9d19a203a58954f27dd389e40358&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Imperial College London</div>`)[0];
                popup_93010f1600e957d6fb6907cdbcbec37a.setContent(html_0e4d9d19a203a58954f27dd389e40358);
            
        

        marker_a0fce125ba022da31beeff731fbbc9da.bindPopup(popup_93010f1600e957d6fb6907cdbcbec37a)
        ;

        
    
    
            var marker_87dbc37871fd470e8ce57e44a7ab8c4f = L.marker(
                [47.56277165, 7.580947334069263],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_816b607b419803b6b9d5264eb55a9468 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5a2435ab3aca91d7de0d17ae0d036989 = $(`<div id=&quot;html_5a2435ab3aca91d7de0d17ae0d036989&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>ETH Zurich</div>`)[0];
                popup_816b607b419803b6b9d5264eb55a9468.setContent(html_5a2435ab3aca91d7de0d17ae0d036989);
            
        

        marker_87dbc37871fd470e8ce57e44a7ab8c4f.bindPopup(popup_816b607b419803b6b9d5264eb55a9468)
        ;

        
    
    
            var marker_0fa3080c3355ee62e2ccd9f9c2168acc = L.marker(
                [51.5217852, -0.13515149671251314],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_19b23f93d99b1fe4ac53291840c42b2d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_588d2359a4257797e4723b0b0aeb7f64 = $(`<div id=&quot;html_588d2359a4257797e4723b0b0aeb7f64&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>UCL</div>`)[0];
                popup_19b23f93d99b1fe4ac53291840c42b2d.setContent(html_588d2359a4257797e4723b0b0aeb7f64);
            
        

        marker_0fa3080c3355ee62e2ccd9f9c2168acc.bindPopup(popup_19b23f93d99b1fe4ac53291840c42b2d)
        ;

        
    
    
            var marker_07692079839db11215c84bf4f6eac36f = L.marker(
                [51.51421115, -0.11680813159099895],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_e8921ab57333b4c163d4ea53c0dccdb4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8eb425a5f0b9032e6892588bbd2bca68 = $(`<div id=&quot;html_8eb425a5f0b9032e6892588bbd2bca68&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>London School of Economics and Political Science</div>`)[0];
                popup_e8921ab57333b4c163d4ea53c0dccdb4.setContent(html_8eb425a5f0b9032e6892588bbd2bca68);
            
        

        marker_07692079839db11215c84bf4f6eac36f.bindPopup(popup_e8921ab57333b4c163d4ea53c0dccdb4)
        ;

        
    
    
            var marker_79ac4d3f49ee823160e813e494d17f5d = L.marker(
                [55.94407645, -3.1883735563964555],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_de18f0cbbca8a5a08083af6ec2bf9281 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4d86f97fe48f37ea2eba783e7fcd4ea4 = $(`<div id=&quot;html_4d86f97fe48f37ea2eba783e7fcd4ea4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Edinburgh</div>`)[0];
                popup_de18f0cbbca8a5a08083af6ec2bf9281.setContent(html_4d86f97fe48f37ea2eba783e7fcd4ea4);
            
        

        marker_79ac4d3f49ee823160e813e494d17f5d.bindPopup(popup_de18f0cbbca8a5a08083af6ec2bf9281)
        ;

        
    
    
            var marker_8d9eee7a07ec66af1616288d69c3bc36 = L.marker(
                [48.14701435, 11.575919303007243],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f6079952a70017f9c303b43975de4973 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_15061f3aecd97c4d399ea9e0d5c6a6bb = $(`<div id=&quot;html_15061f3aecd97c4d399ea9e0d5c6a6bb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>LMU Munich</div>`)[0];
                popup_f6079952a70017f9c303b43975de4973.setContent(html_15061f3aecd97c4d399ea9e0d5c6a6bb);
            
        

        marker_8d9eee7a07ec66af1616288d69c3bc36.bindPopup(popup_f6079952a70017f9c303b43975de4973)
        ;

        
    
    
            var marker_95131525aa445af9b7c9cbf6ac36356c = L.marker(
                [46.518659400000004, 6.566561505148001],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_85fd5505041e5ba177ef3cd2af2a2d7b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e68adae239ccd618a3f3b3b95c6fed54 = $(`<div id=&quot;html_e68adae239ccd618a3f3b3b95c6fed54&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique Fédérale de Lausanne</div>`)[0];
                popup_85fd5505041e5ba177ef3cd2af2a2d7b.setContent(html_e68adae239ccd618a3f3b3b95c6fed54);
            
        

        marker_95131525aa445af9b7c9cbf6ac36356c.bindPopup(popup_85fd5505041e5ba177ef3cd2af2a2d7b)
        ;

        
    
    
            var marker_b24ac58cb13ff369f3b55c7903d678cb = L.marker(
                [51.5060001, -0.1121582948025203],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f4317e56d35a5fc57faf721c23780f02 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_33969bbb4055fdb8991357ff790c8537 = $(`<div id=&quot;html_33969bbb4055fdb8991357ff790c8537&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>King’s College London</div>`)[0];
                popup_f4317e56d35a5fc57faf721c23780f02.setContent(html_33969bbb4055fdb8991357ff790c8537);
            
        

        marker_b24ac58cb13ff369f3b55c7903d678cb.bindPopup(popup_f4317e56d35a5fc57faf721c23780f02)
        ;

        
    
    
            var marker_60c255a5fb47ed3338843a5729bffb3e = L.marker(
                [59.219549549999996, 17.94005487275674],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_6e04743e356ea24c5f8cd6294b3f0e89 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_91511d10675a5c7eda438d96dfff5024 = $(`<div id=&quot;html_91511d10675a5c7eda438d96dfff5024&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karolinska Institute</div>`)[0];
                popup_6e04743e356ea24c5f8cd6294b3f0e89.setContent(html_91511d10675a5c7eda438d96dfff5024);
            
        

        marker_60c255a5fb47ed3338843a5729bffb3e.bindPopup(popup_6e04743e356ea24c5f8cd6294b3f0e89)
        ;

        
    
    
            var marker_c9ba8c5640d49f350b23df20477573aa = L.marker(
                [1.3078539, 103.7776795],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_0ca6a8ea56a1f7f0024b171f15c58903 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c172561a508fe20600781ba2eea9c1e = $(`<div id=&quot;html_7c172561a508fe20600781ba2eea9c1e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Munich</div>`)[0];
                popup_0ca6a8ea56a1f7f0024b171f15c58903.setContent(html_7c172561a508fe20600781ba2eea9c1e);
            
        

        marker_c9ba8c5640d49f350b23df20477573aa.bindPopup(popup_0ca6a8ea56a1f7f0024b171f15c58903)
        ;

        
    
    
            var marker_5674b4d4075dba99c9ee8f73a77c3304 = L.marker(
                [41.11442525, -83.16686666639325],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_7a199734e05ef957c86e5474ebf4ae7b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_92d1fd30dd2f9983305a3e26b240cde4 = $(`<div id=&quot;html_92d1fd30dd2f9983305a3e26b240cde4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Heidelberg University</div>`)[0];
                popup_7a199734e05ef957c86e5474ebf4ae7b.setContent(html_92d1fd30dd2f9983305a3e26b240cde4);
            
        

        marker_5674b4d4075dba99c9ee8f73a77c3304.bindPopup(popup_7a199734e05ef957c86e5474ebf4ae7b)
        ;

        
    
    
            var marker_2c91f035018fb97e0ac720690565542e = L.marker(
                [53.4657087, -2.232734319907597],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_cd3ec7bd34b6d957cb016abb09e37fc9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9541d0d9bdc20d83e5d1958638391c81 = $(`<div id=&quot;html_9541d0d9bdc20d83e5d1958638391c81&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Manchester</div>`)[0];
                popup_cd3ec7bd34b6d957cb016abb09e37fc9.setContent(html_9541d0d9bdc20d83e5d1958638391c81);
            
        

        marker_2c91f035018fb97e0ac720690565542e.bindPopup(popup_cd3ec7bd34b6d957cb016abb09e37fc9)
        ;

        
    
    
            var marker_5972ddfc776938a5d811e38544f1fd1a = L.marker(
                [51.99882735, 4.373960368154041],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_2663b071445938aeb0e0fe0b7c8ee8d9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5290519af50784e439b00008229a8ef8 = $(`<div id=&quot;html_5290519af50784e439b00008229a8ef8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Delft University of Technology</div>`)[0];
                popup_2663b071445938aeb0e0fe0b7c8ee8d9.setContent(html_5290519af50784e439b00008229a8ef8);
            
        

        marker_5972ddfc776938a5d811e38544f1fd1a.bindPopup(popup_2663b071445938aeb0e0fe0b7c8ee8d9)
        ;

        
    
    
            var marker_05378a48b96974892c869528a2aa87c6 = L.marker(
                [51.98544495, 5.663212001137484],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_3f916c4f39d9b3a4b66442666158cb59 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_025a53c86a1d4f0806df3a3909a6ce3d = $(`<div id=&quot;html_025a53c86a1d4f0806df3a3909a6ce3d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Wageningen University &amp; Research</div>`)[0];
                popup_3f916c4f39d9b3a4b66442666158cb59.setContent(html_025a53c86a1d4f0806df3a3909a6ce3d);
            
        

        marker_05378a48b96974892c869528a2aa87c6.bindPopup(popup_3f916c4f39d9b3a4b66442666158cb59)
        ;

        
    
    
            var marker_ca146b37dfed8f29358d45d33ae24187 = L.marker(
                [52.36813335, 4.889804155733945],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f45eff1758c7d44f4fb559dfa732e179 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1b7d92261857717101234c74cbe4e817 = $(`<div id=&quot;html_1b7d92261857717101234c74cbe4e817&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Amsterdam</div>`)[0];
                popup_f45eff1758c7d44f4fb559dfa732e179.setContent(html_1b7d92261857717101234c74cbe4e817);
            
        

        marker_ca146b37dfed8f29358d45d33ae24187.bindPopup(popup_f45eff1758c7d44f4fb559dfa732e179)
        ;

        
    
    
            var marker_b843748a859628db40bc0f7d8bd0dc22 = L.marker(
                [52.5185813, 13.39287842853558],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_d23f43319a8334c3b6488f38aea78a87 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6c1ad53b6bddd76f5f344745acfada95 = $(`<div id=&quot;html_6c1ad53b6bddd76f5f344745acfada95&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Humboldt University of Berlin</div>`)[0];
                popup_d23f43319a8334c3b6488f38aea78a87.setContent(html_6c1ad53b6bddd76f5f344745acfada95);
            
        

        marker_b843748a859628db40bc0f7d8bd0dc22.bindPopup(popup_d23f43319a8334c3b6488f38aea78a87)
        ;

        
    
    
            var marker_bd33f86e1a6defe6d820be2533fa1bc9 = L.marker(
                [52.168633850000006, 4.45966305742133],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_c6c2972d294dfc51c571a2e76c9057f6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b59eda55a6bb3d2ad00d8b29466293cb = $(`<div id=&quot;html_b59eda55a6bb3d2ad00d8b29466293cb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Leiden University</div>`)[0];
                popup_c6c2972d294dfc51c571a2e76c9057f6.setContent(html_b59eda55a6bb3d2ad00d8b29466293cb);
            
        

        marker_bd33f86e1a6defe6d820be2533fa1bc9.bindPopup(popup_c6c2972d294dfc51c571a2e76c9057f6)
        ;

        
    
    
            var marker_84218558fc8e361ac0deebf72bfdc304 = L.marker(
                [51.9229171, 4.487612362865811],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_b99950ac83fc65bf12e8f4baeaf6de7b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e2d2371b3bb1c7f728310f8119484936 = $(`<div id=&quot;html_e2d2371b3bb1c7f728310f8119484936&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Erasmus University Rotterdam</div>`)[0];
                popup_b99950ac83fc65bf12e8f4baeaf6de7b.setContent(html_e2d2371b3bb1c7f728310f8119484936);
            
        

        marker_84218558fc8e361ac0deebf72bfdc304.bindPopup(popup_b99950ac83fc65bf12e8f4baeaf6de7b)
        ;

        
    
    
            var marker_7d0bdcc639a021a3e830184a2388e9aa = L.marker(
                [48.846899699999994, 2.357448653115875],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_732f20018f2783c7a641f351f1a3098d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_09c308d5f3ac53ba776593305c816da4 = $(`<div id=&quot;html_09c308d5f3ac53ba776593305c816da4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sorbonne University</div>`)[0];
                popup_732f20018f2783c7a641f351f1a3098d.setContent(html_09c308d5f3ac53ba776593305c816da4);
            
        

        marker_7d0bdcc639a021a3e830184a2388e9aa.bindPopup(popup_732f20018f2783c7a641f351f1a3098d)
        ;

        
    
    
            var marker_95cea31c016bc3a0ef826331bd3c4d4c = L.marker(
                [52.08340265, 5.148315067762755],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_b5686fe2dcc51d9704a645e51817865e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ed00482981aea73aa40c4988aab04dbd = $(`<div id=&quot;html_ed00482981aea73aa40c4988aab04dbd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Utrecht University</div>`)[0];
                popup_b5686fe2dcc51d9704a645e51817865e.setContent(html_ed00482981aea73aa40c4988aab04dbd);
            
        

        marker_95cea31c016bc3a0ef826331bd3c4d4c.bindPopup(popup_b5686fe2dcc51d9704a645e51817865e)
        ;

        
    
    
            var marker_176ac451c9d7ea0a2f8afbd8100f923b = L.marker(
                [46.793058, 7.157106],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_6c33567de614e5627b31a8a9541aee59 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9d1bdcca0a0481e0950575c9d2a5ae14 = $(`<div id=&quot;html_9d1bdcca0a0481e0950575c9d2a5ae14&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Freiburg</div>`)[0];
                popup_6c33567de614e5627b31a8a9541aee59.setContent(html_9d1bdcca0a0481e0950575c9d2a5ae14);
            
        

        marker_176ac451c9d7ea0a2f8afbd8100f923b.bindPopup(popup_6c33567de614e5627b31a8a9541aee59)
        ;

        
    
    
            var marker_9aacc1079159b0e58e3d2dbb4be8151f = L.marker(
                [51.457609649999995, -2.6016348983421755],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_89ce0001391c59aed77ac0d678eda096 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f9cd3c7968ebfa0e5e0a5a8d6d58b01f = $(`<div id=&quot;html_f9cd3c7968ebfa0e5e0a5a8d6d58b01f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bristol</div>`)[0];
                popup_89ce0001391c59aed77ac0d678eda096.setContent(html_f9cd3c7968ebfa0e5e0a5a8d6d58b01f);
            
        

        marker_9aacc1079159b0e58e3d2dbb4be8151f.bindPopup(popup_89ce0001391c59aed77ac0d678eda096)
        ;

        
    
    
            var marker_91cf66a3b9d1e1b8a991e1c09d490dc1 = L.marker(
                [53.21967825, 6.562514810379012],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_08cdb72d91a738cae33e2a72168f2f51 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_500333793593605d27f74b9159790d5c = $(`<div id=&quot;html_500333793593605d27f74b9159790d5c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Groningen</div>`)[0];
                popup_08cdb72d91a738cae33e2a72168f2f51.setContent(html_500333793593605d27f74b9159790d5c);
            
        

        marker_91cf66a3b9d1e1b8a991e1c09d490dc1.bindPopup(popup_08cdb72d91a738cae33e2a72168f2f51)
        ;

        
    
    
            var marker_63a8b9c6c11b809c36271405ee5bf2f7 = L.marker(
                [52.3813073, -1.5639569481637439],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_8e689c769bbc796a924afeb5af595ad7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1d03a2b47ef7e0e54d9362399f8452bd = $(`<div id=&quot;html_1d03a2b47ef7e0e54d9362399f8452bd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Warwick</div>`)[0];
                popup_8e689c769bbc796a924afeb5af595ad7.setContent(html_1d03a2b47ef7e0e54d9362399f8452bd);
            
        

        marker_63a8b9c6c11b809c36271405ee5bf2f7.bindPopup(popup_8e689c769bbc796a924afeb5af595ad7)
        ;

        
    
    
            var marker_55341b5085f1ba1239488b37aad80087 = L.marker(
                [50.7791645, 6.068920971222876],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_e9a8400150147ab407f2100ca0d54b4e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f8a7c2b6b612e5dcbc4a9b9e7800d424 = $(`<div id=&quot;html_f8a7c2b6b612e5dcbc4a9b9e7800d424&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>RWTH Aachen University</div>`)[0];
                popup_e9a8400150147ab407f2100ca0d54b4e.setContent(html_f8a7c2b6b612e5dcbc4a9b9e7800d424);
            
        

        marker_55341b5085f1ba1239488b37aad80087.bindPopup(popup_e9a8400150147ab407f2100ca0d54b4e)
        ;

        
    
    
            var marker_e4bb4692bae5cec8d520f8493cb2fef2 = L.marker(
                [59.8617859, 17.6376705],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_5c9f924819274026d53e6069c781da07 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4c398bf2186f0a146c0d36165e03f83f = $(`<div id=&quot;html_4c398bf2186f0a146c0d36165e03f83f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Uppsala University</div>`)[0];
                popup_5c9f924819274026d53e6069c781da07.setContent(html_4c398bf2186f0a146c0d36165e03f83f);
            
        

        marker_e4bb4692bae5cec8d520f8493cb2fef2.bindPopup(popup_5c9f924819274026d53e6069c781da07)
        ;

        
    
    
            var marker_7a2113e4e0cc1b2cc6e943283463dc05 = L.marker(
                [48.53405945, 9.071244429234808],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_95ce0e6db5fb667624a8e116067a8ef5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a17e5baf94fd59e5996654c4a4850880 = $(`<div id=&quot;html_a17e5baf94fd59e5996654c4a4850880&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Tübingen</div>`)[0];
                popup_95ce0e6db5fb667624a8e116067a8ef5.setContent(html_a17e5baf94fd59e5996654c4a4850880);
            
        

        marker_7a2113e4e0cc1b2cc6e943283463dc05.bindPopup(popup_95ce0e6db5fb667624a8e116067a8ef5)
        ;

        
    
    
            var marker_4ad7b1f3cfc322ded6617e8b235986fe = L.marker(
                [52.5299885, 13.34866394036122],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_b6a78d35009c37d08fe23322f0b88917 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0a273d2bf74c6674881dfe858056243d = $(`<div id=&quot;html_0a273d2bf74c6674881dfe858056243d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Charité - Universitätsmedizin Berlin</div>`)[0];
                popup_b6a78d35009c37d08fe23322f0b88917.setContent(html_0a273d2bf74c6674881dfe858056243d);
            
        

        marker_4ad7b1f3cfc322ded6617e8b235986fe.bindPopup(popup_b6a78d35009c37d08fe23322f0b88917)
        ;

        
    
    
            var marker_bed3d485f5397f589e1d29b08fa4b21e = L.marker(
                [47.49684345, 8.72980716809498],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_e73b82af6664d6dc33588aec8b223762 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9d620754a27a61ed303b48be6e84325e = $(`<div id=&quot;html_9d620754a27a61ed303b48be6e84325e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Zurich</div>`)[0];
                popup_e73b82af6664d6dc33588aec8b223762.setContent(html_9d620754a27a61ed303b48be6e84325e);
            
        

        marker_bed3d485f5397f589e1d29b08fa4b21e.bindPopup(popup_e73b82af6664d6dc33588aec8b223762)
        ;

        
    
    
            var marker_d223bd11dd168ed5307aeeb48833fe0f = L.marker(
                [55.872315349999994, -4.289219112981823],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_2f675ca03424a6565d9f383aeac7b77f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3f8070350ee22a1234e27bbbfdbe899c = $(`<div id=&quot;html_3f8070350ee22a1234e27bbbfdbe899c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Glasgow</div>`)[0];
                popup_2f675ca03424a6565d9f383aeac7b77f.setContent(html_3f8070350ee22a1234e27bbbfdbe899c);
            
        

        marker_d223bd11dd168ed5307aeeb48833fe0f.bindPopup(popup_2f675ca03424a6565d9f383aeac7b77f)
        ;

        
    
    
            var marker_4dbbff8a3cca33b47491ccda8f04460a = L.marker(
                [58.163098500000004, 8.001442632957419],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f40553e0ae6ee364adacd551202199c1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_443d8db3e0b21b1efbb0fefb7cd130ec = $(`<div id=&quot;html_443d8db3e0b21b1efbb0fefb7cd130ec&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lund University</div>`)[0];
                popup_f40553e0ae6ee364adacd551202199c1.setContent(html_443d8db3e0b21b1efbb0fefb7cd130ec);
            
        

        marker_4dbbff8a3cca33b47491ccda8f04460a.bindPopup(popup_f40553e0ae6ee364adacd551202199c1)
        ;

        
    
    
            var marker_3424fff404808674e9f681d2291646b0 = L.marker(
                [60.175648300000006, 24.953550020522073],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_7176fa1e2969ccceeda1f4e00e9cab1a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_edd7b1370c20b566a07639d03dc4b138 = $(`<div id=&quot;html_edd7b1370c20b566a07639d03dc4b138&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Helsinki</div>`)[0];
                popup_7176fa1e2969ccceeda1f4e00e9cab1a.setContent(html_edd7b1370c20b566a07639d03dc4b138);
            
        

        marker_3424fff404808674e9f681d2291646b0.bindPopup(popup_7176fa1e2969ccceeda1f4e00e9cab1a)
        ;

        
    
    
            var marker_966af6c7ef5a970654495873d97860ed = L.marker(
                [47.56174235, 7.58285513707386],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_519f27590ab61508d7ea4b733144acfb = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4d5d2e8ff5d0986f127ff1aeffed2139 = $(`<div id=&quot;html_4d5d2e8ff5d0986f127ff1aeffed2139&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Basel</div>`)[0];
                popup_519f27590ab61508d7ea4b733144acfb.setContent(html_4d5d2e8ff5d0986f127ff1aeffed2139);
            
        

        marker_966af6c7ef5a970654495873d97860ed.bindPopup(popup_519f27590ab61508d7ea4b733144acfb)
        ;

        
    
    
            var marker_2fc571bfc21e2279a06522e23984b4da = L.marker(
                [53.3815327, -1.4806602],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_39b9c2b315987e5f2cc2a6f4d8bf27b0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_79fa467f1daecde5f34c47d66397c6ca = $(`<div id=&quot;html_79fa467f1daecde5f34c47d66397c6ca&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sheffield</div>`)[0];
                popup_39b9c2b315987e5f2cc2a6f4d8bf27b0.setContent(html_79fa467f1daecde5f34c47d66397c6ca);
            
        

        marker_2fc571bfc21e2279a06522e23984b4da.bindPopup(popup_39b9c2b315987e5f2cc2a6f4d8bf27b0)
        ;

        
    
    
            var marker_85dfee21235e10ad84e4438b36022b8a = L.marker(
                [48.7127874, 2.2107453],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_fc4ab87697f39a8a0835accfa0af0979 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d81f4b6d6cf980866a5ac71c53315110 = $(`<div id=&quot;html_d81f4b6d6cf980866a5ac71c53315110&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>École Polytechnique</div>`)[0];
                popup_fc4ab87697f39a8a0835accfa0af0979.setContent(html_d81f4b6d6cf980866a5ac71c53315110);
            
        

        marker_85dfee21235e10ad84e4438b36022b8a.bindPopup(popup_fc4ab87697f39a8a0835accfa0af0979)
        ;

        
    
    
            var marker_928b18f79b74d4e1d6fd35f2b45a53af = L.marker(
                [46.95097255, 7.438684130809055],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_a122e779c4a5526131aab411e3e07b31 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fc99243a48fef1d5e1592023ece52c6e = $(`<div id=&quot;html_fc99243a48fef1d5e1592023ece52c6e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bern</div>`)[0];
                popup_a122e779c4a5526131aab411e3e07b31.setContent(html_fc99243a48fef1d5e1592023ece52c6e);
            
        

        marker_928b18f79b74d4e1d6fd35f2b45a53af.bindPopup(popup_a122e779c4a5526131aab411e3e07b31)
        ;

        
    
    
            var marker_2b443e44009753577e168b52b5c42c15 = L.marker(
                [50.7338124, 7.1022465],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_02cdc671fb779e2ced8f51f77b95e1f9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8b45a2a6a347646aa4024fb62ed8005c = $(`<div id=&quot;html_8b45a2a6a347646aa4024fb62ed8005c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bonn</div>`)[0];
                popup_02cdc671fb779e2ced8f51f77b95e1f9.setContent(html_8b45a2a6a347646aa4024fb62ed8005c);
            
        

        marker_2b443e44009753577e168b52b5c42c15.bindPopup(popup_02cdc671fb779e2ced8f51f77b95e1f9)
        ;

        
    
    
            var marker_e14b291d00e830b7aebb1fbcad58f705 = L.marker(
                [54.9027916, -1.392096],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_b9356271e14e32bf253d47b7797de403 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_67cbefc279d371920715525d162cf2c5 = $(`<div id=&quot;html_67cbefc279d371920715525d162cf2c5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Durham University</div>`)[0];
                popup_b9356271e14e32bf253d47b7797de403.setContent(html_67cbefc279d371920715525d162cf2c5);
            
        

        marker_e14b291d00e830b7aebb1fbcad58f705.bindPopup(popup_b9356271e14e32bf253d47b7797de403)
        ;

        
    
    
            var marker_47d881c594b5b5abf996403fb2db256e = L.marker(
                [52.4522956, -1.9312856726008194],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_5014df5bdcb837aa72d0516e8a082286 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d5f4a4a7b03d3bb4bc0841e504f6b597 = $(`<div id=&quot;html_d5f4a4a7b03d3bb4bc0841e504f6b597&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Birmingham</div>`)[0];
                popup_5014df5bdcb837aa72d0516e8a082286.setContent(html_d5f4a4a7b03d3bb4bc0841e504f6b597);
            
        

        marker_47d881c594b5b5abf996403fb2db256e.bindPopup(popup_5014df5bdcb837aa72d0516e8a082286)
        ;

        
    
    
            var marker_2375e80bd505a995ff80df3023a753a9 = L.marker(
                [55.6801502, 12.57232700140625],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_45394f31254c156c9998f0b05e5cf1fe = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c5296990146ea3979d32185c7080fafd = $(`<div id=&quot;html_c5296990146ea3979d32185c7080fafd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Copenhagen</div>`)[0];
                popup_45394f31254c156c9998f0b05e5cf1fe.setContent(html_c5296990146ea3979d32185c7080fafd);
            
        

        marker_2375e80bd505a995ff80df3023a753a9.bindPopup(popup_45394f31254c156c9998f0b05e5cf1fe)
        ;

        
    
    
            var marker_605ec5cfaf9494b1dc1cff98b27813a0 = L.marker(
                [50.9354752, -1.3962847494297244],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_9f1fd1d7ec8f5c89d6c33123ce7f22ab = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e442709bc85c6eb1d1598679553f05d8 = $(`<div id=&quot;html_e442709bc85c6eb1d1598679553f05d8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Southampton</div>`)[0];
                popup_9f1fd1d7ec8f5c89d6c33123ce7f22ab.setContent(html_e442709bc85c6eb1d1598679553f05d8);
            
        

        marker_605ec5cfaf9494b1dc1cff98b27813a0.bindPopup(popup_9f1fd1d7ec8f5c89d6c33123ce7f22ab)
        ;

        
    
    
            var marker_f4981ffa78b70208ebd9889b01f82550 = L.marker(
                [53.9453903, -1.0314592943104675],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_17717016247628e5447ef9d59e91a264 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6270efb23edcbe12f225b6686278ad6b = $(`<div id=&quot;html_6270efb23edcbe12f225b6686278ad6b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of York</div>`)[0];
                popup_17717016247628e5447ef9d59e91a264.setContent(html_6270efb23edcbe12f225b6686278ad6b);
            
        

        marker_f4981ffa78b70208ebd9889b01f82550.bindPopup(popup_17717016247628e5447ef9d59e91a264)
        ;

        
    
    
            var marker_f252bec60a452513115f2e644256669b = L.marker(
                [53.34366745, -6.254444724511822],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_f809e453049775df9e9da65834258937 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_162191818205ae4d759bcbfb67861371 = $(`<div id=&quot;html_162191818205ae4d759bcbfb67861371&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Trinity College Dublin</div>`)[0];
                popup_f809e453049775df9e9da65834258937.setContent(html_162191818205ae4d759bcbfb67861371);
            
        

        marker_f252bec60a452513115f2e644256669b.bindPopup(popup_f809e453049775df9e9da65834258937)
        ;

        
    
    
            var marker_4095b433d6d2a2245954cbd64e63902e = L.marker(
                [59.9414173, 10.722768340750914],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_4d5b8068f8f33ce5bc0f510426051d37 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_97b4fa382209f8046bee174afe888322 = $(`<div id=&quot;html_97b4fa382209f8046bee174afe888322&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Oslo</div>`)[0];
                popup_4d5b8068f8f33ce5bc0f510426051d37.setContent(html_97b4fa382209f8046bee174afe888322);
            
        

        marker_4095b433d6d2a2245954cbd64e63902e.bindPopup(popup_4d5b8068f8f33ce5bc0f510426051d37)
        ;

        
    
    
            var marker_ffdd74ca41b931298d0940b94fd0e044 = L.marker(
                [56.1670905, 10.202617693592895],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_8d45c10ac10d61eace1d43fb9eb59fd7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8ee3e581e1bbe015ac0923ccb21bdff1 = $(`<div id=&quot;html_8ee3e581e1bbe015ac0923ccb21bdff1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aarhus University</div>`)[0];
                popup_8d45c10ac10d61eace1d43fb9eb59fd7.setContent(html_8ee3e581e1bbe015ac0923ccb21bdff1);
            
        

        marker_ffdd74ca41b931298d0940b94fd0e044.bindPopup(popup_8d45c10ac10d61eace1d43fb9eb59fd7)
        ;

        
    
    
            var marker_dcdb4c29f31ff0d36884090dc786bccb = L.marker(
                [51.5411003, 9.948200846079496],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_109d5a8878865b7c8ce50fbd5a0aadc5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c4a7236c9273f0ce756042309ecadee8 = $(`<div id=&quot;html_c4a7236c9273f0ce756042309ecadee8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Göttingen</div>`)[0];
                popup_109d5a8878865b7c8ce50fbd5a0aadc5.setContent(html_c4a7236c9273f0ce756042309ecadee8);
            
        

        marker_dcdb4c29f31ff0d36884090dc786bccb.bindPopup(popup_109d5a8878865b7c8ce50fbd5a0aadc5)
        ;

        
    
    
            var marker_197ae638fe6515a78b9be9f5dddcbdfb = L.marker(
                [49.4699765, 8.4819024],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_a4488d328a086d49f060c025da933be4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5c5f8cd3aa438b927be623637205d71a = $(`<div id=&quot;html_5c5f8cd3aa438b927be623637205d71a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Mannheim</div>`)[0];
                popup_a4488d328a086d49f060c025da933be4.setContent(html_5c5f8cd3aa438b927be623637205d71a);
            
        

        marker_197ae638fe6515a78b9be9f5dddcbdfb.bindPopup(popup_a4488d328a086d49f060c025da933be4)
        ;

        
    
    
            var marker_5cb38ee712fc26acf705496de9e4feee = L.marker(
                [51.82151725, 5.863403442541042],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_7727bda6ff7303a16a6ed35fc478ea64 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7014d0a7bd695dc70848fbd8790095bc = $(`<div id=&quot;html_7014d0a7bd695dc70848fbd8790095bc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Radboud University Nijmegen</div>`)[0];
                popup_7727bda6ff7303a16a6ed35fc478ea64.setContent(html_7014d0a7bd695dc70848fbd8790095bc);
            
        

        marker_5cb38ee712fc26acf705496de9e4feee.bindPopup(popup_7727bda6ff7303a16a6ed35fc478ea64)
        ;

        
    
    
            var marker_0456b3aac32d71251a80c1389fd72acf = L.marker(
                [50.821259999999995, 4.349652894133002],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_70a272787a0948bfb3673c18c28b786e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7585bab2d756dccd84bff8abdfd805fa = $(`<div id=&quot;html_7585bab2d756dccd84bff8abdfd805fa&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Université Catholique de Louvain</div>`)[0];
                popup_70a272787a0948bfb3673c18c28b786e.setContent(html_7585bab2d756dccd84bff8abdfd805fa);
            
        

        marker_0456b3aac32d71251a80c1389fd72acf.bindPopup(popup_70a272787a0948bfb3673c18c28b786e)
        ;

        
    
    
            var marker_5a99c69c2f1d9d9d1bb1bb24147aa5da = L.marker(
                [50.84720265, 5.685941396293034],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_718ee3eb290a3dd997fcbc81b11f216c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2f0e192354047867523b0df7778edf8b = $(`<div id=&quot;html_2f0e192354047867523b0df7778edf8b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Maastricht University</div>`)[0];
                popup_718ee3eb290a3dd997fcbc81b11f216c.setContent(html_2f0e192354047867523b0df7778edf8b);
            
        

        marker_5a99c69c2f1d9d9d1bb1bb24147aa5da.bindPopup(popup_718ee3eb290a3dd997fcbc81b11f216c)
        ;

        
    
    
            var marker_b6d53026ec2a5addf5cd43886da52643 = L.marker(
                [51.5247272, -0.03931034663016243],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_35f4e29b776846c5811bb8ade5493a53 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_34ea535360606e8833b375762de7bd52 = $(`<div id=&quot;html_34ea535360606e8833b375762de7bd52&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Queen Mary University of London</div>`)[0];
                popup_35f4e29b776846c5811bb8ade5493a53.setContent(html_34ea535360606e8833b375762de7bd52);
            
        

        marker_b6d53026ec2a5addf5cd43886da52643.bindPopup(popup_35f4e29b776846c5811bb8ade5493a53)
        ;

        
    
    
            var marker_6b104c601862aa577c3d24f0a00c3765 = L.marker(
                [42.6126851, -88.4805318],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_add49f73c2410b22c7949225b424a46f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5f5de84cf96751950cef1bac2a821905 = $(`<div id=&quot;html_5f5de84cf96751950cef1bac2a821905&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Geneva</div>`)[0];
                popup_add49f73c2410b22c7949225b424a46f.setContent(html_5f5de84cf96751950cef1bac2a821905);
            
        

        marker_6b104c601862aa577c3d24f0a00c3765.bindPopup(popup_add49f73c2410b22c7949225b424a46f)
        ;

        
    
    
            var marker_6d3032836fedeca33a6eb7adc09c30dc = L.marker(
                [53.5641091, 9.994978875267606],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_d07c413777b6582668882eb92e7c3afd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a97a3c9d7b87712f073630bc2098f33f = $(`<div id=&quot;html_a97a3c9d7b87712f073630bc2098f33f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Hamburg</div>`)[0];
                popup_d07c413777b6582668882eb92e7c3afd.setContent(html_a97a3c9d7b87712f073630bc2098f33f);
            
        

        marker_6d3032836fedeca33a6eb7adc09c30dc.bindPopup(popup_d07c413777b6582668882eb92e7c3afd)
        ;

        
    
    
            var marker_ed8a344b25fc1e1fe8ad6bef0d7900ff = L.marker(
                [49.101853399999996, 8.433120159201868],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_4680a8a485027d6739ca76f7ec4cdab5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7307dc3a72938f31da21c7024d591ae8 = $(`<div id=&quot;html_7307dc3a72938f31da21c7024d591ae8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Karlsruhe Institute of Technology</div>`)[0];
                popup_4680a8a485027d6739ca76f7ec4cdab5.setContent(html_7307dc3a72938f31da21c7024d591ae8);
            
        

        marker_ed8a344b25fc1e1fe8ad6bef0d7900ff.bindPopup(popup_4680a8a485027d6739ca76f7ec4cdab5)
        ;

        
    
    
            var marker_68f62d73491818bb1aed21371f8c3950 = L.marker(
                [50.73693715, -3.534734858662963],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_af2b666123a5b8b600442c209476dfe9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c5ee6b7e64c21179228dc9becce9eae2 = $(`<div id=&quot;html_c5ee6b7e64c21179228dc9becce9eae2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Exeter</div>`)[0];
                popup_af2b666123a5b8b600442c209476dfe9.setContent(html_c5ee6b7e64c21179228dc9becce9eae2);
            
        

        marker_68f62d73491818bb1aed21371f8c3950.bindPopup(popup_af2b666123a5b8b600442c209476dfe9)
        ;

        
    
    
            var marker_345de4d72e12a41d686947c608a9e978 = L.marker(
                [51.00784845, 3.710883068491984],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_8a49cd2e378f19cce878e17885c5183b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d9b5b1046044c49fe37398bdff8c484d = $(`<div id=&quot;html_d9b5b1046044c49fe37398bdff8c484d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ghent University</div>`)[0];
                popup_8a49cd2e378f19cce878e17885c5183b.setContent(html_d9b5b1046044c49fe37398bdff8c484d);
            
        

        marker_345de4d72e12a41d686947c608a9e978.bindPopup(popup_8a49cd2e378f19cce878e17885c5183b)
        ;

        
    
    
            var marker_17e53f5928e8d79191da7a4d18970305 = L.marker(
                [48.2131284, 16.360685994114505],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_0491311c74a04ae9ee54e36c26611c45 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f28bd8e912b5572289481bf36caeebf2 = $(`<div id=&quot;html_f28bd8e912b5572289481bf36caeebf2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Vienna</div>`)[0];
                popup_0491311c74a04ae9ee54e36c26611c45.setContent(html_f28bd8e912b5572289481bf36caeebf2);
            
        

        marker_17e53f5928e8d79191da7a4d18970305.bindPopup(popup_0491311c74a04ae9ee54e36c26611c45)
        ;

        
    
    
            var marker_098eb9c4883e647e2aeda9bf1dd16988 = L.marker(
                [50.928044549999996, 6.928130514523661],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_835d98a824b4d28e86680227e905dcf6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_26e3b5d9fb37ceca2917b309fdcba1ac = $(`<div id=&quot;html_26e3b5d9fb37ceca2917b309fdcba1ac&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Cologne</div>`)[0];
                popup_835d98a824b4d28e86680227e905dcf6.setContent(html_26e3b5d9fb37ceca2917b309fdcba1ac);
            
        

        marker_098eb9c4883e647e2aeda9bf1dd16988.bindPopup(popup_835d98a824b4d28e86680227e905dcf6)
        ;

        
    
    
            var marker_0263395ad92e169c334bc8e6fcb80ec1 = L.marker(
                [54.00975365, -2.7875727317728654],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_42f3aac5456ebc2cd4974c93dce360f2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b7bbf2ca1b90b1c1ba852b582ddf1524 = $(`<div id=&quot;html_b7bbf2ca1b90b1c1ba852b582ddf1524&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lancaster University</div>`)[0];
                popup_42f3aac5456ebc2cd4974c93dce360f2.setContent(html_b7bbf2ca1b90b1c1ba852b582ddf1524);
            
        

        marker_0263395ad92e169c334bc8e6fcb80ec1.bindPopup(popup_42f3aac5456ebc2cd4974c93dce360f2)
        ;

        
    
    
            var marker_a94b4067fb2fbad955108c76db21b606 = L.marker(
                [52.9387428, -1.2002956927457427],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_b0f88e49f7105f7e720f5f3906949bc3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7ae1adfaf2a11f4e8dae1d26514a3541 = $(`<div id=&quot;html_7ae1adfaf2a11f4e8dae1d26514a3541&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Nottingham</div>`)[0];
                popup_b0f88e49f7105f7e720f5f3906949bc3.setContent(html_7ae1adfaf2a11f4e8dae1d26514a3541);
            
        

        marker_a94b4067fb2fbad955108c76db21b606.bindPopup(popup_b0f88e49f7105f7e720f5f3906949bc3)
        ;

        
    
    
            var marker_0c419e7fb27b84e242c7071e44e13a5e = L.marker(
                [48.38044334999999, 10.010101151636224],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_2a1fd6240bb7adda05ea1ddad3f09543 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_571328d95c8f6e429b84eb57fdabbd8a = $(`<div id=&quot;html_571328d95c8f6e429b84eb57fdabbd8a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ulm University</div>`)[0];
                popup_2a1fd6240bb7adda05ea1ddad3f09543.setContent(html_571328d95c8f6e429b84eb57fdabbd8a);
            
        

        marker_0c419e7fb27b84e242c7071e44e13a5e.bindPopup(popup_2a1fd6240bb7adda05ea1ddad3f09543)
        ;

        
    
    
            var marker_0266e82d9a0f1109179e422e1f9e386e = L.marker(
                [51.028276500000004, 13.735982754935176],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_59776bea80c43667a18e0c63717d2b27 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d5a15ba75b3ba5bfa02a87fef4c5dddd = $(`<div id=&quot;html_d5a15ba75b3ba5bfa02a87fef4c5dddd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>TU Dresden</div>`)[0];
                popup_59776bea80c43667a18e0c63717d2b27.setContent(html_d5a15ba75b3ba5bfa02a87fef4c5dddd);
            
        

        marker_0266e82d9a0f1109179e422e1f9e386e.bindPopup(popup_59776bea80c43667a18e0c63717d2b27)
        ;

        
    
    
            var marker_1ecdf999622789960ac526683b185ef5 = L.marker(
                [53.80677435, -1.5562877504739676],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_14dec2576e07e37f5e8256c7c6bc34df = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_476a40b1a1a50c5f7e1efc451c06b601 = $(`<div id=&quot;html_476a40b1a1a50c5f7e1efc451c06b601&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leeds</div>`)[0];
                popup_14dec2576e07e37f5e8256c7c6bc34df.setContent(html_476a40b1a1a50c5f7e1efc451c06b601);
            
        

        marker_1ecdf999622789960ac526683b185ef5.bindPopup(popup_14dec2576e07e37f5e8256c7c6bc34df)
        ;

        
    
    
            var marker_78b86bfca084c18747baa2bf8517a044 = L.marker(
                [43.7206078, 10.4026444],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_ef14256bed2b04b1c77879fc76c4ad65 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_670cd8a9b1e66c4ab9961913ea80c974 = $(`<div id=&quot;html_670cd8a9b1e66c4ab9961913ea80c974&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Superiore Sant’Anna</div>`)[0];
                popup_ef14256bed2b04b1c77879fc76c4ad65.setContent(html_670cd8a9b1e66c4ab9961913ea80c974);
            
        

        marker_78b86bfca084c18747baa2bf8517a044.bindPopup(popup_ef14256bed2b04b1c77879fc76c4ad65)
        ;

        
    
    
            var marker_6eace4ff883f82f892a80a5b28ddcfb4 = L.marker(
                [59.363333600000004, 18.05879425982729],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_10550cad851f8693c0a4f780ee978447 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a730a49d3eb08a894b1d1acc1f4eb683 = $(`<div id=&quot;html_a730a49d3eb08a894b1d1acc1f4eb683&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Stockholm University</div>`)[0];
                popup_10550cad851f8693c0a4f780ee978447.setContent(html_a730a49d3eb08a894b1d1acc1f4eb683);
            
        

        marker_6eace4ff883f82f892a80a5b28ddcfb4.bindPopup(popup_10550cad851f8693c0a4f780ee978447)
        ;

        
    
    
            var marker_2fa22522f48ef9e2807be174ecf4b636 = L.marker(
                [57.16452475, -2.1018363546621197],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_3380a17614bd747cb4c51cb044de9321 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_27351c7d736b75f29940b5bc0a3a15d2 = $(`<div id=&quot;html_27351c7d736b75f29940b5bc0a3a15d2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Aberdeen</div>`)[0];
                popup_3380a17614bd747cb4c51cb044de9321.setContent(html_27351c7d736b75f29940b5bc0a3a15d2);
            
        

        marker_2fa22522f48ef9e2807be174ecf4b636.bindPopup(popup_3380a17614bd747cb4c51cb044de9321)
        ;

        
    
    
            var marker_c61080e57b8ed6ee9207e1f9829ee4d9 = L.marker(
                [43.7196687, 10.400432749413179],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_3b026375e0f805c63fa1604bd4ae1b90 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cf65f2ba30b6daf38121344d380b917b = $(`<div id=&quot;html_cf65f2ba30b6daf38121344d380b917b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Scuola Normale Superiore di Pisa</div>`)[0];
                popup_3b026375e0f805c63fa1604bd4ae1b90.setContent(html_cf65f2ba30b6daf38121344d380b917b);
            
        

        marker_c61080e57b8ed6ee9207e1f9829ee4d9.bindPopup(popup_3b026375e0f805c63fa1604bd4ae1b90)
        ;

        
    
    
            var marker_2f8a206229a54105dd62f3bbed487634 = L.marker(
                [50.86796665, -0.08778899363132905],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_5baed914a3ee90c10c5ac187aa9e3d97 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4866b6e007b53e5817c1c74afaa052de = $(`<div id=&quot;html_4866b6e007b53e5817c1c74afaa052de&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Sussex</div>`)[0];
                popup_5baed914a3ee90c10c5ac187aa9e3d97.setContent(html_4866b6e007b53e5817c1c74afaa052de);
            
        

        marker_2f8a206229a54105dd62f3bbed487634.bindPopup(popup_5baed914a3ee90c10c5ac187aa9e3d97)
        ;

        
    
    
            var marker_2ed91719121c21c9135df2162389b2ba = L.marker(
                [55.785414450000005, 12.520215144442094],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_714151beebfc367f79c6209d83adeabc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_39cd05f92986dab43ba0ae3843e6a494 = $(`<div id=&quot;html_39cd05f92986dab43ba0ae3843e6a494&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Technical University of Denmark</div>`)[0];
                popup_714151beebfc367f79c6209d83adeabc.setContent(html_39cd05f92986dab43ba0ae3843e6a494);
            
        

        marker_2ed91719121c21c9135df2162389b2ba.bindPopup(popup_714151beebfc367f79c6209d83adeabc)
        ;

        
    
    
            var marker_1e34d48bf98eebfce952e225dff9cc31 = L.marker(
                [56.3398198, -2.8117937053149826],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_227914e7caba4ebe36c858b083143ea9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bc7125b072c2134c23b5e14126824630 = $(`<div id=&quot;html_bc7125b072c2134c23b5e14126824630&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of St Andrews</div>`)[0];
                popup_227914e7caba4ebe36c858b083143ea9.setContent(html_bc7125b072c2134c23b5e14126824630);
            
        

        marker_1e34d48bf98eebfce952e225dff9cc31.bindPopup(popup_227914e7caba4ebe36c858b083143ea9)
        ;

        
    
    
            var marker_d1e3795cefe25fe2230a79ccefe9c862 = L.marker(
                [52.33396225, 4.865196500737312],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_66ec2f5f3b24b469df708f1e65f5988a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_022623fd28e79bc5a248277ac9d850f9 = $(`<div id=&quot;html_022623fd28e79bc5a248277ac9d850f9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Vrije Universiteit Amsterdam</div>`)[0];
                popup_66ec2f5f3b24b469df708f1e65f5988a.setContent(html_022623fd28e79bc5a248277ac9d850f9);
            
        

        marker_d1e3795cefe25fe2230a79ccefe9c862.bindPopup(popup_66ec2f5f3b24b469df708f1e65f5988a)
        ;

        
    
    
            var marker_37198b474966d164ef2d9c84d190935d = L.marker(
                [51.4486602, 5.4903995655080475],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_31995393165aa4ac3fa848420f243a6b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6c77c5323dc0f2fc6a7be117258eea7c = $(`<div id=&quot;html_6c77c5323dc0f2fc6a7be117258eea7c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Eindhoven University of Technology</div>`)[0];
                popup_31995393165aa4ac3fa848420f243a6b.setContent(html_6c77c5323dc0f2fc6a7be117258eea7c);
            
        

        marker_37198b474966d164ef2d9c84d190935d.bindPopup(popup_31995393165aa4ac3fa848420f243a6b)
        ;

        
    
    
            var marker_eb5fd4ab96865d390254cc89ddf5e715 = L.marker(
                [52.62446355, -1.1257301398551323],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_d957bb2b53834366d045e2126afc8585 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6bd22472590e5a93b436c25635cef221 = $(`<div id=&quot;html_6bd22472590e5a93b436c25635cef221&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Leicester</div>`)[0];
                popup_d957bb2b53834366d045e2126afc8585.setContent(html_6bd22472590e5a93b436c25635cef221);
            
        

        marker_eb5fd4ab96865d390254cc89ddf5e715.bindPopup(popup_d957bb2b53834366d045e2126afc8585)
        ;

        
    
    
            var marker_6c24ab4cfb31b4c7c1141d8e1229d52b = L.marker(
                [54.98017505, -1.6146802127187847],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_886d58779feac2d6f6889e1532c77841 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_847beab8673ea38c4fadad0a2c7197dc = $(`<div id=&quot;html_847beab8673ea38c4fadad0a2c7197dc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Newcastle University</div>`)[0];
                popup_886d58779feac2d6f6889e1532c77841.setContent(html_847beab8673ea38c4fadad0a2c7197dc);
            
        

        marker_6c24ab4cfb31b4c7c1141d8e1229d52b.bindPopup(popup_886d58779feac2d6f6889e1532c77841)
        ;

        
    
    
            var marker_d997c802f2f4bf2465abad00fb9bff64 = L.marker(
                [46.5225695, 6.580949860268587],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_87c5a129c5cf514a51d0bc1509547ca0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_538ba179fdea6718b5800be18777007e = $(`<div id=&quot;html_538ba179fdea6718b5800be18777007e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Lausanne</div>`)[0];
                popup_87c5a129c5cf514a51d0bc1509547ca0.setContent(html_538ba179fdea6718b5800be18777007e);
            
        

        marker_d997c802f2f4bf2465abad00fb9bff64.bindPopup(popup_87c5a129c5cf514a51d0bc1509547ca0)
        ;

        
    
    
            var marker_345ccc54dceff067f7551b346d861def = L.marker(
                [60.1860789, 24.828102074406736],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_522550430a2c2919db71590a94e8d77c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_dcfd576306c0a2fd93ee520d55c66707 = $(`<div id=&quot;html_dcfd576306c0a2fd93ee520d55c66707&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalto University</div>`)[0];
                popup_522550430a2c2919db71590a94e8d77c.setContent(html_dcfd576306c0a2fd93ee520d55c66707);
            
        

        marker_345ccc54dceff067f7551b346d861def.bindPopup(popup_522550430a2c2919db71590a94e8d77c)
        ;

        
    
    
            var marker_4e8ac16b57948e3524f43facaecd8732 = L.marker(
                [53.40724285, -2.965833661018871],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_adb6a64f11119138b4b5c460c759502e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d06d44c9ad0152f9e41733e356ce5597 = $(`<div id=&quot;html_d06d44c9ad0152f9e41733e356ce5597&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Liverpool</div>`)[0];
                popup_adb6a64f11119138b4b5c460c759502e.setContent(html_d06d44c9ad0152f9e41733e356ce5597);
            
        

        marker_4e8ac16b57948e3524f43facaecd8732.bindPopup(popup_adb6a64f11119138b4b5c460c759502e)
        ;

        
    
    
            var marker_f7c19bef8991974422f0f7dc9b6fad40 = L.marker(
                [51.96734215, 7.599243326272159],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_38608848928d1c314f3207eb0ffdb20a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_23b7199352aa4dbebc665a3c2413d28f = $(`<div id=&quot;html_23b7199352aa4dbebc665a3c2413d28f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Münster</div>`)[0];
                popup_38608848928d1c314f3207eb0ffdb20a.setContent(html_23b7199352aa4dbebc665a3c2413d28f);
            
        

        marker_f7c19bef8991974422f0f7dc9b6fad40.bindPopup(popup_38608848928d1c314f3207eb0ffdb20a)
        ;

        
    
    
            var marker_3f1c51e67c70f4acc29a8cbf5c686d36 = L.marker(
                [52.2233862, 6.8854239028157],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_4a1fe26c25624f42407e08b61a654679 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fcbba047cfffb56db36500c8061ae4bb = $(`<div id=&quot;html_fcbba047cfffb56db36500c8061ae4bb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Twente</div>`)[0];
                popup_4a1fe26c25624f42407e08b61a654679.setContent(html_fcbba047cfffb56db36500c8061ae4bb);
            
        

        marker_3f1c51e67c70f4acc29a8cbf5c686d36.bindPopup(popup_4a1fe26c25624f42407e08b61a654679)
        ;

        
    
    
            var marker_3be9c60ba395fd684472f3283e6c5a16 = L.marker(
                [51.48402915, -3.1697633635952807],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_e3bd62e31a494265db905f74fc7768b5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2376d44e52720f96f66dcb0ad88d7db2 = $(`<div id=&quot;html_2376d44e52720f96f66dcb0ad88d7db2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Cardiff University</div>`)[0];
                popup_e3bd62e31a494265db905f74fc7768b5.setContent(html_2376d44e52720f96f66dcb0ad88d7db2);
            
        

        marker_3be9c60ba395fd684472f3283e6c5a16.bindPopup(popup_e3bd62e31a494265db905f74fc7768b5)
        ;

        
    
    
            var marker_d6a88c8438a2315ec26434680e985cf4 = L.marker(
                [59.2016758, 17.6203201],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_dd33e177ce5d16f17498bff048dfb353 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d82a4a193002aa0f9b12fafdc5bec1e3 = $(`<div id=&quot;html_d82a4a193002aa0f9b12fafdc5bec1e3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>KTH Royal Institute of Technology</div>`)[0];
                popup_dd33e177ce5d16f17498bff048dfb353.setContent(html_d82a4a193002aa0f9b12fafdc5bec1e3);
            
        

        marker_d6a88c8438a2315ec26434680e985cf4.bindPopup(popup_dd33e177ce5d16f17498bff048dfb353)
        ;

        
    
    
            var marker_f3ae9f13f69572672b7dd09c79e6829a = L.marker(
                [47.690088599999996, 9.188243876500252],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_109353014fa266f182bbb131a84b87a4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_57a8a5dbac8a40d4ae2cc5dfdc87c55e = $(`<div id=&quot;html_57a8a5dbac8a40d4ae2cc5dfdc87c55e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Konstanz</div>`)[0];
                popup_109353014fa266f182bbb131a84b87a4.setContent(html_57a8a5dbac8a40d4ae2cc5dfdc87c55e);
            
        

        marker_f3ae9f13f69572672b7dd09c79e6829a.bindPopup(popup_109353014fa266f182bbb131a84b87a4)
        ;

        
    
    
            var marker_46c7ad6b6f8a5989446a21f194f4c2fd = L.marker(
                [51.4290899, 6.8008580326401],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_3d0066f51e7343890d3128d1a41c0204 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cca7bec525cbad415c168c7fca585ed9 = $(`<div id=&quot;html_cca7bec525cbad415c168c7fca585ed9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Duisburg-Essen</div>`)[0];
                popup_3d0066f51e7343890d3128d1a41c0204.setContent(html_cca7bec525cbad415c168c7fca585ed9);
            
        

        marker_46c7ad6b6f8a5989446a21f194f4c2fd.bindPopup(popup_3d0066f51e7343890d3128d1a41c0204)
        ;

        
    
    
            var marker_76249a2d2658bebcb800aed802e3ccd6 = L.marker(
                [52.622251, 1.2411579],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_0c9e6d04a648ac6e30f06262b2600ac8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d4c88a5d388d7eb40ef0398119c95131 = $(`<div id=&quot;html_d4c88a5d388d7eb40ef0398119c95131&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of East Anglia</div>`)[0];
                popup_0c9e6d04a648ac6e30f06262b2600ac8.setContent(html_d4c88a5d388d7eb40ef0398119c95131);
            
        

        marker_76249a2d2658bebcb800aed802e3ccd6.bindPopup(popup_0c9e6d04a648ac6e30f06262b2600ac8)
        ;

        
    
    
            var marker_73bbaa5ad883fd64911be09b2ca7b38c = L.marker(
                [57.015907049999996, 9.975308243557345],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_d3ad665c870d141b858cb268c1eacde7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_17a2db9c36fb666d8422256a459563d4 = $(`<div id=&quot;html_17a2db9c36fb666d8422256a459563d4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Aalborg University</div>`)[0];
                popup_d3ad665c870d141b858cb268c1eacde7.setContent(html_17a2db9c36fb666d8422256a459563d4);
            
        

        marker_73bbaa5ad883fd64911be09b2ca7b38c.bindPopup(popup_d3ad665c870d141b858cb268c1eacde7)
        ;

        
    
    
            var marker_88659a394417c59da57752ba6cf41864 = L.marker(
                [60.36887575, 5.351111541486731],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_84838fd8bdce3bc0b1ffc5ea92bea478 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b49736a0aa5ad261920516ae210e1216 = $(`<div id=&quot;html_b49736a0aa5ad261920516ae210e1216&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Bergen</div>`)[0];
                popup_84838fd8bdce3bc0b1ffc5ea92bea478.setContent(html_b49736a0aa5ad261920516ae210e1216);
            
        

        marker_88659a394417c59da57752ba6cf41864.bindPopup(popup_84838fd8bdce3bc0b1ffc5ea92bea478)
        ;

        
    
    
            var marker_325f74b86f1c59bfd57e106b6b0461d1 = L.marker(
                [55.7055406, 37.5360595],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_a9cd17ba1db4a3060d18b16806cde2e6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_46a8abae4233342c405c6832c3a0896f = $(`<div id=&quot;html_46a8abae4233342c405c6832c3a0896f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Lomonosov Moscow State University</div>`)[0];
                popup_a9cd17ba1db4a3060d18b16806cde2e6.setContent(html_46a8abae4233342c405c6832c3a0896f);
            
        

        marker_325f74b86f1c59bfd57e106b6b0461d1.bindPopup(popup_a9cd17ba1db4a3060d18b16806cde2e6)
        ;

        
    
    
            var marker_03de5208d20257c6f57593fc6c6ee914 = L.marker(
                [51.1843856, 4.41993868786375],
                {}
            ).addTo(map_7f26672fdaab44f9e6b22c190552c9a5);
        
    
        var popup_900ad9169e74700e0f814834b620cb77 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2ee9da93d61d8cff3c8284fb9ddcdf56 = $(`<div id=&quot;html_2ee9da93d61d8cff3c8284fb9ddcdf56&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>University of Antwerp</div>`)[0];
                popup_900ad9169e74700e0f814834b620cb77.setContent(html_2ee9da93d61d8cff3c8284fb9ddcdf56);
            
        

        marker_03de5208d20257c6f57593fc6c6ee914.bindPopup(popup_900ad9169e74700e0f814834b620cb77)
        ;

        
    
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
</section>
<section id="table-joins" class="level2">
<h2 class="anchored" data-anchor-id="table-joins">Table joins</h2>
<section id="attribute-join" class="level3">
<h3 class="anchored" data-anchor-id="attribute-join">Attribute join</h3>
<p>여러 데이터프레임의 정보를 공유 인덱스로 결합하기 위해 <code>pd.DataFrame.join()</code>을 사용하는 방법을 이미 알고 계실 것입니다. 인덱스에서 일치하는 값을 단순화하여 데이터를 조인하는 이 방법을 특성 조인이라고 합니다.</p>
<p>지오데이터프레임으로 특성 조인을 수행할 때는 <code>gpd.GeoDataFrame.merge()</code>를 사용하는 것이 가장 좋습니다. 이를 설명하기 위해 유럽의 모든 국가에 대한 경계가 포함된 GeoDataFrame europe_boundaries로 작업해 보겠습니다. 이 GeoDataFrame의 처음 다섯 행은 아래에 인쇄되어 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(gpd.datasets.get_path(<span class="st">'naturalearth_lowres'</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> world.loc[world.continent <span class="op">==</span> <span class="st">'Europe'</span>].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>europe_stats <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"pop_est"</span>, <span class="st">"gdp_md_est"</span>]]</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>europe_boundaries <span class="op">=</span> europe[[<span class="st">"name"</span>, <span class="st">"geometry"</span>]]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>europe_boundaries.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name                                           geometry
0   Russia  MULTIPOLYGON (((180.00000 71.51571, 180.00000 ...
1   Norway  MULTIPOLYGON (((15.14282 79.67431, 15.52255 80...
2   France  MULTIPOLYGON (((-51.65780 4.15623, -52.24934 3...
3   Sweden  POLYGON ((11.02737 58.85615, 11.46827 59.43239...
4  Belarus  POLYGON ((28.17671 56.16913, 29.22951 55.91834...</code></pre>
</div>
</div>
<p>각 국가의 예상 인구와 국내총생산(GDP)을 포함하는 데이터 프레임 europe_stats와 결합합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>europe_stats.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name      pop_est  gdp_md_est
0   Russia  144373535.0     1699876
1   Norway    5347896.0      403336
2   France   67059887.0     2715518
3   Sweden   10285453.0      530883
4  Belarus    9466856.0       63080</code></pre>
</div>
</div>
<p>아래 코드 셀에서 Attribute join을 수행합니다. <code>on</code> 인수는 <code>europe_boundaries</code>의 행을 <code>europe_stats</code> 행에 일치시키는 데 사용되는 열 이름으로 설정됩니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an attribute join to merge data about countries in Europe</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>europe <span class="op">=</span> europe_boundaries.merge(europe_stats, on<span class="op">=</span><span class="st">"name"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>europe.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      name  ... gdp_md_est
0   Russia  ...    1699876
1   Norway  ...     403336
2   France  ...    2715518
3   Sweden  ...     530883
4  Belarus  ...      63080

[5 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="spatial-join" class="level2">
<h2 class="anchored" data-anchor-id="spatial-join">Spatial join</h2>
<p>또 다른 조인 유형은 spatial join입니다. spatial join을 사용하면 ‘geometry’ 열에 있는 개체 간의 공간 관계를 기반으로 지오데이터 프레임을 결합합니다. 예를 들어, 유럽 대학의 지오코딩된 주소가 포함된 지오데이터 프레임 대학이 이미 있습니다.</p>
<p>그런 다음 spatial join을 사용하여 각 대학을 해당 국가에 일치시킬 수 있습니다. 이 작업은 <code>gpd.sjoin()</code>을 사용하여 수행합니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use spatial join to match universities to countries in Europe</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities = gpd.sjoin(universities, europe)</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the result</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#print("We located {} universities.".format(len(universities)))</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print("Only {} of the universities were located in Europe (in {} different countries).".format(</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#len(european_universities), len(european_universities.name.unique())))</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#european_universities.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>위의 spatial join은 두 지오데이터 프레임의 “geometry” 열을 살펴봅니다. 대학교 GeoDataFrame의 Point 개체가 유럽 데이터 프레임의 다각형 개체와 교차하는 경우, 해당 행이 결합되어 유럽_대학 데이터 프레임의 단일 행으로 추가됩니다. 그렇지 않으면 일치하는 대학이 없는 국가(및 일치하는 국가가 없는 대학)는 결과에서 생략됩니다.</p>
<p><code>gpd.sjoin()</code> 메서드는 <code>how</code> 및 <code>op</code> 인수를 통해 다양한 조인 유형에 맞게 사용자 지정할 수 있습니다. 예를 들어, how=‘left’(또는 how=‘right’)를 설정하여 SQL LEFT(또는 RIGHT) 조인과 동등한 작업을 수행할 수 있습니다.</p>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<section id="introduction-1" class="level3">
<h3 class="anchored" data-anchor-id="introduction-1">Introduction</h3>
<p>You are a Starbucks big data analyst (that’s a real job!) looking to find the next store into a Starbucks Reserve Roastery. These roasteries are much larger than a typical Starbucks store and have several additional features, including various food and wine options, along with upscale lounge areas. You’ll investigate the demographics of various counties in the state of California, to determine potentially suitable locations.</p>
</section>
<section id="geocode-the-missing-locations." class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-missing-locations.">Geocode the missing locations.</h3>
<p>Run the next code cell to create a DataFrame starbucks containing Starbucks locations in the state of California.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/starbucks_locations.csv"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>starbucks.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Store Number               Store Name  ... Longitude Latitude
0  10429-100710       Palmdale &amp; Hwy 395  ...   -117.40    34.51
1       635-352    Kanan &amp; Thousand Oaks  ...   -118.76    34.16
2   74510-27669  Vons-Agoura Hills #2001  ...   -118.76    34.15
3  29839-255026    Target Anaheim T-0677  ...   -117.75    33.87
4  23463-230284   Safeway - Alameda 3281  ...   -122.28    37.79

[5 rows x 6 columns]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many rows in each column have missing values?</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(starbucks.isnull().<span class="bu">sum</span>())</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View rows with missing locations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Store Number    0
Store Name      0
Address         0
City            0
Longitude       5
Latitude        5
dtype: int64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>rows_with_missing <span class="op">=</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">"Berkeley"</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>rows_with_missing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Store Number                Store Name  ... Longitude Latitude
153      5406-945  2224 Shattuck - Berkeley  ...       NaN      NaN
154       570-512                Solano Ave  ...       NaN      NaN
155  17877-164526   Safeway - Berkeley #691  ...       NaN      NaN
156  19864-202264         Telegraph &amp; Ashby  ...       NaN      NaN
157     9217-9253           2128 Oxford St.  ...       NaN      NaN

[5 rows x 6 columns]</code></pre>
</div>
</div>
<p>Use the code cell below to fill in these values with the Nominatim geocoder.</p>
<p>Note that in the tutorial, we used Nominatim() (from geopy.geocoders) to geocode values, and this is what you can use in your own projects outside of this course.</p>
<p>In this exercise, you will use a slightly different function Nominatim() (from learntools.geospatial.tools). This function was imported at the top of the notebook and works identically to the function from GeoPandas.</p>
<p>So, in other words, as long as:</p>
<p>you don’t change the import statements at the top of the notebook, and you call the geocoding function as geocode() in the code cell below, your code will work as intended!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>geolocator <span class="op">=</span> Nominatim(user_agent<span class="op">=</span><span class="st">"kaggle_learn"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_geocoder(row):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    point <span class="op">=</span> geolocator.geocode(row).point</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series({<span class="st">'Latitude'</span>: point.latitude, <span class="st">'Longitude'</span>: point.longitude})</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>berkeley_locations <span class="op">=</span> rows_with_missing.<span class="bu">apply</span>(<span class="kw">lambda</span> x: my_geocoder(x[<span class="st">'Address'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>starbucks.update(berkeley_locations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="view-berkeley-locations" class="level3">
<h3 class="anchored" data-anchor-id="view-berkeley-locations">View Berkeley locations</h3>
<p>Let’s take a look at the locations you just found. Visualize the (latitude, longitude) locations in Berkeley in the OpenStreetMap style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>m_2 <span class="op">=</span> folium.Map(location<span class="op">=</span>[<span class="fl">37.88</span>,<span class="op">-</span><span class="fl">122.26</span>], zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a marker for each Berkeley location</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> starbucks[starbucks[<span class="st">"City"</span>]<span class="op">==</span><span class="st">'Berkeley'</span>].iterrows():</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    Marker([row[<span class="st">'Latitude'</span>], row[<span class="st">'Longitude'</span>]]).add_to(m_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;folium.map.Marker object at 0x0000021460D5B590&gt;
&lt;folium.map.Marker object at 0x0000021460D58510&gt;
&lt;folium.map.Marker object at 0x0000021467E3FC50&gt;
&lt;folium.map.Marker object at 0x0000021467D09150&gt;
&lt;folium.map.Marker object at 0x0000021467D09310&gt;</code></pre>
</div>
</div>
</section>
<section id="consolidate-your-data" class="level3">
<h3 class="anchored" data-anchor-id="consolidate-your-data">Consolidate your data</h3>
<p>Run the code below to load a GeoDataFrame CA_counties containing the name, area (in square kilometers), and a unique id (in the “GEOID” column) for each county in the state of California. The “geometry” column contains a polygon with county boundaries.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>CA_counties <span class="op">=</span> gpd.read_file(<span class="st">"C:/archive/CA_county_boundaries/CA_county_boundaries/CA_county_boundaries.shp"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>CA_counties.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>CA_counties.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   GEOID  ...                                           geometry
0   6091  ...  POLYGON ((-120.65560 39.69357, -120.65554 39.6...
1   6067  ...  POLYGON ((-121.18858 38.71431, -121.18732 38.7...
2   6083  ...  MULTIPOLYGON (((-120.58191 34.09856, -120.5822...
3   6009  ...  POLYGON ((-120.63095 38.34111, -120.63058 38.3...
4   6111  ...  MULTIPOLYGON (((-119.63631 33.27304, -119.6360...

[5 rows x 4 columns]</code></pre>
</div>
</div>
<p>Next, we create three DataFrames:</p>
<ul>
<li><p><code>CA_pop</code> contains an estimate of the population of each county.</p></li>
<li><p><code>CA_high_earners</code> contains the number of households with an income of at least $150,000 per year.</p></li>
<li><p><code>CA_median_age</code> contains the median age for each county.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>CA_pop <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_population.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>CA_high_earners <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_high_earners.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>CA_median_age <span class="op">=</span> pd.read_csv(<span class="st">"C:/archive/CA_county_median_age.csv"</span>, index_col<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use the next code cell to join the <code>CA_counties</code> GeoDataFrame with <code>CA_pop</code>, <code>CA_high_earners</code>, and <code>CA_median_age</code>.</p>
<p>Name the resultant GeoDataFrame <code>CA_stats</code>, and make sure it has 8 columns: “GEOID”, “name”, “area_sqkm”, “geometry”, “population”, “high_earners”, and “median_age”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cols_to_add <span class="op">=</span> CA_pop.join([CA_high_earners, CA_median_age]).reset_index()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>CA_stats <span class="op">=</span> CA_counties.merge(cols_to_add, on<span class="op">=</span><span class="st">"GEOID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>CA_stats[<span class="st">"density"</span>] <span class="op">=</span> CA_stats[<span class="st">"population"</span>] <span class="op">/</span> CA_stats[<span class="st">"area_sqkm"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="which-counties-look-promising" class="level3">
<h3 class="anchored" data-anchor-id="which-counties-look-promising">Which counties look promising?</h3>
<p>Collapsing all of the information into a single GeoDataFrame also makes it much easier to select counties that meet specific criteria.</p>
<p>Use the next code cell to create a GeoDataFrame <code>sel_counties</code> that contains a subset of the rows (and all of the columns) from the <code>CA_stats</code> GeoDataFrame. In particular, you should select counties where:</p>
<ul>
<li><p>there are at least 100,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 38.5, and</p></li>
<li><p>the density of inhabitants is at least 285 (per square kilometer).</p></li>
</ul>
<p>Additionally, selected counties should satisfy at least one of the following criteria:</p>
<ul>
<li><p>there are at least 500,000 households making $150,000 per year,</p></li>
<li><p>the median age is less than 35.5, or</p></li>
<li><p>the density of inhabitants is at least 1400 (per square kilometer).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sel_counties <span class="op">=</span> CA_stats[((CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">100000</span>) <span class="op">&amp;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.median_age <span class="op">&lt;</span> <span class="fl">38.5</span>) <span class="op">&amp;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">285</span>) <span class="op">&amp;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                         ((CA_stats.median_age <span class="op">&lt;</span> <span class="fl">35.5</span>) <span class="op">|</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.density <span class="op">&gt;</span> <span class="dv">1400</span>) <span class="op">|</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                         (CA_stats.high_earners <span class="op">&gt;</span> <span class="dv">500000</span>)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-many-stores-did-you-identify" class="level3">
<h3 class="anchored" data-anchor-id="how-many-stores-did-you-identify">How many stores did you identify?</h3>
<p>When looking for the next Starbucks Reserve Roastery location, you’d like to consider all of the stores within the counties that you selected. So, how many stores are within the selected counties?</p>
<p>To prepare to answer this question, run the next code cell to create a GeoDataFrame <code>starbucks_gdf</code> with all of the starbucks locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>starbucks_gdf <span class="op">=</span> gpd.GeoDataFrame(starbucks, geometry<span class="op">=</span>gpd.points_from_xy(starbucks.Longitude, starbucks.Latitude))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>starbucks_gdf.crs <span class="op">=</span> {<span class="st">'init'</span>: <span class="st">'epsg:4326'</span>}</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co">#num_stores = len(locations_of_interest)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-the-store-locations." class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-store-locations.">Visualize the store locations.</h3>
<p>Create a map that shows the locations of the stores that you identified in the previous question.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6 = folium.Map(location=[37,-120], zoom_start=6)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mc = MarkerCluster()</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#locations_of_interest = gpd.sjoin(starbucks_gdf, sel_counties)</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for idx, row in locations_of_interest.iterrows():</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    if not math.isnan(row['Longitude']) and not math.isnan(row['Latitude']):</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#        mc.add_child(folium.Marker([row['Latitude'], row['Longitude']]))</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#m_6.add_child(mc)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
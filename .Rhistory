table2 %>% pivot_wider(names_from = type, values_from = count)
table2
table2 %>% pivot_wider(names_from = type, values_from = count)
table4a
table4b
table4a
table4b
table4a %>% left_join(table4b,by = country)
table4a %>% left_join(table4b,by = table4a$country)
table4a %>% left_join(table4b)
table2
table2 %>% pivot_wider(names_from = type, values_from = count)
#table1
table2
table4a %>% left_join(table4b,by = country)
table4a %>% left_join(table4b,by = table4a$country)
table4a
table4b
table4a %>% left_join(table4b,by = c(country,year))
table4a %>% left_join(table4b,by = c("country","year"))
table4a %>% left_join(table4b,by = c("country"))
table4a %>% left_join(table4b,by = "country")
table4a %>% left_join(table4b,by = c("country","year"))
table4a %>% inner_join(table4b,by = c("country","year"))
table4a %>% inner_join(table4b,by = "country")
data_file <- read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/ncdc_normals.csv")
rm(list = ls())
library(ggplot2)
library(dplyr)
library(ggrepel)
library(cowplot)
library(colorspace)
library(stringr)
data_file <- read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/ncdc_normals.csv")
data_file <- read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/ncdc_normals.csv")
data_file <- read.csv("ncdc_normals.csv")
data_file <- read.csv("ncdc_normals.csv")
data_file <- read.csv("/ncdc_normals.csv")
data_file <- read.csv("/ncdc_normals.csv")
data_file <- read.csv("C:/sanai_sungil/posts/vis/ncdc_normals.csv")
data_file <- read.csv("ncdc_normals.csv")
data_file <- read.csv("C:/sanai_sungil/posts/vis/ncdc_normals.csv")
library(dplyr)
reticulate::repl_python()
import numpy as np
import cv2
import matplotlib.pyplot as plt
img_raw = cv2.imread("https://raw.githubusercontent.com/Sungileo/trainsets/main/lena_color.png")
View(img_raw)
```{python}
lena_gray = cv2.cvtColor(lena_raw,cv2.COLOR_BGR2GRAY)
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
img_raw = cv2.imread("https://raw.githubusercontent.com/Sungileo/trainsets/main/lena_color.png")
img_raw
img_raw
img_raw
`
img_raw
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
plt.imshow(img_raw)
img_raw = cv2.imread("lena_color.png")
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
plt.imshow(lena_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.show()
plt.imshow(img_gray,"gray")
plt.show()
quit
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv", encoding = "cp949")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv", encoding = "cp-949")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv",encoding = "UTF-8")
View(acc_death)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% View()
#install.packages("dplyr")   설치는 한번만
library(dplyr)
acc_death %>% View()
acc_death %>% head()
acc_death %>% head(6)
acc_death %>% tail(6)
acc_death %>% str()
acc_death %>% dim()
acc_death$발생년월일시 %>% as.Date(format = %Y %m %d)
acc_death$발생년월일시 %>% as.Date(format = %Y-%m-%d)
acc_death$발생년월일시 %>% as.Date()
acc_death$발생년월일시 %>% as.Date() %>% str()
acc_death$발생년월일시 %>% as.Date() %>% as.character(%Y)
acc_death$발생년월일시 %>% as.Date() %>% as.character("%Y")
acc_death$발생년월일시 %>% as.Date() %>% as.character("%Y","%m")
acc_death$발생년월일시 %>% as.Date() %>% as.character(c("%Y","%m"))
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.Date()
acc_death %>% str()
library(dplyr)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% head()
acc_death$발생년월일시 %>% as.POSIXct()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M")
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% srr()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% str()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% as.character("%H")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.numeric("%H")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H:%M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H %M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>% as.numeric()
acc_death$hhmm < -acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d")
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.POSIXct()
acc_death$yyyymmdd <- as.character("%Y%m%d") %>% as.numeric()
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.POSIXct()
acc_death %>% str()
acc_death$yyyymmdd <- as.character("%Y%m%d") %>% as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
library(dplyr)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% head()
acc_death %>% head(6)
acc_death %>% tail(6)
acc_death %>% str()
acc_death %>% dim()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
lapply(acc_death[,5:9],sum)
acc_death %>% group_by(yyyymmdd) %>%
summarize(death_count = n())
acc_death %>% group_by(yyyymmdd) %>%
summarize(death_count = n()) %>%
arrange(desc(death_count))
table(acc_death$주야)
View(acc_death)
acc_death %>% filter(발생지시도=="대전")
acc_death %>% filter(발생지시도=="대전") %>% count()
acc_death %>%
group_by(발생지시도) %>%
summarize(death_count = n())
acc_death %>%
group_by(발생지시도) %>%
summarize(death_count = n()) %>%
arrange(desc(death_count))
acc_death %>% group_by(요일) %>%
summarize(count = n())
acc_death %>% group_by(요일) %>%
summarize(count = n()) %>%
arrange(desc(count))
acc_death %>% group_by(발생년월일시 %>% as.character("%m"))
acc_death %>% group_by(발생년월일시 %>% as.character("%m")) %>%
summarise(n = n())
acc_death$요일 %>% table()
table(substr(acc_death$yyyymmdd,5,6))
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n(),
비율 = 건수/sum(n))
비율 = n(/sum(n))
비율 = n()/sum(n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n()) %>%
mutate(비율 = 건수/sum(건수))
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n()) %>%
mutate(비율 = 건수/sum(건수)*100)
acc_death %>% filter(도로형태=="교차로내")
acc_death %>% filter(도로형태=="교차로내") %>% count()
acc_death %>% filter(가해자_당사자종별=="화물차")
filter(acc_death,가해자_당사자종별=="화물차")
filter(acc_death,가해자_당사자종별=="화물차") %>% count()
filter(acc_death,가해자_당사자종별=="화물차") %>% count()/nrow(acc_death)
count(filter(acc_death,가해자_당사자종별=="화물차"))/nrow(acc_death)
count(filter(acc_death,가해자_당사자종별=="화물차"))/nrow(acc_death) * 100
acc_death %>% filter(가해자_당사자종별=="화물차")
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(n= n())
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(건수= n())
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(hhmm))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>% filter(가해자_당사자종별=="화물차"&피해자_당사자종별=="보행자")
acc_death %>% filter(가해자_당사자종별=="화물차"&피해자_당사자종별=="보행자") %>% count()
acc_death %>%
filter(가해자_당사자종별=="화물차" & 피해자_당사자종별=="보행자") %>%
count()
acc_death %>% filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차")
acc_death %>% filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>% count()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
count()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6))
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n()) %>%
plot()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n()) %>%
plot(main = "월별 이륜차 사고 건수",
xlab = "2021년 월",
ylab = "이륜차 사고 건수(월별)",
ylim = c(0,80),
type = "o",
col = "red")
library(ggplot2)
d <- acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
d
d %>% colnames(c(month,n))
d %>% colnames(c("month","n"))
d %>% colnames(c("month","n"))
d %>% colnames()
colnames(d)
colnames(d) <- c("month", "n")
colnames(d)
d %>% ggplot(aes(x = month, y= n))
d %>% ggplot(aes(x = month, y= n))+
geom_line()
d %>% ggplot(aes(x = month, y= n))+
geom_hline()
d %>% ggplot(aes(x = month, y= n))+
geom_histogram()
d %>% ggplot(aes(x = month, y= n))+
geom_bar()
d %>% ggplot(aes(x = month, y= n))+
geom_abline()
d %>% ggplot(aes(x = month, y= n))+
geom_point()
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line()
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line(mapping = aes())
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% str()
d$month <- d$month %>% as.numeric()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(labels = "ss")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(title = "x")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(0m80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(0,80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1)
name = "2021년 월")+
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
coord_polar()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
axis.title.y = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x =  = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x =element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.grid = element_blank())

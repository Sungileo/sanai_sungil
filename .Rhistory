img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
img_raw = cv2.imread("https://raw.githubusercontent.com/Sungileo/trainsets/main/lena_color.png")
img_raw
img_raw
img_raw
`
img_raw
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
plt.imshow(img_raw)
img_raw = cv2.imread("lena_color.png")
img_gray = cv2.cvtColor(img_raw,cv2.COLOR_BGR2GRAY)
plt.imshow(lena_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.imshow(img_gray,"gray")
plt.show
plt.show()
plt.imshow(img_gray,"gray")
plt.show()
quit
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv", encoding = "cp949")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv", encoding = "cp-949")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv",encoding = "UTF-8")
View(acc_death)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% View()
#install.packages("dplyr")   설치는 한번만
library(dplyr)
acc_death %>% View()
acc_death %>% head()
acc_death %>% head(6)
acc_death %>% tail(6)
acc_death %>% str()
acc_death %>% dim()
acc_death$발생년월일시 %>% as.Date(format = %Y %m %d)
acc_death$발생년월일시 %>% as.Date(format = %Y-%m-%d)
acc_death$발생년월일시 %>% as.Date()
acc_death$발생년월일시 %>% as.Date() %>% str()
acc_death$발생년월일시 %>% as.Date() %>% as.character(%Y)
acc_death$발생년월일시 %>% as.Date() %>% as.character("%Y")
acc_death$발생년월일시 %>% as.Date() %>% as.character("%Y","%m")
acc_death$발생년월일시 %>% as.Date() %>% as.character(c("%Y","%m"))
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.Date()
acc_death %>% str()
library(dplyr)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% head()
acc_death$발생년월일시 %>% as.POSIXct()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M")
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% srr()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% str()
acc_death$발생년월일시 %>% as.POSIXct(format = "%Y-%m-%d %H:%M") %>% as.character("%H")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.numeric("%H")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H:%M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H %M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M")
acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>% as.numeric()
acc_death$hhmm < -acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d")
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.POSIXct()
acc_death$yyyymmdd <- as.character("%Y%m%d") %>% as.numeric()
acc_death$발생년월일시 <- acc_death$발생년월일시 %>% as.POSIXct()
acc_death %>% str()
acc_death$yyyymmdd <- as.character("%Y%m%d") %>% as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
library(dplyr)
acc_death = read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/acc_death.csv")
acc_death %>% head()
acc_death %>% head(6)
acc_death %>% tail(6)
acc_death %>% str()
acc_death %>% dim()
acc_death$yyyymmdd <- acc_death$발생년월일시 %>%
as.POSIXct() %>%
as.character("%Y%m%d") %>%
as.numeric()
acc_death$hhmm <- acc_death$발생년월일시 %>%
as.POSIXct(format = "%Y-%m-%d %H:%M") %>%
as.character("%H%M") %>%
as.numeric()
acc_death %>% str()
lapply(acc_death[,5:9],sum)
acc_death %>% group_by(yyyymmdd) %>%
summarize(death_count = n())
acc_death %>% group_by(yyyymmdd) %>%
summarize(death_count = n()) %>%
arrange(desc(death_count))
table(acc_death$주야)
View(acc_death)
acc_death %>% filter(발생지시도=="대전")
acc_death %>% filter(발생지시도=="대전") %>% count()
acc_death %>%
group_by(발생지시도) %>%
summarize(death_count = n())
acc_death %>%
group_by(발생지시도) %>%
summarize(death_count = n()) %>%
arrange(desc(death_count))
acc_death %>% group_by(요일) %>%
summarize(count = n())
acc_death %>% group_by(요일) %>%
summarize(count = n()) %>%
arrange(desc(count))
acc_death %>% group_by(발생년월일시 %>% as.character("%m"))
acc_death %>% group_by(발생년월일시 %>% as.character("%m")) %>%
summarise(n = n())
acc_death$요일 %>% table()
table(substr(acc_death$yyyymmdd,5,6))
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n(),
비율 = 건수/sum(n))
비율 = n(/sum(n))
비율 = n()/sum(n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n())
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n()) %>%
mutate(비율 = 건수/sum(건수))
acc_death %>% group_by(사고유형) %>%
summarize(건수 = n()) %>%
mutate(비율 = 건수/sum(건수)*100)
acc_death %>% filter(도로형태=="교차로내")
acc_death %>% filter(도로형태=="교차로내") %>% count()
acc_death %>% filter(가해자_당사자종별=="화물차")
filter(acc_death,가해자_당사자종별=="화물차")
filter(acc_death,가해자_당사자종별=="화물차") %>% count()
filter(acc_death,가해자_당사자종별=="화물차") %>% count()/nrow(acc_death)
count(filter(acc_death,가해자_당사자종별=="화물차"))/nrow(acc_death)
count(filter(acc_death,가해자_당사자종별=="화물차"))/nrow(acc_death) * 100
acc_death %>% filter(가해자_당사자종별=="화물차")
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(n= n())
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(건수= n())
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(가해자법규위반) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(hhmm))
acc_death %>%
filter(가해자_당사자종별=="화물차") %>%
group_by(hhmm) %>%
summarize(건수= n()) %>%
arrange(desc(건수))
acc_death %>% filter(가해자_당사자종별=="화물차"&피해자_당사자종별=="보행자")
acc_death %>% filter(가해자_당사자종별=="화물차"&피해자_당사자종별=="보행자") %>% count()
acc_death %>%
filter(가해자_당사자종별=="화물차" & 피해자_당사자종별=="보행자") %>%
count()
acc_death %>% filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차")
acc_death %>% filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>% count()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
count()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6))
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n()) %>%
plot()
acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n()) %>%
plot(main = "월별 이륜차 사고 건수",
xlab = "2021년 월",
ylab = "이륜차 사고 건수(월별)",
ylim = c(0,80),
type = "o",
col = "red")
library(ggplot2)
d <- acc_death %>%
filter(가해자_당사자종별=="이륜차"|피해자_당사자종별=="이륜차") %>%
group_by(substr(yyyymmdd,5,6)) %>%
summarize(n=n())
d
d %>% colnames(c(month,n))
d %>% colnames(c("month","n"))
d %>% colnames(c("month","n"))
d %>% colnames()
colnames(d)
colnames(d) <- c("month", "n")
colnames(d)
d %>% ggplot(aes(x = month, y= n))
d %>% ggplot(aes(x = month, y= n))+
geom_line()
d %>% ggplot(aes(x = month, y= n))+
geom_hline()
d %>% ggplot(aes(x = month, y= n))+
geom_histogram()
d %>% ggplot(aes(x = month, y= n))+
geom_bar()
d %>% ggplot(aes(x = month, y= n))+
geom_abline()
d %>% ggplot(aes(x = month, y= n))+
geom_point()
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line()
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line(mapping = aes())
d %>% ggplot(aes(x = month, y= n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% str()
d$month <- d$month %>% as.numeric()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(mapping = aes(month,n))
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(labels = "ss")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(title = "x")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(0m80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(0,80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1)
name = "2021년 월")+
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
coord_polar()
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
axis.title.y = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x =  = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x =element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid = element_blank())
d %>% ggplot(aes(month,n))+
geom_point()+
geom_line(color = "red")+
scale_x_continuous(breaks = seq(1,12,1),
name = "2021년 월")+
scale_y_continuous(limits = c(10,80),
breaks = seq(10,80,5),
name = "이륜차 사고 건수(월별)")+
theme_light()+
theme(panel.grid = element_blank())
kor_202202 <- read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/202202_%EC%A3%BC%EB%AF%BC%EB%93%B1%EB%A1%9D%EC%9D%B8%EA%B5%AC%EB%B0%8F%EC%84%B8%EB%8C%80%ED%98%84%ED%99%A9.csv")
kor_202202 %>% head()
rm(list = ls())
library(ggplot2)
library(dplyr)
library(ggrepel)
library(cowplot)
library(colorspace)
library(stringr)
kor_202202 <- read.csv("https://raw.githubusercontent.com/Sungileo/trainsets/main/202202_%EC%A3%BC%EB%AF%BC%EB%93%B1%EB%A1%9D%EC%9D%B8%EA%B5%AC%EB%B0%8F%EC%84%B8%EB%8C%80%ED%98%84%ED%99%A9.csv")
kor_202202 %>% head()
kor_202202 %>% sapply(class)
kor_202202$행정구역_코드 <- kor_202202$행정구역_코드 %>% format() #numeric to string
kor_202202 %>% head()
kor_202202_use <- kor_202202 %>%
filter(substr(행정구역,1,2) %in% c("서울","대전","대구","부산")) %>%
filter(substr(행정구역_코드,3,4)!="00") %>%
select(행정구역,총인구수) %>%
arrange(총인구수)
kor_202202_use <- kor_202202 %>%
filter(substr(행정구역,1,2) %in% c("서울","대전","대구","부산")) %>%
filter(substr(행정구역_코드,3,4)!="00") %>%
select(행정구역,총인구수) %>%
arrange(총인구수)
kor_202202_use$시도 = sapply(kor_202202_use$행정구역,
function(x) strsplit(x, " ")[[1]][1])
kor_202202_use$시도 = factor(kor_202202_use$시도,
levels = c("서울특별시","대전광역시","대구광역시","부산광역시"))
kor_202202_use %>% head()
kor_202202_use %>% summary()
region_colors <- c("#E69F00","#56B4E9","#009E73","#F0E442")
region_colors_2 <- RColorBrewer::brewer.pal(4,"Set2")
ggplot(kor_202202_use,aes(x = reorder(행정구역, 총인구수),y= 총인구수, fill = 시도))+
geom_col()+
scale_y_continuous(name = "총인구수, 2022년 2월",
expand = c(0,0),
labels = scales::comma)+
scale_fill_manual(values = region_colors_2)+
coord_flip()+
theme_light()+
theme(panel.border = element_blank(),
panel.grid.major.y = element_blank())+
theme(axis.title.y = element_blank(),
axis.line.y = element_blank(),
axis.ticks.length = unit(0,"pt"),
axis.text.y = element_text(size = 8),legend.position = c(.78,.28),legend.background = element_rect(fill = "#FFFFFFB0"))
kor_202202_use$시도 = sapply(kor_202202_use$행정구역,
function(x) strsplit(x, " ")[[1]][1])
kor_202202_use$시도 = factor(kor_202202_use$시도,
levels = c("서울특별시","대전광역시","대구광역시","부산광역시"))
kor_202202_use %>% View()
